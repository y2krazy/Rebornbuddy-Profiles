<?xml version="1.0" encoding="utf-8"?>
<!--
##################################
# Profile: [O] [MSQ] Heavensward #
##################################
# Author: y2krazy                #
##################################
# Version: 3.1.1                 #
##################################
# Required Level: 50+            #
##################################
# Required Setup:                #
#  None                          #
##################################
# Required User Interaction:     #
#  11 Duty Finder Queues         #
#  4 Solo Duties                 #
##################################
-->
<Profile>
    <Name>[O] [MSQ] Heavensward (v3.1.1)</Name>
    <BehaviorDirectory>../Quest Behaviors</BehaviorDirectory>
    <KillRadius>90</KillRadius>
    <Order>

        <BotSettings AutoEquip="1"/>

        <If Condition="not IsQuestCompleted(65964)">
            <LogMessage Message="[Pre-Requisite Check] You haven't completed the Before the Fall quest yet!"/>
            <LogMessage Message="[Pre-Requisite Check] Loading the A Realm Reborn profile..."/>
            <LoadProfile Path="[O] [MSQ] A Realm Reborn (Immortal Flames).xml"/>
        </If>

        <If Condition="(ClassName != ClassJobType.Astrologian) and (ClassName != ClassJobType.Bard) and (ClassName != ClassJobType.BlackMage) and (ClassName != ClassJobType.DarkKnight) and (ClassName != ClassJobType.Dragoon) and (ClassName != ClassJobType.Machinist) and (ClassName != ClassJobType.Monk) and (ClassName != ClassJobType.Ninja) and (ClassName != ClassJobType.Paladin) and (ClassName != ClassJobType.RedMage) and (ClassName != ClassJobType.Scholar) and (ClassName != ClassJobType.Samurai) and (ClassName != ClassJobType.Summoner) and (ClassName != ClassJobType.Warrior) and (ClassName != ClassJobType.WhiteMage)">
            <LogMessage Message="[Job Check] You do not have a job assigned on your character."/>
            <LogMessage Message="[Job Check] Equipping your Soul Crystal now..."/>
            <If Condition="ClassName == ClassJobType.Archer">
                <RunCode Name="EquipBRDCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Thaumaturge">
                <RunCode Name="EquipBLMCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Lancer">
                <RunCode Name="EquipDRGCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Pugilist">
                <RunCode Name="EquipMNKCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Rogue">
                <RunCode Name="EquipNINCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Gladiator">
                <RunCode Name="EquipPLDCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Arcanist">
                <RunCode Name="EquipSCHCrystal"/>
                <WaitTimer WaitTime="3"/>
                <RunCode Name="EquipSMNCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Marauder">
                <RunCode Name="EquipWARCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Conjurer">
                <RunCode Name="EquipWHMCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="(ClassName != ClassJobType.Bard) and (ClassName != ClassJobType.BlackMage) and (ClassName != ClassJobType.Dragoon) and (ClassName != ClassJobType.Monk) and (ClassName != ClassJobType.Ninja) and (ClassName != ClassJobType.Paladin) and (ClassName != ClassJobType.Scholar) and (ClassName != ClassJobType.Summoner) and (ClassName != ClassJobType.Warrior) and (ClassName != ClassJobType.WhiteMage)">
                <LogMessage Message="[Job Check] You do not have the proper Soul Crystal in your Armoury or Inventory."/>
                <LogMessage Message="[Job Check] Loading the Class and Job Quests profile..."/>
                <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
            </If>
        </If>

        <LogMessage Message="[Heavensward] Checking level 50 quests..."/>

        <!-- [Pickup Quests] -->

        <!-- Coming to Ishgard -->
        <If Condition="not IsQuestCompleted(67116)">
            <If Condition="not HasQuest(67116)">
                <If Condition="not IsOnMap(155) and not IsOnMap(395)">
                    <GetTo ZoneId="155" XYZ="264.9119, 302.2624, -223.7126"/> <!-- House Fortemps Guard -->
                </If>
                <If Condition="IsOnMap(155)">
                    <UseTransport Name="House Fortemps Guard" InteractDistance="3.0" NpcId="1009973" XYZ="264.9119, 302.2624, -223.7126"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="-1.419189, 0.01498272, -0.07635498"/>
                <If Condition="IsQuestAcceptQualified(67116)">
                    <PickupQuest NpcId="1010925" QuestId="67116" XYZ="-1.419189, 0.01498272, -0.07635498"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67116)">
                <If Condition="GetQuestStep(67116) == 1">
                    <If Condition="not IsOnMap(155) and not IsOnMap(395)">
                        <GetTo ZoneId="155" XYZ="264.9119, 302.2624, -223.7126"/> <!-- House Fortemps Guard -->
                    </If>
                    <If Condition="IsOnMap(155)">
                        <UseTransport Name="House Fortemps Guard" InteractDistance="3.0" NpcId="1009973" XYZ="264.9119, 302.2624, -223.7126"/>
                    </If>
                    <MoveTo Name="Haurchefant" XYZ="-3.128174, 7.450581E-09, 2.822876"/>
                    <TalkTo NpcId="1012308" XYZ="-3.128174, 7.450581E-09, 2.822876" QuestId="67116" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67116) == 2">
                    <If Condition="not IsOnMap(155) and not IsOnMap(395)">
                        <GetTo ZoneId="155" XYZ="-163.8972, 304.1538, -333.0587"/> <!-- Temple Knight Gateguard -->
                    </If>
                    <If Condition="IsOnMap(395)">
                        <UseTransport Name="Exit (Intercessory)" InteractDistance="3.0" NpcId="2004781" XYZ="-4, 1.2, 11"/>
                    </If>
                    <NoCombatMoveTo Name="Temple Knight Gateguard" XYZ="-163.8972, 304.1538, -333.0587"/>
                    <UseTransport Name="Temple Knight Gateguard" InteractDistance="3.0" NpcId="1012309" XYZ="-163.8972, 304.1538, -333.0587"/>
                </If>
                <If Condition="GetQuestStep(67116) == 3">
                    <WaitWhile Condition="GetQuestStep(67116) == 3"/>
                </If>
                <If Condition="GetQuestStep(67116) == 4">
                    <GetTo ZoneId="418" XYZ="-10.26941, 1.279128, 83.42102"/> <!-- House Fortemps Manservant -->
                    <TalkTo NpcId="1012310" XYZ="-10.26941, 1.279128, 83.42102" QuestId="67116" StepId="4"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67116) == 255">
                    <If Condition="not IsOnMap(418)">
                        <GetTo ZoneId="418" XYZ="-35.43415, 5.474271, 45.84561"/> <!-- Foundation Aetheryte -->
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(70)">
                        <LogMessage Message="[Heavensward] Attuning to the Foundation Aetheryte..."/>
                        <MoveTo Name="Foundation Aetheryte" XYZ="-35.43415, 5.474271, 45.84561"/>
                        <UseObject UseDistance="8.0" NpcId="70" XYZ="-63.98114, 11.1543, 43.9917" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Foundation as your Home Point..."/>
                        <UseTransport NpcId="70" UseTimes="1" DialogOption="1" BlacklistAfter="True" InteractDistance="10" XYZ="-63.98114, 11.1543, 43.9917" Radius="10" WaitTime="5000"/>
                    </If>
                    <GetTo ZoneId="419" XYZ="15.60992, 16.00967, -6.515625"/> <!-- Haurchefant -->
                    <TurnIn QuestId="67116" NpcId="1012313" XYZ="15.60992, 16.00967, -6.515625"/>
                    <WaitWhile Condition="not IsOnMap(433)"/>
                </If>
            </If>
        </If>
        <!-- Taking in the Sights -->
        <If Condition="not IsQuestCompleted(67117)">
            <If Condition="not HasQuest(67117)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="-0.2289429, 0, 7.339539"/>
                <If Condition="IsQuestAcceptQualified(67117)">
                    <PickupQuest NpcId="1013036" QuestId="67117" XYZ="-0.2289429, 0, 7.339539"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67117)">
                <If Condition="GetQuestStep(67117) == 1">
                    <GetTo ZoneId="419" XYZ="12.13086, 16.00967, -7.003906"/> <!-- House Fortemps Manservant -->
                    <TalkTo NpcId="1012316" XYZ="12.13086, 16.00967, -7.003906" QuestId="67117" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67117) == 2">
                    <GetTo ZoneId="419" XYZ="-4.379395, 27.75385, -148.272"/> <!-- House Fortemps Manservant -->
                    <TalkTo NpcId="1012317" XYZ="-4.379395, 27.75385, -148.272" QuestId="67117" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67117) == 3">
                    <GetTo ZoneId="419" XYZ="-174.1818, -12.55547, -21.56104"/> <!-- Elaisse -->
                    <TalkTo NpcId="1012180" XYZ="-174.1818, -12.55547, -21.56104" QuestId="67117" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67117) == 255">
                    <GetTo ZoneId="418" XYZ="-50.21753, 8.05915, 15.45734"/> <!-- House Fortemps Manservant -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Head
                    1: Dragoon Head
                    2: Monk Head
                    3: Ninja Head

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67117" NpcId="1012323" XYZ="-50.21753, 8.05915, 15.45734" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67117" NpcId="1012323" XYZ="-50.21753, 8.05915, 15.45734" />
                </If>
            </If>
        </If>
        <!-- The Better Half -->
        <If Condition="not IsQuestCompleted(67118)">
            <If Condition="not HasQuest(67118)">
                <GetTo ZoneId="418" XYZ="-50.21753, 8.05915, 15.45734"/> <!-- House Fortemps Manservant -->
                <If Condition="IsQuestAcceptQualified(67118)">
                    <PickupQuest NpcId="1012323" QuestId="67118" XYZ="-50.21753, 8.05915, 15.45734"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67118)">
                <If Condition="GetQuestStep(67118) == 1">
                    <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                    <TalkTo NpcId="1011192" XYZ="88.36499, 15.09468, 31.29626" QuestId="67118" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67118) == 2">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Count Edmont De Fortemps" XYZ="-0.01531982, 0.02225424, 3.707886"/>
                    <ExtendedTalkTo NpcId="1013033" XYZ="-0.01531982, 0.02225424, 3.707886" QuestId="67118" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67118) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>

                    <!-- Rewards

                    0: Bard/Machinist Head
                    1: White Mage/Scholoar/Astrologian Head
                    2: Black Mage/Summoner Head

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67118" NpcId="1013036" XYZ="-0.2289429, 0, 7.339539" RewardSlot="0" />

                    -->

                    <MoveTo Name="Alphinaud" XYZ="-0.2289429, 0, 7.339539"/>
                    <TurnIn QuestId="67118" NpcId="1013036" XYZ="-0.2289429, 0, 7.339539"/>
                </If>
            </If>
        </If>
        <!-- Onwards and Upwards -->
        <If Condition="not IsQuestCompleted(67126)">
            <If Condition="not HasQuest(67126)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <MoveTo Name="Emmanellain" XYZ="-7.309082, 0.003586963, -0.5036011"/>
                <If Condition="IsQuestAcceptQualified(67126)">
                    <PickupQuest NpcId="1012329" QuestId="67126" XYZ="-7.309082, 0.003586963, -0.5036011"/>
                </If>
            </If>
        </If>
        <!-- Over the Wall -->
        <If Condition="not IsQuestCompleted(67119)">
            <If Condition="not HasQuest(67119)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <NoCombatMoveTo Name="Artoirel" XYZ="1.754761, 0.003450237, -9.750549"/>
                <If Condition="IsQuestAcceptQualified(67119)">
                    <PickupQuest NpcId="1012328" QuestId="67119" XYZ="1.754761, 0.003450237, -9.750549"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67119)">
                <If Condition="GetQuestStep(67119) == 1">
                    <GetTo ZoneId="418" XYZ="-163.4394, 2.15106, -5.508545"/> <!-- Chocobokeep -->
                    <UseTransport Name="Falcon's Nest" InteractDistance="3.0" NpcId="1012331" XYZ="-163.4394, 2.15106, -5.508545"/>
                    <WaitWhile Condition="not IsOnMap(397)"/>
                </If>
                <If Condition="GetQuestStep(67119) == 3">
                    <If Condition="not IsOnMap(397)">
                        <GetTo ZoneId="418" XYZ="-163.4394, 2.15106, -5.508545"/> <!-- Chocobokeep -->
                        <RunCode Name="TravelToFalconsNest"/>
                    </If>
                    <NoCombatMoveTo Name="Artoirel" XYZ="481.4069, 225.0023, 793.1486"/>
                    <TalkTo NpcId="1012333" XYZ="481.4069, 225.0023, 793.1486" QuestId="67119" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67119) == 255">
                    <If Condition="not IsOnMap(397)">
                        <GetTo ZoneId="418" XYZ="-163.4394, 2.15106, -5.508545"/> <!-- Chocobokeep -->
                        <RunCode Name="TravelToFalconsNest"/>
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(71)">
                        <LogMessage Message="[Heavensward] Attuning to the Falcon's Nest Aetheryte..."/>
                        <NoCombatMoveTo Name="Falcon's Nest Aetheryte" XYZ="474.907, 212.5399, 739.2355"/>
                        <UseObject UseDistance="8.0" NpcId="71" XYZ="474.8759, 217.9446, 708.5221" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Falcon's Nest as your Home Point..."/>
                        <UseTransport NpcId="71" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="474.8759, 217.9446, 708.5221" Radius="10" WaitTime="5000"/>
                    </If>
                    <NoCombatMoveTo Name="Redwald" XYZ="503.1051, 217.9515, 790.2189"/>
                    <TurnIn QuestId="67119" NpcId="1011231" XYZ="503.1051, 217.9515, 790.2189"/>
                </If>
            </If>
        </If>
        <!-- Work in Progress -->
        <If Condition="not IsQuestCompleted(67120)">
            <If Condition="not HasQuest(67120)">
                <GetTo ZoneId="397" XYZ="503.1051, 217.9515, 790.2189"/> <!-- Redwald -->
                <If Condition="IsQuestAcceptQualified(67120)">
                    <PickupQuest NpcId="1011231" QuestId="67120" XYZ="503.1051, 217.9515, 790.2189"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67120)">
                <If Condition="GetQuestStep(67120) == 1">
                    <GetTo ZoneId="397" XYZ="446.0059, 217.9514, 764.0649"/> <!-- Rothe -->
                    <TalkTo NpcId="1011236" XYZ="446.0059, 217.9514, 764.0649" QuestId="67120" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67120) == 2">
                    <GetTo ZoneId="397" XYZ="430.5067, 225.0027, 800.9321"/> <!-- Icicle Sprites -->
                    <UseObject NpcIds="2005403,2005404,2005405" QuestId="67120" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="430.5067, 225.0027, 800.9321" Radius="10"/>
                            <HotSpot XYZ="552.3918, 228.3512, 725.9784" Radius="10"/>
                            <HotSpot XYZ="421.5914, 212.6954, 708.1559" Radius="10"/>
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67120) == 255">
                    <GetTo ZoneId="397" XYZ="446.0059, 217.9514, 764.0649"/> <!-- Rothe -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Body
                    1: Dragoon Body
                    2: Monk Body
                    3: Ninja Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67120" NpcId="1011236" XYZ="446.0059, 217.9514, 764.0649" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67120" NpcId="1011236" XYZ="446.0059, 217.9514, 764.0649" />
                </If>
            </If>
        </If>
        <!-- The First and Foremost -->
        <If Condition="not IsQuestCompleted(67121)">
            <If Condition="not HasQuest(67121)">
                <GetTo ZoneId="397" XYZ="446.0059, 217.9514, 764.0649"/> <!-- Rothe -->
                <If Condition="IsQuestAcceptQualified(67121)">
                    <PickupQuest NpcId="1011236" QuestId="67121" XYZ="446.0059, 217.9514, 764.0649"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67121)">
                <If Condition="GetQuestStep(67121) == 1">
                    <GetTo ZoneId="397" XYZ="501.7318, 164.194, 301.1367"/> <!-- Thierremont -->
                    <TalkTo NpcId="1011241" XYZ="501.7318, 164.194, 301.1367" QuestId="67121" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67121) == 2">
                    <GetTo ZoneId="397" XYZ="501.7318, 164.194, 301.1367"/> <!-- Grinding Area -->
                    <Grind grindRef="The_First_and_Foremost" while="HasQuest(67121) and GetQuestStep(67121) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67121) == 255">
                    <GetTo ZoneId="397" XYZ="501.7318, 164.194, 301.1367"/> <!-- Thierremont -->

                    <!-- Rewards

                    0: Bard/Machinist Body
                    1: White Mage/Scholoar/Astrologian Body
                    2: Black Mage/Summoner Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67121" NpcId="1011241" ItemId="2001572" XYZ="501.7318, 164.194, 301.1367" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67121" NpcId="1011241" ItemId="2001572" XYZ="501.7318, 164.194, 301.1367"/>
                </If>
            </If>
        </If>
        <!-- From on High -->
        <If Condition="not IsQuestCompleted(67122)">
            <If Condition="not HasQuest(67122)">
                <GetTo ZoneId="397" XYZ="501.7318, 164.194, 301.1367"/> <!-- Thierremont -->
                <If Condition="IsQuestAcceptQualified(67122)">
                    <PickupQuest NpcId="1011241" QuestId="67122" XYZ="501.7318, 164.194, 301.1367"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67122)">
                <If Condition="GetQuestStep(67122) == 1">
                    <GetTo ZoneId="397" XYZ="197.1312, 189.4263, 270.6188"/> <!-- Ysaudore -->
                    <HandOver ItemId="2001573" QuestId="67122" StepId="1" NpcId="1011903" XYZ="197.1312, 189.4263, 270.6188"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67122) == 255">
                    <GetTo ZoneId="397" XYZ="503.1051, 217.9515, 790.2189"/> <!-- Redwald -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Hands
                    1: Dragoon Hands
                    2: Monk Hands
                    3: Ninja Hands

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67122" NpcId="1011231" XYZ="503.1051, 217.9515, 790.2189" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67122" NpcId="1011231" XYZ="503.1051, 217.9515, 790.2189" />
                </If>
            </If>
        </If>
        <!-- Reconnaissance Lost -->
        <If Condition="not IsQuestCompleted(67123)">
            <If Condition="not HasQuest(67123)">
                <GetTo ZoneId="397" XYZ="503.1051, 217.9515, 790.2189"/> <!-- Redwald -->
                <If Condition="IsQuestAcceptQualified(67123)">
                    <PickupQuest NpcId="1011231" QuestId="67123" XYZ="503.1051, 217.9515, 790.2189"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67123)">
                <If Condition="GetQuestStep(67123) == 1">
                    <GetTo ZoneId="397" XYZ="510.6431, 217.9515, 785.2445"/> <!-- Artoirel -->
                    <TalkTo NpcId="1012334" XYZ="510.6431, 217.9515, 785.2445" QuestId="67123" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67123) == 2">
                    <GetTo ZoneId="397" XYZ="179.5223, 161.7822, 132.7382"/> <!-- Artoirel -->
                    <TalkTo NpcId="1012404" XYZ="179.5223, 161.7822, 132.7382" QuestId="67123" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67123) == 3">
                    <GetTo ZoneId="397" XYZ="354.6654, 159.5203, 140.6729"/> <!-- Artoirel -->
                    <TalkTo NpcId="1012338" XYZ="354.6654, 159.5203, 140.6729" QuestId="67123" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67123) == 4">
                    <GetTo ZoneId="397" XYZ="79.3596, 117.198, 155.5567"/> <!-- Grinding Area -->
                    <Grind grindRef="Reconnaissance_Lost" while="HasQuest(67123) and GetQuestStep(67123) == 4"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67123) == 255">
                    <GetTo ZoneId="397" XYZ="81.80359, 117.1982, 152.3002"/> <!-- Reconnaissance Party Knight -->

                    <!-- Rewards

                    0: Bard/Machinist Hands
                    1: White Mage/Scholoar/Astrologian Hands
                    2: Black Mage/Summoner Hands

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67123" NpcId="1012340" XYZ="81.80359, 117.1982, 152.3002" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67123" NpcId="1012340" XYZ="81.80359, 117.1982, 152.3002"/>
                </If>
            </If>
        </If>
        <!-- At the End of Our Hope -->
        <If Condition="not IsQuestCompleted(67124)">
            <If Condition="not HasQuest(67124)">
                <GetTo ZoneId="397" XYZ="84.18396, 117.197, 150.3165"/> <!-- Artoirel -->
                <If Condition="IsQuestAcceptQualified(67124)">
                    <PickupQuest NpcId="1012344" QuestId="67124" XYZ="84.18396, 117.197, 150.3165"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67124)">
                <If Condition="GetQuestStep(67124) == 1">
                    <GetTo ZoneId="397" XYZ="103.7765, 102.3116, -42.40485"/> <!-- Fresh Footprints -->
                    <SimpleDutyObject InteractNpcId="2005408" XYZ="103.7765, 102.3116, -42.40485" QuestId="67124" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="444.7922, 160.8083, -566.6742" Radius="10"/>
                            <HotSpot XYZ="455.7411, 157.3967, -550.103" Radius="30"/>
                            <HotSpot XYZ="455.796, 157.6046, -540.2431" Radius="10"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="4126" Weight="4000"/> <!-- Cane-waving Heretic -->
                            <TargetMob Id="4116" Weight="2000"/> <!-- Wild-eyed Swordsman -->
                            <TargetMob Id="4127" Weight="1000"/> <!-- Spell-weaving Heretic -->
                        </TargetMobs>
                    </SimpleDutyObject>
                    <WaitWhile Condition="GetQuestStep(67124) != 255"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67124) == 255">
                    <GetTo ZoneId="397" XYZ="465.0186, 162.5833, -522.9115"/> <!-- Artoirel -->
                    <TurnIn QuestId="67124" NpcId="1012348" XYZ="465.0186, 162.5833, -522.9115"/>
                </If>
            </If>
        </If>
        <!-- Knights Be Not Proud -->
        <If Condition="not IsQuestCompleted(67125)">
            <If Condition="not HasQuest(67125)">
                <GetTo ZoneId="397" XYZ="465.0186, 162.5833, -522.9115"/> <!-- Artoirel -->
                <If Condition="IsQuestAcceptQualified(67125)">
                    <PickupQuest NpcId="1012348" QuestId="67125" XYZ="465.0186, 162.5833, -522.9115"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67125)">
                <If Condition="GetQuestStep(67125) == 1">
                    <GetTo ZoneId="397" XYZ="503.1051, 217.9515, 790.2189"/> <!-- Redwald -->
                    <TalkTo NpcId="1011231" XYZ="503.1051, 217.9515, 790.2189" QuestId="67125" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67125) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>

                    <!-- Rewards

                    0: Intelligence Materia IV
                    1: Mind Materia IV
                    2: Piety Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67125" NpcId="1012328" XYZ="1.754761, 0.003450237, -9.750549" RewardSlot="0" />

                    -->

                    <NoCombatMoveTo Name="Artoirel" XYZ="1.754761, 0.003450237, -9.750549"/>
                    <TurnIn QuestId="67125" NpcId="1012328" XYZ="1.754761, 0.003450237, -9.750549"/>
                </If>
            </If>
        </If>

        <!-- [Complete Quest] -->

        <!-- Onwards and Upwards -->
        <If Condition="not IsQuestCompleted(67126)">
            <If Condition="HasQuest(67126)">
                <If Condition="GetQuestStep(67126) == 1">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="419" XYZ="152.045, -12.62664, -7.856074"/> <!-- Airship Ticketer -->
                    <UseTransport Name="Camp Cloudtop" InteractDistance="3.0" NpcId="1012353" XYZ="149.7367, -12.26397, -7.888916"/>
                    <WaitWhile Condition="not IsOnMap(401)"/>
                    <WaitWhile Condition="GetQuestStep(67126) != 3"/>
                </If>
                <If Condition="GetQuestStep(67126) == 3">
                    <GetTo ZoneId="401" XYZ="-731.1971, -105.2652, 470.5425"/> <!-- Emmanellain -->
                    <TalkTo NpcId="1012351" XYZ="-731.1971, -105.2652, 470.5425" QuestId="67126" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67126) == 255">
                    <If Condition="not IsOnMap(401)">
                        <GetTo ZoneId="401" XYZ="-640.5222, -123.9308, 527.2809"/> <!-- Camp Cloudtop Aetheryte -->
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(72)">
                        <LogMessage Message="[Heavensward] Attuning to the Camp Cloudtop Aetheryte..."/>
                        <NoCombatMoveTo Name="Camp Cloudtop Aetheryte" XYZ="-640.5222, -123.9308, 527.2809"/>
                        <UseObject UseDistance="8.0" NpcId="72" XYZ="-615.7473, -118.3643, 546.5934" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Camp Cloudtop as your Home Point..."/>
                        <UseTransport NpcId="72" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="-615.7473, -118.3643, 546.5934" Radius="10" WaitTime="5000"/>
                    </If>
                    <NoCombatMoveTo Name="Laniaitte" XYZ="-277.6379, -184.5974, 741.6038"/>
                    <TurnIn QuestId="67126" NpcId="1011952" XYZ="-277.6379, -184.5974, 741.6038"/>
                </If>
            </If>
        </If>

        <!-- [PickUp Quests] -->

        <!-- An Indispensable Ally -->
        <If Condition="not IsQuestCompleted(67127)">
            <If Condition="not HasQuest(67127)">
                <GetTo ZoneId="401" XYZ="-277.6379, -184.5974, 741.6038"/> <!-- Laniaitte -->
                <If Condition="IsQuestAcceptQualified(67127)">
                    <PickupQuest NpcId="1011952" QuestId="67127" XYZ="-277.6379, -184.5974, 741.6038"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67127)">
                <If Condition="GetQuestStep(67127) == 1">
                    <GetTo ZoneId="401" XYZ="-284.3824, -185.0852, 732.2346"/> <!-- Emmanellain -->
                    <TalkToPlus NpcId="1012354" XYZ="-284.3824, -185.0852, 732.2346" QuestId="67127" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67127) == 2">
                    <GetTo ZoneId="401" XYZ="-285.1149, -185.0477, 735.4086"/> <!-- Honoroit -->
                    <TalkTo NpcId="1012355" XYZ="-285.1149, -185.0477, 735.4086" QuestId="67127" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67127) == 255">
                    <GetTo ZoneId="401" XYZ="-277.6379, -184.5974, 741.6038"/> <!-- Laniaitte -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Legs
                    1: Dragoon Legs
                    2: Monk Legs
                    3: Ninja Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67127" NpcId="1011952" XYZ="-277.6379, -184.5974, 741.6038" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67127" NpcId="1011952" XYZ="-277.6379, -184.5974, 741.6038" />
                </If>
            </If>
        </If>
        <!-- Meeting the Neighbors -->
        <If Condition="not IsQuestCompleted(67128)">
            <If Condition="not HasQuest(67128)">
                <GetTo ZoneId="401" XYZ="-277.6379, -184.5974, 741.6038"/> <!-- Laniaitte -->
                <If Condition="IsQuestAcceptQualified(67128)">
                    <PickupQuest NpcId="1011952" QuestId="67128" XYZ="-277.6379, -184.5974, 741.6038"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67128)">
                <If Condition="GetQuestStep(67128) == 1">
                    <GetTo ZoneId="401" XYZ="-358.6633, -157.9937, 761.0131"/> <!-- Marielle -->
                    <TalkTo NpcId="1012060" XYZ="-358.6633, -157.9937, 761.0131" QuestId="67128" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67128) == 2">
                    <GetTo ZoneId="401" XYZ="-254.6578, -185.6871, 662.6841"/> <!-- Destination -->
                    <UseObject NpcIds="2005409,2005411,2005410" QuestId="67128" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="-254.6578, -185.6871, 662.6841" Radius="10"/>
                            <HotSpot XYZ="-122.7894, -166.0029, 646.5095" Radius="10"/>
                            <HotSpot XYZ="-81.16278, -136.9802, 468.5282" Radius="10"/>
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67128) == 255">
                    <GetTo ZoneId="401" XYZ="-358.6633, -157.9937, 761.0131"/> <!-- Marielle -->

                    <!-- Rewards

                    0: Bard/Machinist Legs
                    1: White Mage/Scholoar/Astrologian Legs
                    2: Black Mage/Summoner Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67128" NpcId="1012060" XYZ="-358.6633, -157.9937, 761.0131" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67128" NpcId="1012060" XYZ="-358.6633, -157.9937, 761.0131"/>
                </If>
            </If>
        </If>
        <!-- Sense of Urgency -->
        <If Condition="not IsQuestCompleted(67129)">
            <If Condition="not HasQuest(67129)">
                <GetTo ZoneId="401" XYZ="-358.6633, -157.9937, 761.0131"/> <!-- Marielle -->
                <If Condition="IsQuestAcceptQualified(67129)">
                    <PickupQuest NpcId="1012060" QuestId="67129" XYZ="-358.6633, -157.9937, 761.0131"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67129)">
                <While Condition="GetQuestStep(67129) == 1">
                    <GetTo ZoneId="401" XYZ="-293.0496, -183.7349, 812.6802"/> <!-- Emmanellain -->
                    <EmoteNPC NpcId="1013498" Emote="psych" XYZ="-293.0496, -183.7349, 812.6802" Radius="10" UseTimes="1" QuestId="67129" StepId="1"/>
                    <NoCombatMoveTo Name="House Haillenarte Knight" XYZ="-260.9141, -184.9108, 705.4092"/>
                    <EmoteNPC NpcId="1012359" Emote="psych" XYZ="-260.9141, -184.9108, 705.4092" Radius="10" UseTimes="1" QuestId="67129" StepId="1"/>
                    <NoCombatMoveTo Name="House Haillenarte Knight" XYZ="-337.7584, -186.0735, 618.5549"/>
                    <EmoteNPC NpcId="1012360" Emote="psych" XYZ="-337.7584, -186.0735, 618.5549" Radius="10" UseTimes="1" QuestId="67129" StepId="1"/>
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67129) == 255">
                    <GetTo ZoneId="401" XYZ="-358.6633, -157.9937, 761.0131"/> <!-- Marielle -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Feet
                    1: Dragoon Feet
                    2: Monk Feet
                    3: Ninja Feet

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67129" NpcId="1012060" XYZ="-358.6633, -157.9937, 761.0131" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67129" NpcId="1012060" XYZ="-358.6633, -157.9937, 761.0131" />
                </If>
            </If>
        </If>
        <!-- Hope Springs Eternal -->
        <If Condition="not IsQuestCompleted(67130)">
            <If Condition="not HasQuest(67130)">
                <GetTo ZoneId="401" XYZ="-358.6633, -157.9937, 761.0131"/> <!-- Marielle -->
                <If Condition="IsQuestAcceptQualified(67130)">
                    <PickupQuest NpcId="1012060" QuestId="67130" XYZ="-358.6633, -157.9937, 761.0131"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67130)">
                <If Condition="GetQuestStep(67130) == 1">
                    <GetTo ZoneId="401" XYZ="-277.6379, -184.5974, 741.6038"/> <!-- Laniaitte -->
                    <TalkTo NpcId="1011952" XYZ="-277.6379, -184.5974, 741.6038" QuestId="67130" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67130) == 2">
                    <GetTo ZoneId="401" XYZ="-284.3824, -185.0852, 732.2346"/> <!-- Emmanellain -->
                    <TalkTo NpcId="1012354" XYZ="-284.3824, -185.0852, 732.2346" QuestId="67130" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67130) == 3">
                    <GetTo ZoneId="401" XYZ="62.54675, -144.9116, 527.9469"/> <!-- Emmanellain -->
                    <TalkTo NpcId="1012363" XYZ="62.54675, -144.9116, 527.9469" QuestId="67130" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67130) == 4">
                    <GetTo ZoneId="401" XYZ="408.8959, -124.0101, 718.5625"/> <!-- Spring Crystal -->
                    <UseObject NpcId="2005412" XYZ="408.8959, -124.0101, 718.5625" Radius="10" QuestId="67130" StepId="4"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67130) == 255">
                    <GetTo ZoneId="401" XYZ="64.10315, -144.9241, 527.3669"/> <!-- Honoroit -->

                    <!-- Rewards

                    0: Bard/Machinist Feet
                    1: White Mage/Scholoar/Astrologian Feet
                    2: Black Mage/Summoner Feet

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67130" NpcId="1012364" ItemId="2001574" XYZ="64.10315, -144.9241, 527.3669" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67130" NpcId="1012364" ItemId="2001574" XYZ="64.10315, -144.9241, 527.3669"/>
                </If>
            </If>
        </If>
        <!-- A Series of Unfortunate Events -->
        <If Condition="not IsQuestCompleted(67131)">
            <If Condition="not HasQuest(67131)">
                <GetTo ZoneId="401" XYZ="64.10315, -144.9241, 527.3669"/> <!-- Honoroit -->
                <If Condition="IsQuestAcceptQualified(67131)">
                    <PickupQuest NpcId="1012364" QuestId="67131" XYZ="64.10315, -144.9241, 527.3669"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67131)">
                <If Condition="GetQuestStep(67131) == 1">
                    <GetTo ZoneId="401" XYZ="418.4176, -121.4466, 630.64"/> <!-- Emmanellain -->
                    <UseObject NpcId="2005418" XYZ="418.4176, -121.4466, 630.64" Radius="10" QuestId="67131" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67131) == 2">
                    <GetTo ZoneId="401" XYZ="299.8245, -115.8313, 424.7349"/> <!-- Emmanellain -->
                    <UseObject NpcId="2005419" XYZ="299.8245, -115.8313, 424.7349" Radius="10" QuestId="67131" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67131) == 3">
                    <GetTo ZoneId="401" XYZ="531.1816, -99.84944, 349.9656"/> <!-- Honoroit -->
                    <SimpleDutyObject InteractNpcId="1012366" XYZ="531.1816, -99.84944, 349.9656" QuestId="67131" StepId="3">
                        <HotSpots>
                            <HotSpot XYZ="654.9769, -65.05286, -128.5843" Radius="120"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="3503" Weight="3000"/> <!-- Vuk'laii Gundu -->
                            <TargetMob Id="3502" Weight="2000"/> <!-- Nat'laii Gundu -->
                            <TargetMob Id="4128" Weight="1000"/> <!-- Lan'laii Gundu -->
                        </TargetMobs>
                    </SimpleDutyObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67131) == 255">
                    <GetTo ZoneId="401" XYZ="-678.2483, -110.6741, 481.7731"/> <!-- Cid -->
                    <TurnIn QuestId="67131" NpcId="1012367" XYZ="-678.2483, -110.6741, 481.7731"/>
                </If>
            </If>
        </If>
        <!-- A Reward Long in Coming -->
        <If Condition="not IsQuestCompleted(67132)">
            <If Condition="not HasQuest(67132)">
                <GetTo ZoneId="401" XYZ="-676.7529, -111.7149, 487.2662"/> <!-- Emmanellain -->
                <If Condition="IsQuestAcceptQualified(67132)">
                    <PickupQuest NpcId="1012368" QuestId="67132" XYZ="-676.7529, -111.7149, 487.2662"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67132)">
                <If Condition="GetQuestStep(67132) == 1">
                    <GetTo ZoneId="401" XYZ="-277.6379, -184.5974, 741.6038"/> <!-- Laniaitte -->
                    <TalkTo NpcId="1011952" XYZ="-277.6379, -184.5974, 741.6038" QuestId="67132" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67132) == 2">
                    <GetTo ZoneId="418" XYZ="164.5074, -12.63491, -23.17853"/> <!-- Haurchefant -->
                    <TalkTo NpcId="1012375" XYZ="164.5074, -12.63491, -23.17853" QuestId="67132" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67132) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>

                    <!-- Rewards

                    0: Strength Materia IV
                    1: Vitality Materia IV
                    2: Dexterity Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67132" NpcId="1012329" XYZ="-7.309082, 0.003586963, -0.5036011" RewardSlot="0" />

                    -->

                    <MoveTo Name="Emmanellain" XYZ="-7.309082, 0.003586963, -0.5036011"/>
                    <TurnIn QuestId="67132" NpcId="1012329" XYZ="-7.309082, 0.003586963, -0.5036011"/>
                </If>
            </If>
        </If>
        <!-- Divine Intervention -->
        <If Condition="not IsQuestCompleted(67133)">
            <If Condition="not HasQuest(67133)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <MoveTo Name="House Fortemps Steward" XYZ="5.691528, 7.450581E-09, 5.752625"/>
                <If Condition="IsQuestAcceptQualified(67133)">
                    <PickupQuest NpcId="1012377" QuestId="67133" XYZ="5.691528, 7.450581E-09, 5.752625"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67133)">
                <If Condition="GetQuestStep(67133) == 1">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Count Edmont De Fortemps" XYZ="3.524841, 7.450581E-09, 9.018005"/>
                    <TalkTo NpcId="1012378" XYZ="3.524841, 7.450581E-09, 9.018005" QuestId="67133" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67133) == 2">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="418" XYZ="124.4678, 24.45884, 0.4729614"/> <!-- Aymeric -->
                    <TalkTo NpcId="1012380" XYZ="124.4678, 24.45884, 0.4729614" QuestId="67133" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67133) == 3">
                    <GetTo ZoneId="419" XYZ="120.6531, 14.95313, -156.6339"/> <!-- Haurchefant -->
                    <SimpleDuty InteractNpcId="1012381" XYZ="120.6531, 14.95313, -156.6339" QuestId="67133" StepId="3">
                        <HotSpots>
                            <HotSpot XYZ="2.144314, 0, 4.169504" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="4132" Weight="3000"/> <!-- Ishgardian Steel Chain -->
                            <TargetMob Id="4131" Weight="2000"/> <!-- Ser Paulecrain Coldfire -->
                            <TargetMob Id="3850" Weight="1000"/> <!-- Ser Grinnaux the Bull -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67133) == 255">
                    <GetTo ZoneId="419" XYZ="120.6531, 14.95313, -156.6339"/> <!-- Haurchefant -->

                    <!-- Rewards

                    Aether Compass
                    Mount: Black Chocobo

                    -->

                    <TurnIn QuestId="67133" NpcId="1012381" XYZ="120.6531, 14.95313, -156.6339"/>
                </If>
            </If>
        </If>

        <!-- Learn the Black Chocobo Mount -->

        <If Condition="(ItemCount(12075) &gt; 0)">
            <LogMessage Message="[Heavensward] Learning the Black Chocobo mount..."/>
            <RunCode Name="LearnBlackChocobo"/>
        </If>

        <!-- [PickUp Quest] -->

        <!-- Disclosure -->
        <If Condition="not IsQuestCompleted(67134)">
            <If Condition="not HasQuest(67134)">
                <GetTo ZoneId="419" XYZ="120.6531, 14.95313, -156.6339"/> <!-- Haurchefant -->
                <If Condition="IsQuestAcceptQualified(67134)">
                    <PickupQuest NpcId="1012381" QuestId="67134" XYZ="120.6531, 14.95313, -156.6339"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67134)">
                <If Condition="GetQuestStep(67134) == 1">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Count Edmont De Fortemps" XYZ="-0.01531982, 0.02225424, 3.707886"/>
                    <TalkTo NpcId="1013033" XYZ="-0.01531982, 0.02225424, 3.707886" QuestId="67134" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67134) == 2">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="419" XYZ="6.149353, 42.34489, -208.3925"/> <!-- Ishgardian Priest -->
                    <ExtendedTalkTo NpcId="1012386" XYZ="6.149353, 42.34489, -208.3925" QuestId="67134" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67134) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>

                    <!-- Rewards

                    Title: Unbeliever

                    -->

                    <MoveTo Name="Alphinaud" XYZ="0.6866455, 0.02225424, 4.623413"/>
                    <TurnIn QuestId="67134" NpcId="1012387" XYZ="0.6866455, 0.02225424, 4.623413"/>
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 51">
            <LogMessage Message="[Heavensward] You are not level 51 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 51..."/>
            <GetTo ZoneId="401" XYZ="-605.4334, -149.4642, 487.6404"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_51" while="Core.Player.ClassLevel &lt; 51"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 51 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 51 quests..."/>

        <!-- [PickUp Quests] -->

        <!-- Flame General Affairs -->
        <If Condition="not IsQuestCompleted(67135)">
            <If Condition="not HasQuest(67135)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="0.6866455, 0.02225424, 4.623413"/>
                <If Condition="IsQuestAcceptQualified(67135)">
                    <PickupQuest NpcId="1012387" QuestId="67135" XYZ="0.6866455, 0.02225424, 4.623413"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67135)">
                <If Condition="GetQuestStep(67135) == 1">
                    <GetTo ZoneId="129" XYZ="9.170593, 20.9994, -15.21332"/> <!-- Zanthael -->
                    <UseTransport Name="Bridge" InteractDistance="3.0" NpcId="1001029" XYZ="9.170593, 20.9994, -15.21332"/>
                    <WaitWhile Condition="GetQuestStep(67135) == 1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67135) == 255">
                    <GetTo ZoneId="156" XYZ="30.07544, 50.99997, -819.7299"/> <!-- Higiri -->
                    <TurnIn QuestId="67135" NpcId="1013018" XYZ="30.07544, 50.99997, -819.7299"/>
                </If>
            </If>
        </If>
        <!-- In Search of Raubahn -->
        <If Condition="not IsQuestCompleted(67136)">
            <If Condition="not HasQuest(67136)">
                <GetTo ZoneId="156" XYZ="30.07544, 50.99997, -819.7299"/> <!-- Higiri -->
                <If Condition="IsQuestAcceptQualified(67136)">
                    <PickupQuest NpcId="1013018" QuestId="67136" XYZ="30.07544, 50.99997, -819.7299"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67136)">
                <If Condition="GetQuestStep(67136) == 1">
                    <GetTo ZoneId="145" XYZ="-58.79309, -21.31145, -3.982666"/> <!-- Higiri -->
                    <TalkTo NpcId="1013020" XYZ="-58.79309, -21.31145, -3.982666" QuestId="67136" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67136) == 255">
                    <GetTo ZoneId="145" XYZ="-380.8805, -23.06451, 388.632"/> <!-- Hozan -->
                    <TurnIn QuestId="67136" NpcId="1013028" XYZ="-380.8805, -23.06451, 388.632"/>
                </If>
            </If>
        </If>
        <!-- Keeping the Flame Alive -->
        <If Condition="not IsQuestCompleted(67137)">
            <If Condition="not HasQuest(67137)">
                <GetTo ZoneId="145" XYZ="-380.8805, -23.06451, 388.632"/> <!-- Hozan -->
                <If Condition="IsQuestAcceptQualified(67137)">
                    <PickupQuest NpcId="1013028" QuestId="67137" XYZ="-380.8805, -23.06451, 388.632"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67137)">
                <If Condition="GetQuestStep(67137) == 1">
                    <GetTo ZoneId="145" XYZ="-380.8805, -23.06451, 388.632"/> <!-- Hozan -->
                    <RunCode Name="Keeping_the_Flame_Alive"/>
                    <StopBot/>

                    <!-- TO DO -->

                    <!-- Find a way to interact with the quest objects. -->
                    <!-- <UseObject NpcId="2005546" XYZ="113.5762, -3.515386, 45.77186" Radius="10" QuestId="67137" StepId="1" /> -->
                    <!-- <UseObject NpcId="2006332" XYZ="-85.67944, -9.720032, -93.64465" Radius="10" QuestId="67137" StepId="1" /> -->

                    <!-- TO DO -->

                    <SimpleDutyObject InteractNpcId="1013028" XYZ="-380.8805, -23.06451, 388.632" QuestId="67137" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="47.05616, -11.13771, -94.62894" Radius="90"/>
                            <HotSpot XYZ="-7.025489, -2.317942, -113.7608" Radius="90"/>
                            <HotSpot XYZ="-80.944, -10.178, -96.5186" Radius="90"/>
                            <HotSpot XYZ="-7.441394, -2.25579, -113.9997" Radius="90"/>
                            <HotSpot XYZ="180.297, 2.164822, -52.75378" Radius="90"/>
                            <HotSpot XYZ="106.6528, -3.353478, 56.04813" Radius="90"/>
                            <HotSpot XYZ="-85.67944, -9.720032, -93.64465" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="4140" Weight="9000"/> <!-- Iron Cell -->
                            <TargetMob Id="4138" Weight="8000"/> <!-- Acerbic Jam -->
                            <TargetMob Id="4139" Weight="7000"/> <!-- Humming Atomizer -->
                            <TargetMob Id="4137" Weight="6000"/> <!-- Crystal Brave Conjurer -->
                            <TargetMob Id="4136" Weight="5000"/> <!-- Crystal Brave Archer -->
                            <TargetMob Id="4135" Weight="4000"/> <!-- Crystal Brave Lancer -->
                            <TargetMob Id="2064" Weight="3000"/> <!-- Legless Laurentius -->
                            <TargetMob Id="3120" Weight="2000"/> <!-- Golden Eye Yuyuhase -->
                            <TargetMob Id="3119" Weight="1000"/> <!-- Ilberd of the Dull Blade -->
                        </TargetMobs>
                    </SimpleDutyObject>
                </If>
                <If Condition="GetQuestStep(67137) == 2">
                    <WaitWhile Condition="GetQuestStep(67137) == 2"/>
                </If>
                <If Condition="GetQuestStep(67137) == 3">
                    <GetTo ZoneId="145" XYZ="-315.2362, -24.48898, 419.5162"/> <!-- Doware -->
                    <ExtendedTalkTo NpcId="1013071" XYZ="-315.2362, -24.48898, 419.5162" QuestId="67137" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67137) == 4">
                    <GetTo ZoneId="145" XYZ="-316.2433, -24.34079, 424.3076"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1013031" XYZ="-316.2433, -24.34079, 424.3076" QuestId="67137" StepId="4"/>
                </If>
                <If Condition="GetQuestStep(67137) == 5">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="-480.9186, 17.99036, -386.862"/> <!-- Waking Sands Entrance -->
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67137) == 5"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67137) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="-480.9186, 17.99036, -386.862"/> <!-- Waking Sands Entrance -->
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>

                    <!-- Rewards

                    Title: The Redeemed
                    0: Vitality Ring
                    1: Strength Ring
                    2: Dexterity Ring
                    3: Mind Ring
                    4: Intelligence Ring

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67137" NpcId="1013038" XYZ="1.998901, 1.147389E-06, -2.517761" RewardSlot="0" />

                    -->

                    <MoveTo Name="Alphinaud" XYZ="1.998901, 1.147389E-06, -2.517761"/>
                    <TurnIn QuestId="67137" NpcId="1013038" XYZ="1.998901, 1.147389E-06, -2.517761" />
                </If>
            </If>
        </If>
        <!-- To Siege or Not to Siege -->
        <If Condition="not IsQuestCompleted(67138)">
            <If Condition="not HasQuest(67138)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="-480.9186, 17.99036, -386.862"/> <!-- Waking Sands Entrance -->
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                    <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="1.998901, 1.147389E-06, -2.517761"/>
                <If Condition="IsQuestAcceptQualified(67138)">
                    <PickupQuest NpcId="1013038" QuestId="67138" XYZ="1.998901, 1.147389E-06, -2.517761"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67138)">
                <If Condition="GetQuestStep(67138) == 1">
                    <GetTo ZoneId="419" XYZ="15.85406, 15.96505, -0.7781982"/> <!-- Tataru -->
                    <TalkTo NpcId="1014644" XYZ="15.85406, 15.96505, -0.7781982" QuestId="67138" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67138) == 2">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67138) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67138) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Alphinaud" XYZ="1.113892, 0.02225424, -4.409851"/>
                    <TurnIn QuestId="67138" NpcId="1012579" XYZ="1.113892, 0.02225424, -4.409851"/>
                </If>
            </If>
        </If>
        <!-- Alphinaud's Way -->
        <If Condition="not IsQuestCompleted(67139)">
            <If Condition="not HasQuest(67139)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="1.113892, 0.02225424, -4.409851"/>
                <If Condition="IsQuestAcceptQualified(67139)">
                    <PickupQuest NpcId="1012579" QuestId="67139" XYZ="1.113892, 0.02225424, -4.409851"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67139)">
                <If Condition="GetQuestStep(67139) == 1">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="419" XYZ="14.75543, 16.00967, -4.074219"/> <!-- Alphinaud -->
                    <ExtendedTalkTo NpcId="1012585" XYZ="14.75543, 16.00967, -4.074219" QuestId="67139" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67139) == 2">
                    <If Condition="not IsOnMap(418) and not IsOnMap(428)">
                        <GetTo ZoneId="418" XYZ="114.58, 24.41283, -11.06281"/> <!-- Seat of the Lord Commander -->
                    </If>
                    <If Condition="IsOnMap(418)">
                        <UseTransport Name="Seat of the Lord Commander" InteractDistance="3.0" NpcId="1011223" XYZ="114.58, 24.41283, -11.06281"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67139) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67139) == 255">
                    <GetTo ZoneId="418" XYZ="107.6829, 24.3786, -6.698792"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67139" NpcId="1012588" XYZ="107.6829, 24.3786, -6.698792"/>
                </If>
            </If>
        </If>
        <!-- In Search of Iceheart -->
        <If Condition="not IsQuestCompleted(67140)">
            <If Condition="not HasQuest(67140)">
                <GetTo ZoneId="418" XYZ="107.6829, 24.3786, -6.698792"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67140)">
                    <PickupQuest NpcId="1012588" QuestId="67140" XYZ="107.6829, 24.3786, -6.698792"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67140)">
                <If Condition="GetQuestStep(67140) == 1">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67140) == 1"/>
                </If>
                <If Condition="GetQuestStep(67140) == 2">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="418" XYZ="-97.73407, 15.23318, -40.78741"/> <!-- Estinien -->
                    <TalkTo NpcId="1013422" XYZ="-97.73407, 15.23318, -40.78741" QuestId="67140" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67140) == 3">
                    <GetTo ZoneId="397" XYZ="503.1051, 217.9515, 790.2189"/> <!-- Redwald -->
                    <TalkTo NpcId="1011231" XYZ="503.1051, 217.9515, 790.2189" QuestId="67140" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67140) == 4">
                    <GetTo ZoneId="397" XYZ="459.1592, 162.512, -524.651"/> <!-- Expedition Leader -->
                    <TalkTo NpcId="1012592" XYZ="459.1592, 162.512, -524.651" QuestId="67140" StepId="4"/>
                </If>
                <If Condition="GetQuestStep(67140) == 5">
                    <GetTo ZoneId="397" XYZ="455.963, 157.4083, -542.9648"/> <!-- Grinding Area -->
                    <Grind grindRef="In_Search_of_Iceheart" while="HasQuest(67140) and GetQuestStep(67140) == 5"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67140) == 255">
                    <GetTo ZoneId="397" XYZ="459.1592, 162.512, -524.651"/> <!-- Expedition Leader -->

                    <!-- Rewards

                    Wind-up Alphinaud

                    -->

                    <TurnIn QuestId="67140" NpcId="1012592" XYZ="459.1592, 162.512, -524.651"/>
                </If>
            </If>
        </If>
        <!-- From One Heretic to Another -->
        <If Condition="not IsQuestCompleted(67141)">
            <If Condition="not HasQuest(67141)">
                <GetTo ZoneId="397" XYZ="459.1592, 162.512, -524.651"/> <!-- Expedition Leader -->
                <If Condition="IsQuestAcceptQualified(67141)">
                    <PickupQuest NpcId="1012592" QuestId="67141" XYZ="459.1592, 162.512, -524.651"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67141)">
                <If Condition="GetQuestStep(67141) == 1">
                    <GetTo ZoneId="397" XYZ="450.8583, 164.2938, -544.7928"/> <!-- Heretic Epistle -->
                    <UseObject NpcIds="2005432,2005433,2005434" QuestId="67141" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="450.8583, 164.2938, -544.7928" Radius="10"/>
                            <HotSpot XYZ="443.5034, 157.4883, -559.472" Radius="10"/>
                            <HotSpot XYZ="466.7887, 157.3967, -540.8561" Radius="10"/>
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67141) == 255">
                    <GetTo ZoneId="397" XYZ="452.4147, 157.4083, -542.8397"/> <!-- Expedition Leader -->

                    <!-- Rewards

                    0: Determination Materia IV
                    1: Critical Hit Rate Materia IV
                    2: Accuracy Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67141" NpcId="1012601" ItemId="2001578" XYZ="452.4147, 157.4083, -542.8397" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67141" NpcId="1012601" ItemId="2001578" XYZ="452.4147, 157.4083, -542.8397"/>
                </If>
            </If>
        </If>
        <!-- Sounding Out the Amphitheatre -->
        <If Condition="not IsQuestCompleted(67142)">
            <If Condition="not HasQuest(67142)">
                <GetTo ZoneId="397" XYZ="451.6517, 157.4083, -544.6708"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67142)">
                    <PickupQuest NpcId="1012600" QuestId="67142" XYZ="451.6517, 157.4083, -544.6708"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67142)">
                <If Condition="GetQuestStep(67142) == 1">
                    <GetTo ZoneId="397" XYZ="617.4868, 78.429, 217.3036"/> <!-- Tristechambel -->
                    <SimpleDuty InteractNpcId="1011905" XYZ="617.4868, 78.429, 217.3036" QuestId="67142" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="-6.616748, 0, 2.033641" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="4126" Weight="5000"/> <!-- Cane-waving Heretic -->
                            <TargetMob Id="4117" Weight="4000"/> <!-- Wild-eyed Mage -->
                            <TargetMob Id="4116" Weight="3000"/> <!-- Wild-eyed Swordsman -->
                            <TargetMob Id="4125" Weight="2000"/> <!-- Spear-wielding Heretic -->
                            <TargetMob Id="4141" Weight="1000"/> <!-- Louistiaux of the First Line -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>
                <If Condition="GetQuestStep(67142) == 2">
                    <GetTo ZoneId="397" XYZ="620.9657, 78.429, 213.8856"/> <!-- Estinien -->
                    <TalkTo NpcId="1012604" XYZ="620.9657, 78.429, 213.8856" QuestId="67142" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67142) == 255">
                    <GetTo ZoneId="397" XYZ="-288.8686, 127.0664, 13.19904"/> <!-- Jantellot -->
                    <TurnIn QuestId="67142" NpcId="1011907" XYZ="-288.8686, 127.0664, 13.19904"/>
                </If>
            </If>
        </If>
        <!-- Camp of the Convictors -->
        <If Condition="not IsQuestCompleted(67143)">
            <If Condition="not HasQuest(67143)">
                <GetTo ZoneId="397" XYZ="-280.0794, 127.0303, 11.97827"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67143)">
                    <PickupQuest NpcId="1012765" QuestId="67143" XYZ="-280.0794, 127.0303, 11.97827"/>
                </If>
            </If>

            <!-- [Complete Quests] -->

            <If Condition="HasQuest(67143)">
                <While Condition="GetQuestStep(67143) == 1">
                    <GetTo ZoneId="397" XYZ="-298.2681, 126.6705, -1.419189"/> <!-- Boorish Banneret -->
                    <TalkTo NpcId="1011910" XYZ="-298.2681, 126.6705, -1.419189" QuestId="67143" StepId="1"/>
                    <TalkTo NpcId="1013435" XYZ="-271.046, 126.894, 8.773865" QuestId="67143" StepId="1"/>
                    <TalkTo NpcId="1013436" XYZ="-260.3953, 126.2186, -2.822998" QuestId="67143" StepId="1"/>
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67143) == 255">
                    <GetTo ZoneId="397" XYZ="-311.1467, 126.5033, -6.729248"/> <!-- Pierriquet -->
                    <TurnIn QuestId="67143" NpcId="1012283" XYZ="-311.1467, 126.5033, -6.729248"/>
                </If>
            </If>
        </If>
        <!-- Purple Flame, Purple Flame -->
        <If Condition="not IsQuestCompleted(67144)">
            <If Condition="not HasQuest(67144)">
                <GetTo ZoneId="397" XYZ="-307.5457, 126.6344, -3.280701"/> <!-- Estinien -->
                <If Condition="IsQuestAcceptQualified(67144)">
                    <PickupQuest NpcId="1012764" QuestId="67144" XYZ="-307.5457, 126.6344, -3.280701"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67144)">
                <If Condition="GetQuestStep(67144) == 1">
                    <GetTo ZoneId="397" XYZ="-334.8885, 93.59946, -194.6472"/> <!-- Grinding Area -->
                    <Grind grindRef="Purple_Flame_Purple_Flame" while="HasQuest(67144) and GetQuestStep(67144) == 1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67144) == 255">
                    <GetTo ZoneId="397" XYZ="-631.9219, 142.1073, -322.7131"/> <!-- Estinien -->

                    <!-- Rewards

                    Aether Current

                    -->

                    <TurnIn QuestId="67144" NpcId="1012670" ItemId="2001584" XYZ="-631.9219, 142.1073, -322.7131"/>
                </If>
            </If>
        </If>

        <!-- Aether Currents - Coerthas Western Highlands -->

        <!-- <GetTo ZoneId="397" XYZ="402.0293, 191.5159, 561.4252" /> -->
        <!-- Aether Current #1 -->

        <!-- Aether Current #1 -->

        <!-- <NoCombatMoveTo Name="Aether Current #1" XYZ="402.0293, 191.5159, 561.4252" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2005536).IsVisible">
            <UseObject NpcId="2005536" XYZ="402.0293, 191.5159, 561.4252" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #2 -->

        <!-- <NoCombatMoveTo Name="Aether Current #2" XYZ="148.0887, 186.9993, 232.166" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006193).IsVisible">
            <UseObject NpcId="2006193" XYZ="148.0887, 186.9993, 232.166" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #3 -->

        <!-- <NoCombatMoveTo Name="Aether Current #3" XYZ="371.4198, 165.484, 116.1669" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006192).IsVisible">
            <UseObject NpcId="2006192" XYZ="371.4198, 165.484, 116.1669" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #4 -->

        <!-- <NoCombatMoveTo Name="Aether Current #4" XYZ="616.0673, 118.2029, 179.1151" />
        <Dismount />
        <RunCode Name="CWHAetherCurrent4" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006186).IsVisible">
            <UseObject NpcId="2006186" XYZ="608.9417, 88.09033, 186.1143" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>
        <RunCode Name="CWHAetherCurrent4Complete" /> -->

        <!-- Aether Current #5 -->

        <!-- <NoCombatMoveTo Name="Aether Current #5" XYZ="435.6338, 171.2269, -554.9074" />
        <Dismount />
        <RunCode Name="CWHAetherCurrent5" />
        <MoveTo Name="Aether Current #5" XYZ="436.0315, 170.1193, -545.9077" UseMesh="False" />
        <MoveTo Name="Aether Current #5" XYZ="445.1338, 171.2269, -545.1742" UseMesh="False" />
        <MoveTo Name="Aether Current #5" XYZ="443.9939, 171.2269, -533.9135" UseMesh="False" />
        <MoveTo Name="Aether Current #5" XYZ="450.0945, 171.2269, -536.9135" UseMesh="False" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006187).IsVisible">
            <UseObject NpcId="2006187" XYZ="451.5297, 171.2214, -535.6985" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>
        <RunCode Name="CWHAetherCurrent5Complete" /> -->

        <!-- Aether Current #6 -->

        <!-- <NoCombatMoveTo Name="Current #6" XYZ="47.74548, 196.5819, -677.9431" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006190).IsVisible">
            <UseObject NpcId="2006190" XYZ="47.74548, 196.5819, -677.9431" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #7 -->

        <!-- <NoCombatMoveTo Name="Aether Current #7" XYZ="84.76379, 87.14417, -699.1531" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006188).IsVisible">
            <UseObject NpcId="2006188" XYZ="84.76379, 87.14417, -699.1531" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #8 -->

        <!-- <NoCombatMoveTo Name="Aether Current #8" XYZ="-438.9563, 110.2463, -740.0473" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006189).IsVisible">
            <UseObject NpcId="2006189" XYZ="-438.9563, 110.2463, -740.0473" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #9 -->

        <!-- <NoCombatMoveTo Name="Aether Current #9" XYZ="-548.4756, 118.947, -164.9303" />
        <MoveTo Name="Aether Current #9" XYZ="-593.918, 119.5117, -170.432" />
        <NoCombatMoveTo Name="Aether Current #9" XYZ="-574.8524, 122.2301, -183.6965" UseMesh="False" />
        <Dismount />
        <NoCombatMoveTo Name="Aether Current #9" XYZ="-572.2292, 124.4429, -187.6903" UseMesh="False" />
        <NoCombatMoveTo Name="Aether Current #9" XYZ="-565.8091, 126.5838, -190.6416" UseMesh="False" />
        <RunCode Name="CWHAetherCurrent9" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006191).IsVisible">
            <UseObject NpcId="2006191" XYZ="-575.2194, 133.9589, -196.0022" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>
        <RunCode Name="CWHAetherCurrent9Complete" /> -->

        <!-- Aether Current #10 -->

        <!-- <NoCombatMoveTo Name="Aether Current #10" XYZ="-77.09031, 139.0108, 598.4722" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006194).IsVisible">
            <UseObject NpcId="2006194" XYZ="-76.52399, 141.8325, 600.7935" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>

        <LogMessage Message="[Heavensward] You've attuned to the Aether Currents in Coerthas Western Highlands!" /> -->

        <If Condition="Core.Player.ClassLevel &lt; 52">
            <LogMessage Message="[Heavensward] You are not level 52 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 52..."/>
            <GetTo ZoneId="401" XYZ="-626.617, -122.5, 539.8152"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_52" while="Core.Player.ClassLevel &lt; 52"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 52 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 52 quests..."/>

        <!-- Level 52 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67557)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(67250)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(67215)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(67596)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(67226)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(67242)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67563)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(67220)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(67569)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(67208)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(67637)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(66122)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67256)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>

        <!-- [PickUp Quests] -->

        <!-- Where the Chocobos Roam -->
        <If Condition="not IsQuestCompleted(67145)">
            <If Condition="not HasQuest(67145)">
                <GetTo ZoneId="397" XYZ="-688.777, 121.5179, -390.4937"/> <!-- Ysayle -->
                <If Condition="IsQuestAcceptQualified(67145)">
                    <PickupQuest NpcId="1012609" QuestId="67145" XYZ="-688.777, 121.5179, -390.4937"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67145)">
                <If Condition="GetQuestStep(67145) == 1">
                    <GetTo ZoneId="397" XYZ="-847.7197, 117.683, -654.6157"/> <!-- The Dravanian Forelands -->
                    <RunCode Name="MoveForwardStart"/>
                    <WaitWhile Condition="GetQuestStep(67145) == 1"/>
                </If>
                <If Condition="GetQuestStep(67145) == 2">
                    <If Condition="not IsOnMap(398)">
                        <GetTo ZoneId="397" XYZ="-847.7197, 117.683, -654.6157"/> <!-- The Dravanian Forelands -->
                        <RunCode Name="MoveForwardStart"/>
                    </If>
                    <NoCombatMoveTo Name="Ysayle" XYZ="801.9073, -19.78812, 311.757"/>
                    <TalkTo NpcId="1012612" XYZ="801.9073, -19.78812, 311.757" QuestId="67145" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67145) == 255">
                    <If Condition="not IsOnMap(398)">
                        <GetTo ZoneId="397" XYZ="-847.7197, 117.683, -654.6157"/> <!-- The Dravanian Forelands -->
                        <RunCode Name="MoveForwardStart"/>
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(76)">
                        <LogMessage Message="[Heavensward] Attuning to the Tailfeather Aetheryte..."/>
                        <NoCombatMoveTo Name="Tailfeather Aetheryte" XYZ="529.4868, -51.27571, 48.58652"/>
                        <UseObject UseDistance="8.0" NpcId="76" XYZ="532.6771, -48.72211, 30.16699" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Tailfeather as your Home Point..."/>
                        <UseTransport NpcId="76" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="532.6771, -48.72211, 30.16699" Radius="10" WaitTime="5000"/>
                    </If>

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Body
                    1: Dragoon Body
                    2: Monk Body
                    3: Ninja Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67145" NpcId="1011916" XYZ="470.0236, -49.89133, 20.37079" RewardSlot="0" />

                    -->

                    <NoCombatMoveTo Name="Marcechamp" XYZ="470.0236, -49.89133, 20.37079"/>
                    <TurnIn QuestId="67145" NpcId="1011916" XYZ="470.0236, -49.89133, 20.37079" />
                </If>
            </If>
        </If>
        <!-- Worse than Dragons -->
        <If Condition="not IsQuestCompleted(67146)">
            <If Condition="not HasQuest(67146)">
                <GetTo ZoneId="398" XYZ="470.0236, -49.89133, 20.37079"/> <!-- Marcechamp -->
                <If Condition="IsQuestAcceptQualified(67146)">
                    <PickupQuest NpcId="1011916" QuestId="67146" XYZ="470.0236, -49.89133, 20.37079"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67146)">
                <If Condition="GetQuestStep(67146) == 1">
                    <GetTo ZoneId="398" XYZ="468.7723, -49.89133, 25.58936"/> <!-- Ysayle -->
                    <TalkTo NpcId="1012615" XYZ="468.7723, -49.89133, 25.58936" QuestId="67146" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67146) == 2">
                    <GetTo ZoneId="398" XYZ="633.7754, -40.05509, -294.6319"/> <!-- Grinding Area -->
                    <Grind grindRef="Worse_than_Dragons" while="HasQuest(67146) and GetQuestStep(67146) == 2"/>
                </If>
                <If Condition="GetQuestStep(67146) == 3">
                    <GetTo ZoneId="398" XYZ="231.8334, -56.74771, -256.6644"/> <!-- Grinding Area -->
                    <Grind grindRef="Worse_than_Dragons2" while="HasQuest(67146) and GetQuestStep(67146) == 3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67146) == 255">
                    <GetTo ZoneId="398" XYZ="169.604, -63.24872, -11.82581"/> <!-- Destination -->

                    <!-- Rewards

                    0: Bard/Machinist Body
                    1: White Mage/Scholoar/Astrologian Body
                    2: Black Mage/Summoner Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67146" NpcId="2005489" XYZ="169.604, -63.24872, -11.82581" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67146" NpcId="2005489" XYZ="169.604, -63.24872, -11.82581"/>
                </If>
            </If>
        </If>
        <!-- The Trine Towers -->
        <If Condition="not IsQuestCompleted(67147)">
            <If Condition="not HasQuest(67147)">
                <GetTo ZoneId="398" XYZ="167.2542, -63.61838, -9.23175"/> <!-- Ysayle -->
                <If Condition="IsQuestAcceptQualified(67147)">
                    <PickupQuest NpcId="1012619" QuestId="67147" XYZ="167.2542, -63.61838, -9.23175"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67147)">
                <If Condition="GetQuestStep(67147) == 1">
                    <GetTo ZoneId="398" XYZ="-178.9731, -105.5901, 508.812"/> <!-- Ysayle -->
                    <TalkTo NpcId="1012622" XYZ="-178.9731, -105.5901, 508.812" QuestId="67147" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67147) == 2">
                    <GetTo ZoneId="398" XYZ="-247.3205, -84.0005, 449.3726"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Trine_Towers" while="HasQuest(67147) and GetQuestStep(67147) == 2"/>
                </If>
                <If Condition="GetQuestStep(67147) == 3">
                    <GetTo ZoneId="398" XYZ="-281.8102, -63.24166, 333.3829"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Trine_Towers2" while="HasQuest(67147) and GetQuestStep(67147) == 3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67147) == 255">
                    <If Condition="not IsOnMap(398)">
                        <GetTo ZoneId="398" XYZ="-281.9285, -22.74173, 72.91431"/> <!-- Anyx Trine Aetheryte -->
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(77)">
                        <LogMessage Message="[Heavensward] Attuning to the Anyx Trine Aetheryte..."/>
                        <NoCombatMoveTo Name="Anyx Trine Aetheryte" XYZ="-281.9285, -22.74173, 72.91431"/>
                        <UseObject UseDistance="8.0" NpcId="77" XYZ="-304.1276, -16.70868, 32.05908" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Anyx Trine as your Home Point..."/>
                        <UseTransport NpcId="77" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="-304.1276, -16.70868, 32.05908" Radius="10" WaitTime="5000"/>
                    </If>

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Legs
                    1: Dragoon Legs
                    2: Monk Legs
                    3: Ninja Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67147" NpcId="1012625" XYZ="-212.726, -37.57478, 185.1682" RewardSlot="0" />

                    -->

                    <NoCombatMoveTo Name="Ysayle" XYZ="-212.726, -37.57478, 185.1682"/>
                    <TurnIn QuestId="67147" NpcId="1012625" XYZ="-212.726, -37.57478, 185.1682" />
                </If>
            </If>
        </If>
        <!-- Gifts for the Outcasts -->
        <If Condition="not IsQuestCompleted(67148)">
            <If Condition="not HasQuest(67148)">
                <GetTo ZoneId="398" XYZ="-247.6387, -30.29022, 109.3918"/> <!-- Ysayle -->
                <If Condition="IsQuestAcceptQualified(67148)">
                    <PickupQuest NpcId="1012628" QuestId="67148" XYZ="-247.6387, -30.29022, 109.3918"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67148)">
                <If Condition="GetQuestStep(67148) == 1">
                    <GetTo ZoneId="398" XYZ="470.0236, -49.89133, 20.37079"/> <!-- Marcechamp -->
                    <ExtendedTalkTo NpcId="1011916" XYZ="470.0236, -49.89133, 20.37079" QuestId="67148" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67148) == 2">
                    <GetTo ZoneId="398" XYZ="355.2737, -53.50389, -122.6128"/> <!-- Grinding Area -->
                    <Grind grindRef="Gifts_for_the_Outcasts" while="HasQuest(67148) and GetQuestStep(67148) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67148) == 255">
                    <GetTo ZoneId="398" XYZ="200, -55.46249, -233.4478"/> <!-- Alphinaud -->

                    <!-- Rewards

                    0: Bard/Machinist Legs
                    1: White Mage/Scholoar/Astrologian Legs
                    2: Black Mage/Summoner Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67148" NpcId="1012629" ItemId="2001580" XYZ="200, -55.46249, -233.4478" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67148" NpcId="1012629" ItemId="2001580" XYZ="200, -55.46249, -233.4478"/>
                </If>
            </If>
        </If>
        <!-- The Nonmind -->
        <If Condition="not IsQuestCompleted(67149)">
            <If Condition="not HasQuest(67149)">
                <GetTo ZoneId="398" XYZ="200, -55.46249, -233.4478"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67149)">
                    <PickupQuest NpcId="1012629" QuestId="67149" XYZ="200, -55.46249, -233.4478"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67149)">
                <If Condition="GetQuestStep(67149) == 1">
                    <GetTo ZoneId="398" XYZ="70.72546, -49.38516, -151.9952"/> <!-- Vath Fleetfoot -->
                    <TalkTo NpcId="1012671" XYZ="70.72546, -49.38516, -151.9952" QuestId="67149" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67149) == 255">
                    <GetTo ZoneId="398" XYZ="73.19751, -49.19563, -139.0555"/> <!-- Vath Storyteller -->

                    <!-- Rewards

                    0: Vitality Ring
                    1: Strength Ring
                    2: Dexterity Ring
                    3: Mind Ring
                    4: Intelligence Ring

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67149" NpcId="1011928" XYZ="73.19751, -49.19563, -139.0555" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67149" NpcId="1011928" XYZ="73.19751, -49.19563, -139.0555" />
                </If>
            </If>
        </If>

        <!-- Learn the Flyer Shaffron -->

        <If Condition="(ItemCount(6032) &gt; 0)">
            <LogMessage Message="[Heavensward] Learning the Flyer Shaffron..."/>
            <RunCode Name="LearnFlyerShaffron"/>
            <!-- <UseItem ItemId="6032" XYZ="120.6531, 14.95313, -156.6339" UseTimes="1" BlacklistAfter="True" /> -->
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 53">
            <LogMessage Message="[Heavensward] You are not level 53 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 53..."/>
            <GetTo ZoneId="398" XYZ="527.918, -51.27571, 41.3532"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_53" while="Core.Player.ClassLevel &lt; 53"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 53 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 53 quests..."/>

        <!-- [PickUp Quests] -->

        <!-- A Gnathic Deity -->
        <If Condition="not IsQuestCompleted(67150)">
            <If Condition="not HasQuest(67150)">
                <GetTo ZoneId="398" XYZ="77.46997, -49.24018, -148.9739"/> <!-- Ysayle -->
                <If Condition="IsQuestAcceptQualified(67150)">
                    <PickupQuest NpcId="1012636" QuestId="67150" XYZ="77.46997, -49.24018, -148.9739"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67150)">
                <While Condition="GetQuestStep(67150) == 1">
                    <GetTo ZoneId="398" XYZ="81.49841, -49.2125, -150.042"/> <!-- Cibleroit -->
                    <TalkTo NpcId="1011930" XYZ="81.49841, -49.2125, -150.042" QuestId="67150" StepId="1"/>
                    <TalkTo NpcId="1011928" XYZ="73.19751, -49.19563, -139.0555" QuestId="67150" StepId="1"/>
                    <TalkTo NpcId="1011929" XYZ="70.81714, -49.2083, -141.558" QuestId="67150" StepId="1"/>
                </While>
                <If Condition="GetQuestStep(67150) == 2">
                    <GetTo ZoneId="398" XYZ="56.83984, -49.92323, -135.9121"/> <!-- Voracious Vath -->
                    <TalkTo NpcId="1011931" XYZ="56.83984, -49.92323, -135.9121" QuestId="67150" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67150) == 3">
                    <GetTo ZoneId="398" XYZ="307.5416, -63.44037, -15.20505"/> <!-- Grinding Area -->
                    <Grind grindRef="A_Gnathic_Deity" while="HasQuest(67150) and GetQuestStep(67150) == 3"/>
                </If>
                <If Condition="GetQuestStep(67150) == 4">
                    <GetTo ZoneId="398" XYZ="56.83984, -49.92323, -135.9121"/> <!-- Voracious Vath -->
                    <HandOver ItemId="2001579" QuestId="67150" StepId="4" NpcId="1011931" XYZ="56.83984, -49.92323, -135.9121"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67150) == 255">
                    <GetTo ZoneId="398" XYZ="59.22021, -50.88858, -130.2358"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67150" NpcId="1013582" XYZ="59.22021, -50.88858, -130.2358"/>
                </If>
            </If>
        </If>
        <!-- Breaking into Hives -->
        <If Condition="not IsQuestCompleted(67151)">
            <If Condition="not HasQuest(67151)">
                <GetTo ZoneId="398" XYZ="59.22021, -50.88858, -130.2358"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67151)">
                    <PickupQuest NpcId="1013582" QuestId="67151" XYZ="59.22021, -50.88858, -130.2358"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67151)">
                <If Condition="GetQuestStep(67151) == 1">
                    <GetTo ZoneId="398" XYZ="190.5088, -118.3586, 567.7118"/> <!-- Gnath Drone -->
                    <TalkTo NpcId="1012639" XYZ="190.5088, -118.3586, 567.7118" QuestId="67151" StepId="1"/>
                    <Grind grindRef="Breaking_into_Hives" while="HasQuest(67151) and GetQuestStep(67151) == 1"/>
                </If>
                <If Condition="GetQuestStep(67151) == 2">
                    <GetTo ZoneId="398" XYZ="236.6521, -118.154, 564.4159"/> <!-- Ysayle -->
                    <TalkTo NpcId="1013192" XYZ="236.6521, -118.154, 564.4159" QuestId="67151" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67151) == 3">
                    <GetTo ZoneId="398" XYZ="172.4876, -112.1509, 586.3544"/> <!-- Grinding Area -->
                    <Grind grindRef="Breaking_into_Hives2" while="HasQuest(67151) and GetQuestStep(67151) == 3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67151) == 255">
                    <GetTo ZoneId="398" XYZ="394.3694, -93.98035, 731.8073"/> <!-- Destination -->
                    <TurnIn QuestId="67151" NpcId="2006423" XYZ="394.3694, -93.98035, 731.8073"/>
                </If>
            </If>
        </If>
        <!-- Lord of the Hive -->
        <If Condition="not IsQuestCompleted(67152)">
            <If Condition="not HasQuest(67152)">
                <GetTo ZoneId="398" XYZ="394.9492, -93.9111, 727.5348"/> <!-- Ysayle -->
                <If Condition="IsQuestAcceptQualified(67152)">
                    <PickupQuest NpcId="1012638" QuestId="67152" XYZ="394.9492, -93.9111, 727.5348"/>
                </If>
                <WaitWhile Condition="not HasQuest(67152)"/>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67152)">
                <If Condition="GetQuestStep(67152) == 1">
                    <WaitWhile Condition="GetQuestStep(67152) == 1"/>
                </If>
                <If Condition="GetQuestStep(67152) == 2">
                    <If Condition="not IsOnMap(398) and not IsOnMap(462)">
                        <GetTo ZoneId="398" XYZ="-9.079163, -127.7333, 734.0046"/> <!-- Sacrificial Chamber Entrance -->
                    </If>
                    <If Condition="IsOnMap(398)">
                        <UseTransport Name="Sacrificial Chamber Entrance" InteractDistance="3.0" NpcId="2005446" XYZ="-9.079163, -127.7333, 734.0046"/>
                    </If>
                    <MoveTo Name="Inner Chamber" XYZ="-6.37802, -0.02866316, 19.86776"/>
                    <WaitWhile Condition="GetQuestStep(67152) == 2"/>
                </If>
                <If Condition="GetQuestStep(67152) == 3">
                    <RunCode Name="Lord_of_the_Hive"/>
                    <StopBot/>
                </If>
                <If Condition="GetQuestStep(67152) == 5">
                    <GetTo ZoneId="398" XYZ="-10.9408, -128.9908, 728.2673"/> <!-- Ysayle -->
                    <TalkTo NpcId="1012656" XYZ="-10.9408, -128.9908, 728.2673" QuestId="67152" StepId="5"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67152) == 255">
                    <GetTo ZoneId="398" XYZ="56.35156, -50.57729, -142.5041"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67152" NpcId="1014544" XYZ="56.35156, -50.57729, -142.5041"/>
                </If>
            </If>
        </If>
        <!-- Mourn in Passing -->
        <If Condition="not IsQuestCompleted(67153)">
            <If Condition="not HasQuest(67153)">
                <GetTo ZoneId="398" XYZ="58.91504, -50.32516, -146.9597"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67153)">
                    <PickupQuest NpcId="1013584" QuestId="67153" XYZ="58.91504, -50.32516, -146.9597"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67153)">
                <If Condition="GetQuestStep(67153) == 1">
                    <GetTo ZoneId="398" XYZ="-248.6458, -30.09581, 102.2201"/> <!-- Vidofnir -->
                    <TalkTo NpcId="1012657" XYZ="-248.6458, -30.09581, 102.2201" QuestId="67153" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67153) == 2">
                    <GetTo ZoneId="398" XYZ="-688.3802, 4.898132, -794.8882"/> <!-- Vidofnir -->
                    <UseObject NpcId="2005448" XYZ="-688.3802, 4.898132, -794.8882" Radius="10" QuestId="67153" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67153) == 3">
                    <RunCode Name="Mourn_in_Passing"/>
                    <StopBot/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67153) == 255">
                    <If Condition="not IsOnMap(398) and not IsOnMap(400)">
                        <GetTo ZoneId="398" XYZ="-693.843, 5.20875, -840.9705"/> <!-- Solemn Dragon -->
                    </If>
                    <If Condition="IsOnMap(398)">
                        <NoCombatMoveTo Name="Solemn Dragon" XYZ="-693.843, 5.20875, -840.9705"/>
                        <UseTransport Name="Churning Mists" InteractDistance="3.0" NpcId="1011946" XYZ="-693.843, 5.20875, -840.9705"/>
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(78)">
                        <LogMessage Message="[Heavensward] Attuning to the Moghome Aetheryte..."/>
                        <NoCombatMoveTo Name="Moghome Aetheryte" XYZ="247.9632, -41.89064, 608.1402"/>
                        <UseObject UseDistance="8.0" NpcId="78" XYZ="259.205, -37.70508, 596.8566" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Moghome as your Home Point..."/>
                        <UseTransport NpcId="78" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="259.205, -37.70508, 596.8566" Radius="10" WaitTime="5000"/>
                    </If>

                    <!-- Rewards

                    Aether Current

                    -->

                    <NoCombatMoveTo Name="Alphinaud" XYZ="240.3142, -42.31706, 615.1063"/>
                    <TurnIn QuestId="67153" NpcId="1012661" XYZ="240.3142, -42.31706, 615.1063"/>
                </If>
            </If>
        </If>

        <!-- Aether Currents - The Dravanian Forelands -->

        <!-- <GetTo ZoneId="398" XYZ="527.918, -51.27571, 41.3532" /> -->
        <!-- Aether Current #1 -->

        <!-- Aether Current #1 -->

        <!-- <NoCombatMoveTo Name="Aether Current #1" XYZ="765.0111, -15.82361, 289.082" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006195).IsVisible">
            <UseObject NpcId="2006195" XYZ="765.0111, -15.82361, 289.082" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #2 -->

        <!-- <NoCombatMoveTo Name="Aether Current #2" XYZ="707.7285, -41.12317, -14.57245" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006197).IsVisible">
            <UseObject NpcId="2006197" XYZ="707.7285, -41.12317, -14.57245" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #3 -->

        <!-- <NoCombatMoveTo Name="Aether Current #3" XYZ="76.65692, -25.72983, -417.761" />
        <MoveTo Name="Aether Current #3" XYZ="115.9782, -16.71083, -398.2819" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="117.967, -21.74892, -377.5195" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="142.2351, -21.13799, -378.1878" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="154.3332, -19.00925, -397.6129" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="148.4066, -17.88634, -416.458" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="148.9155, -7.533844, -428.7457" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="152.4397, -3.649111, -449.4069" UseMesh="False" />
        <MoveTo Name="Aether Current #3" XYZ="152.0423, -4.217939, -451.875" UseMesh="False" />
        <RunCode Name="DFAetherCurrent3" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006204).IsVisible">
            <UseObject NpcId="2006204" XYZ="167.2235, -4.226807, -479.4537" Radius="10" UseTimes="1" BlacklistAfter="True" UseMesh="False" />
        </If>
        <RunCode Name="DFAetherCurrent3Complete" /> -->

        <!-- Aether Current #4 -->

        <!-- <NoCombatMoveTo Name="Aether Current #4" XYZ="156.5426, -64.44354, -4.897316" />
        <MoveTo Name="Aether Current #4" XYZ="183.0981, -59.54949, 7.375731" />
        <MoveTo Name="Aether Current #4" XYZ="191.2421, -52.33182, 6.759422" UseMesh="False" />
        <MoveTo Name="Aether Current #4" XYZ="196.3268, -46.45365, 12.70039" UseMesh="False" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006198).IsVisible">
            <UseObject NpcId="2006198" XYZ="207.9957, -36.54541, 3.494263" Radius="10" UseTimes="1" BlacklistAfter="True" UseMesh="False" />
        </If> -->

        <!-- Aether Current #5 -->

        <!-- <NoCombatMoveTo Name="Aether Current #5" XYZ="384.8783, -41.703, 74.26563" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006196).IsVisible">
            <UseObject NpcId="2006196" XYZ="384.8783, -41.703, 74.26563" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #6 -->

        <!-- <NoCombatMoveTo Name="Aether Current #6" XYZ="244.0432, -109.7196, 821.3792" />
        <MoveTo Name="Aether Current #6" XYZ="262.5958, -110.4613, 825.6273" />
        <Dismount />
        <RunCode Name="DFAetherCurrent6" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006199).IsVisible">
            <UseObject NpcId="2006199" XYZ="256.8245, -104.6006, 834.3175" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>
        <RunCode Name="DFAetherCurrent6Complete" /> -->

        <!-- Aether Current #7 -->

        <!-- <NoCombatMoveTo Name="Aether Current #7" XYZ="-143.6942, -83.66528, 611.139" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006200).IsVisible">
            <UseObject NpcId="2006200" XYZ="-143.6942, -83.66528, 611.139" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #8 -->

        <!-- <NoCombatMoveTo Name="Aether Current #8" XYZ="-662.623, -102.9221, 680.7201" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006203).IsVisible">
            <UseObject NpcId="2006203" XYZ="-662.623, -102.9221, 680.7201" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #9 -->

        <!-- <NoCombatMoveTo Name="Aether Current #9" XYZ="18.6618, -25.86407, -103.8682" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006201).IsVisible">
            <UseObject NpcId="2006201" XYZ="18.6618, -25.86407, -103.8682" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #10 -->

        <!-- <NoCombatMoveTo Name="Aether Current #10" XYZ="-395.7946, 201.364, -194.1964" />
        <MoveTo Name="Aether Current #10" XYZ="-485.9394, 223.2814, -174.9546" />
        <MoveTo Name="Aether Current #10" XYZ="-468.1923, 223.1197, -144.5773" />
        <MoveTo Name="Aether Current #10" XYZ="-487.9378, 223.8956, -135.4238" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006202).IsVisible">
            <UseObject NpcId="2006202" XYZ="-487.9378, 223.8956, -135.4238" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>

        <LogMessage Message="[Heavensward] You've attuned to the Aether Currents in The Dravanian Forelands!" /> -->

        <!-- [PickUp Quest] -->

        <!-- Beyond the Clouds -->
        <If Condition="not IsQuestCompleted(67154)">
            <If Condition="not HasQuest(67154)">
                <GetTo ZoneId="400" XYZ="240.3142, -42.31706, 615.1063"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67154)">
                    <PickupQuest NpcId="1012661" QuestId="67154" XYZ="240.3142, -42.31706, 615.1063"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67154)">
                <If Condition="GetQuestStep(67154) == 1">
                    <GetTo ZoneId="400" XYZ="287.5563, -46.7009, 663.8741"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1013195" XYZ="287.5563, -46.7009, 663.8741" QuestId="67154" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67154) == 2">
                    <GetTo ZoneId="400" XYZ="379.2324, -69.44385, 690.3027"/> <!-- Destination -->
                    <UseObject NpcIds="2005451,2005452,2005450" QuestId="67154" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="379.2324, -69.44385, 690.3027" Radius="10"/>
                            <HotSpot XYZ="402.0293, -73.13647, 668.4214" Radius="10"/>
                            <HotSpot XYZ="405.9052, -72.58722, 696.2843" Radius="10"/>
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67154) == 255">
                    <GetTo ZoneId="400" XYZ="364.3091, -74.10719, 654.322"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67154" NpcId="1012664" XYZ="364.3091, -74.10719, 654.322"/>
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 54">
            <LogMessage Message="[Heavensward] You are not level 54 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 54..."/>
            <GetTo ZoneId="398" XYZ="-300.4373, -21.13108, 37.52076"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_54" while="Core.Player.ClassLevel &lt; 54"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 54 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 54 quests..."/>

        <!-- Level 54 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67558)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(67251)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(67216)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(67597)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(67228)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(67243)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67564)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(67221)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(67570)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(67209)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(67638)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(66124)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67257)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>

        <!-- [PickUp Quests] -->

        <!-- Mountaintop Diplomacy -->
        <If Condition="not IsQuestCompleted(67155)">
            <If Condition="not HasQuest(67155)">
                <GetTo ZoneId="400" XYZ="364.3091, -74.10719, 654.322"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67155)">
                    <PickupQuest NpcId="1012664" QuestId="67155" XYZ="364.3091, -74.10719, 654.322"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67155)">
                <If Condition="GetQuestStep(67155) == 1">
                    <GetTo ZoneId="133" XYZ="-157.702, 4.027276, -23.97198"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012846" XYZ="-157.702, 4.027276, -23.97198" QuestId="67155" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67155) == 2">
                    <If Condition="not IsOnMap(133) and not IsOnMap(205)">
                        <GetTo ZoneId="133" XYZ="-159.411, 4.054098, -4.104736"/> <!-- Lotus Stand -->
                    </If>
                    <If Condition="IsOnMap(133)">
                        <UseTransport Name="Lotus Stand" InteractDistance="3.0" NpcId="1000460" XYZ="-159.411, 4.054098, -4.104736"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67155) == 2"/>
                </If>
                <If Condition="GetQuestStep(67155) == 3">
                    <GetTo ZoneId="133" XYZ="-157.702, 4.027276, -23.97198"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012846" XYZ="-157.702, 4.027276, -23.97198" QuestId="67155" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67155) == 4">
                    <GetTo ZoneId="400" XYZ="369.1614, -73.9486, 660.151"/> <!-- Estinien -->
                    <ExtendedTalkTo NpcId="1012667" XYZ="369.1614, -73.9486, 660.151" QuestId="67155" StepId="4"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67155) == 255">
                    <GetTo ZoneId="400" XYZ="381.7043, -66.84979, 700.8619"/> <!-- Moglin -->

                    <!-- Rewards

                    0: Paladin Weapon
                    1: Warrior Weapon
                    2: Dark Knight Weapon
                    3: Piety Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67155" NpcId="1012077" XYZ="381.7043, -66.84979, 700.8619" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67155" NpcId="1012077" XYZ="381.7043, -66.84979, 700.8619" />
                </If>
            </If>
        </If>
        <!-- Moghan's Trial -->
        <If Condition="not IsQuestCompleted(67156)">
            <If Condition="not HasQuest(67156)">
                <GetTo ZoneId="400" XYZ="375.3567, -69.42934, 693.5072"/> <!-- Moghan -->
                <If Condition="IsQuestAcceptQualified(67156)">
                    <PickupQuest NpcId="1012078" QuestId="67156" XYZ="375.3567, -69.42934, 693.5072"/>
                </If>
            </If>
        </If>
        <!-- Mogmug's Trial -->
        <If Condition="not IsQuestCompleted(67157)">
            <If Condition="not HasQuest(67157)">
                <GetTo ZoneId="400" XYZ="392.2026, -72.34356, 649.5612"/> <!-- Mogmug -->
                <If Condition="IsQuestAcceptQualified(67157)">
                    <PickupQuest NpcId="1012080" QuestId="67157" XYZ="392.2026, -72.34356, 649.5612"/>
                </If>
            </If>
        </If>
        <!-- Mogwin's Trial -->
        <If Condition="not IsQuestCompleted(67158)">
            <If Condition="not HasQuest(67158)">
                <GetTo ZoneId="400" XYZ="355.8556, -74.53787, 639.6123"/> <!-- Mogwin -->
                <If Condition="IsQuestAcceptQualified(67158)">
                    <PickupQuest NpcId="1012083" QuestId="67158" XYZ="355.8556, -74.53787, 639.6123"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67158)">
                <While Condition="GetQuestStep(67158) == 1">
                    <GetTo ZoneId="400" XYZ="364.0955, -73.26239, 678.004"/> <!-- Mogomo -->
                    <TalkTo NpcId="1012081" XYZ="364.0955, -73.26239, 678.004" QuestId="67158" StepId="1"/>
                    <TalkTo NpcId="1015174" XYZ="360.5859, -72.66654, 706.2333" QuestId="67158" StepId="1"/>
                    <TalkTo NpcId="1012079" XYZ="406.7596, -73.59544, 702.571" QuestId="67158" StepId="1"/>
                </While>
                <If Condition="GetQuestStep(67158) == 2">
                    <GetTo ZoneId="400" XYZ="355.8556, -74.53787, 639.6123"/> <!-- Mogwin -->
                    <TalkTo NpcId="1012083" XYZ="355.8556, -74.53787, 639.6123" QuestId="67158" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67158) == 3">
                    <GetTo ZoneId="400" XYZ="261.2496, 12.4361, 622.0645"/> <!-- Painted Stone -->
                    <UseObject NpcId="2005456" XYZ="261.2496, 12.4361, 622.0645" Radius="10" QuestId="67158" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67158) == 255">
                    <GetTo ZoneId="400" XYZ="355.8556, -74.53787, 639.6123"/> <!-- Mogwin -->

                    <!-- Rewards

                    0: White Mage Weapon
                    1: Scholar Weapon
                    2: Astrologian Weapon
                    3: Strength Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67158" NpcId="1012083" ItemId="2001583" XYZ="355.8556, -74.53787, 639.6123" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67158" NpcId="1012083" ItemId="2001583" XYZ="355.8556, -74.53787, 639.6123"/>
                </If>
            </If>
        </If>

        <!-- [Complete Quests] -->

        <!-- Mogmug's Trial -->
        <If Condition="not IsQuestCompleted(67157)">
            <If Condition="HasQuest(67157)">
                <If Condition="GetQuestStep(67157) == 1">
                    <GetTo ZoneId="400" XYZ="244.3373, -40.10764, 440.2399"/> <!-- Grinding Area -->
                    <Grind grindRef="Mogmugs_Trial" while="HasQuest(67157) and GetQuestStep(67157) == 1"/>
                </If>
            </If>
        </If>
        <!-- Moghan's Trial -->
        <If Condition="not IsQuestCompleted(67156)">
            <If Condition="HasQuest(67156)">
                <If Condition="GetQuestStep(67156) == 1">
                    <GetTo ZoneId="400" XYZ="223.5599, -38.68164, 440.6346"/> <!-- Cloudsbreath -->
                    <UseObject NpcIds="2005455,2005453,2005454" QuestId="67156" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="223.5599, -38.68164, 440.6346" Radius="10"/>
                            <HotSpot XYZ="289.9366, -37.9798, 483.5431" Radius="10"/>
                            <HotSpot XYZ="339.7115, -12.46667, 411.3069" Radius="10"/>
                        </HotSpots>
                    </UseObject>
                </If>
            </If>
        </If>

        <!-- [TurnIn Quests] -->

        <!-- Mogmug's Trial -->
        <If Condition="not IsQuestCompleted(67157)">
            <If Condition="HasQuest(67157)">
                <If Condition="GetQuestStep(67157) == 255">
                    <GetTo ZoneId="400" XYZ="392.2026, -72.34356, 649.5612"/> <!-- Mogmug -->

                    <!-- Rewards

                    0: Bard Weapon
                    1: Machinist Weapon
                    2: Black Mage Weapon
                    3: Summoner Weapon
                    4: Mind Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67157" NpcId="1012080" XYZ="392.2026, -72.34356, 649.5612" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67157" NpcId="1012080" XYZ="392.2026, -72.34356, 649.5612" />
                </If>
            </If>
        </If>
        <!-- Moghan's Trial -->
        <If Condition="not IsQuestCompleted(67156)">
            <If Condition="HasQuest(67156)">
                <If Condition="GetQuestStep(67156) == 255">
                    <GetTo ZoneId="400" XYZ="375.3567, -69.42934, 693.5072"/> <!-- Moghan -->

                    <!-- Rewards

                    0: Dragoon Weapon
                    1: Monk Weapon
                    2: Ninja Weapon
                    3: Paladin Shield

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67156" NpcId="1012078" ItemId="2001581" XYZ="375.3567, -69.42934, 693.5072" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67156" NpcId="1012078" ItemId="2001581" XYZ="375.3567, -69.42934, 693.5072" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quests] -->

        <!-- Moglin's Judgment -->
        <If Condition="not IsQuestCompleted(67159)">
            <If Condition="not HasQuest(67159)">
                <GetTo ZoneId="400" XYZ="381.7043, -66.84979, 700.8619"/> <!-- Moglin -->
                <If Condition="IsQuestAcceptQualified(67159)">
                    <PickupQuest NpcId="1012077" QuestId="67159" XYZ="381.7043, -66.84979, 700.8619"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67159)">
                <If Condition="GetQuestStep(67159) == 1">
                    <If Condition="not IsTodoChecked(67159, 1, 2)">
                        <GetTo ZoneId="400" XYZ="392.0804, -72.3437, 655.024"/> <!-- Ysayle -->
                        <TalkTo NpcId="1013588" XYZ="392.0804, -72.3437, 655.024" QuestId="67159" StepId="1"/>
                    </If>
                    <If Condition="not IsTodoChecked(67159, 1, 4)">
                        <GetTo ZoneId="400" XYZ="392.2635, -72.34358, 645.1361"/> <!-- Kuplo Kopp -->
                        <TalkTo NpcId="1013590" XYZ="392.2635, -72.34358, 645.1361" QuestId="67159" StepId="1"/>
                    </If>
                    <If Condition="not IsTodoChecked(67159, 1, 3)">
                        <GetTo ZoneId="400" XYZ="368.5206, -74.14886, 647.9437"/> <!-- Kan-E-Senna -->
                        <TalkTo NpcId="1013589" XYZ="368.5206, -74.14886, 647.9437" QuestId="67159" StepId="1"/>
                    </If>
                    <If Condition="not IsTodoChecked(67159, 1, 0)">
                        <GetTo ZoneId="400" XYZ="360.0061, -73.64376, 669.5811"/> <!-- Alphinaud -->
                        <TalkTo NpcId="1013586" XYZ="360.0061, -73.64376, 669.5811" QuestId="67159" StepId="1"/>
                    </If>
                    <If Condition="not IsTodoChecked(67159, 1, 1)">
                        <GetTo ZoneId="400" XYZ="337.7279, -74.33926, 648.0048"/> <!-- Estinien -->
                        <TalkTo NpcId="1013587" XYZ="337.7279, -74.33926, 648.0048" QuestId="67159" StepId="1"/>
                    </If>
                </If>
                <If Condition="GetQuestStep(67159) == 2">
                    <GetTo ZoneId="400" XYZ="381.7043, -66.84979, 700.8619"/> <!-- Moglin -->
                    <ExtendedTalkTo NpcId="1012077" XYZ="381.7043, -66.84979, 700.8619" QuestId="67159" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67159) == 255">
                    <GetTo ZoneId="400" XYZ="375.3567, -69.42934, 693.5072"/> <!-- Moghan -->
                    <TurnIn QuestId="67159" NpcId="1012078" XYZ="375.3567, -69.42934, 693.5072"/>
                </If>
            </If>
        </If>
        <!-- Leaving Moghome -->
        <If Condition="not IsQuestCompleted(67160)">
            <If Condition="not HasQuest(67160)">
                <GetTo ZoneId="400" XYZ="375.3567, -69.42934, 693.5072"/> <!-- Moghan -->
                <If Condition="IsQuestAcceptQualified(67160)">
                    <PickupQuest NpcId="1012078" QuestId="67160" XYZ="375.3567, -69.42934, 693.5072"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67160)">
                <If Condition="GetQuestStep(67160) == 1">
                    <GetTo ZoneId="400" XYZ="364.3091, -74.10719, 654.322"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012664" XYZ="364.3091, -74.10719, 654.322" QuestId="67160" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67160) == 2">
                    <GetTo ZoneId="400" XYZ="368.5206, -74.14886, 647.9437"/> <!-- Kan-E-Senna -->
                    <TalkTo NpcId="1013589" XYZ="368.5206, -74.14886, 647.9437" QuestId="67160" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67160) == 255">
                    <GetTo ZoneId="400" XYZ="241.1992, -42.24947, 609.2775"/> <!-- Moghan -->
                    <TurnIn QuestId="67160" NpcId="1012682" XYZ="241.1992, -42.24947, 609.2775"/>
                </If>
            </If>
        </If>
        <!-- The Road to Zenith -->
        <If Condition="not IsQuestCompleted(67161)">
            <If Condition="not HasQuest(67161)">
                <GetTo ZoneId="400" XYZ="241.1992, -42.24947, 609.2775"/> <!-- Moghan -->
                <If Condition="IsQuestAcceptQualified(67161)">
                    <PickupQuest NpcId="1012682" QuestId="67161" XYZ="241.1992, -42.24947, 609.2775"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67161)">
                <If Condition="GetQuestStep(67161) == 1">
                    <GetTo ZoneId="400" XYZ="305.2218, -41.43145, 326.319"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Road_to_Zenith" while="HasQuest(67161) and GetQuestStep(67161) == 1"/>
                </If>
                <If Condition="GetQuestStep(67161) == 2">
                    <GetTo ZoneId="400" XYZ="202.4413, -23.34785, 166.9489"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Road_to_Zenith2" while="HasQuest(67161) and GetQuestStep(67161) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67161) == 255">
                    <GetTo ZoneId="400" XYZ="-79.88104, -8.844478, 206.2256"/> <!-- Moghan -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Body
                    1: Dragoon Body
                    2: Monk Body
                    3: Ninja Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67161" NpcId="1013202" XYZ="-79.88104, -8.844478, 206.2256" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67161" NpcId="1013202" XYZ="-79.88104, -8.844478, 206.2256" />
                </If>
            </If>
        </If>
        <!-- Waiting for the Wind to Change -->
        <If Condition="not IsQuestCompleted(67162)">
            <If Condition="not HasQuest(67162)">
                <GetTo ZoneId="400" XYZ="-79.88104, -8.844478, 206.2256"/> <!-- Moghan -->
                <If Condition="IsQuestAcceptQualified(67162)">
                    <PickupQuest NpcId="1013202" QuestId="67162" XYZ="-79.88104, -8.844478, 206.2256"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67162)">
                <If Condition="GetQuestStep(67162) == 1">
                    <GetTo ZoneId="400" XYZ="-258.5031, 30.37311, 562.2797"/> <!-- Moghan -->
                    <TalkTo NpcId="1012759" XYZ="-258.5031, 30.37311, 562.2797" QuestId="67162" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67162) == 2">
                    <If Condition="not IsTodoChecked(67162, 2, 0)">
                        <GetTo ZoneId="400" XYZ="-206.5459, -14.9097, 343.5305"/> <!-- Grinding Area -->
                        <Grind grindRef="Waiting_for_the_Wind_to_Change" while="HasQuest(67162) and not IsTodoChecked(67162, 2, 0)"/>
                    </If>
                    <If Condition="not IsTodoChecked(67162, 2, 1)">
                        <GetTo ZoneId="400" XYZ="-109.5393, -9.73815, 386.3467"/> <!-- Grinding Area -->
                        <Grind grindRef="Waiting_for_the_Wind_to_Change2" while="HasQuest(67162) and not IsTodoChecked(67162, 2, 1)"/>
                    </If>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67162) == 255">
                    <GetTo ZoneId="400" XYZ="-261.8297, 30.37311, 557.946"/> <!-- Estinien -->

                    <!-- Rewards

                    0: Bard/Machinist Body
                    1: White Mage/Scholoar/Astrologian Body
                    2: Black Mage/Summoner Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67162" NpcId="1012757" XYZ="-261.8297, 30.37311, 557.946" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67162" NpcId="1012757" XYZ="-261.8297, 30.37311, 557.946"/>
                </If>
            </If>
        </If>
        <!-- Heart of Ice -->
        <If Condition="not IsQuestCompleted(67163)">
            <If Condition="not HasQuest(67163)">
                <GetTo ZoneId="400" XYZ="-258.5031, 30.37311, 562.2797"/> <!-- Moghan -->
                <If Condition="IsQuestAcceptQualified(67163)">
                    <PickupQuest NpcId="1012759" QuestId="67163" XYZ="-258.5031, 30.37311, 562.2797"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67163)">
                <If Condition="GetQuestStep(67163) == 1">
                    <If Condition="not IsOnMap(400)">
                        <GetTo ZoneId="400" XYZ="-557.9929, 48, 329.6962"/> <!-- Zenith Aetheryte -->
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(79)">
                        <LogMessage Message="[Heavensward] Attuning to the Zenith Aetheryate..."/>
                        <NoCombatMoveTo Name="Zenith Aetheryte" XYZ="-557.9929, 48, 329.6962"/>
                        <UseObject UseDistance="8.0" NpcId="79" XYZ="-584.9546, 52.84192, 313.4354" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Zenith as your Home Point..."/>
                        <UseTransport NpcId="79" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="-584.9546, 52.84192, 313.4354" Radius="10" WaitTime="5000"/>
                    </If>
                    <MoveTo Name="Destination" XYZ="-758.3582, 123.7048, 214.496"/>
                    <UseObject NpcId="2005459" XYZ="-758.3582, 123.7048, 214.496" Radius="10" QuestId="67163" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67163) == 255">
                    <GetTo ZoneId="400" XYZ="-758.3582, 123.7048, 214.496"/> <!-- Alphinaud -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Legs
                    1: Dragoon Legs
                    2: Monk Legs
                    3: Ninja Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67163" NpcId="1012694" XYZ="-758.3276, 123.7287, 210.7423" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67163" NpcId="1012694" XYZ="-758.3276, 123.7287, 210.7423" />
                </If>
            </If>
        </If>
        <!-- The Wyrm's Lair -->
        <If Condition="not IsQuestCompleted(67164)">
            <If Condition="not HasQuest(67164)">
                <GetTo ZoneId="400" XYZ="-758.3276, 123.7287, 210.7423"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67164)">
                    <PickupQuest NpcId="1012694" QuestId="67164" XYZ="-758.3276, 123.7287, 210.7423"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67164)">
                <If Condition="GetQuestStep(67164) == 1">
                    <GetTo ZoneId="400" XYZ="-452.76, 44.00768, 406.6259"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Wyrms_Lair" while="HasQuest(67164) and GetQuestStep(67164) == 1"/>
                </If>
                <If Condition="GetQuestStep(67164) == 2">
                    <GetTo ZoneId="400" XYZ="153.9107, -23.31803, 177.9893"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Wyrms_Lair2" while="HasQuest(67164) and GetQuestStep(67164) == 2"/>
                </If>
                <If Condition="GetQuestStep(67164) == 3">
                    <GetTo ZoneId="400" XYZ="396.783, -29.18642, -145.4636"/> <!-- Grinding Area -->
                    <Grind grindRef="The_Wyrms_Lair3" while="HasQuest(67164) and GetQuestStep(67164) == 3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67164) == 255">
                    <GetTo ZoneId="400" XYZ="569.1766, -1.191689, -370.2297"/> <!-- Estinien -->

                    <!-- Rewards

                    0: Bard/Machinist Legs
                    1: White Mage/Scholoar/Astrologian Legs
                    2: Black Mage/Summoner Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67164" NpcId="1012698" XYZ="569.1766, -1.191689, -370.2297" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67164" NpcId="1012698" XYZ="569.1766, -1.191689, -370.2297"/>
                </If>
            </If>
        </If>
        <!-- New Winds, Old Friends -->
        <If Condition="not IsQuestCompleted(67165)">
            <If Condition="not HasQuest(67165)">
                <GetTo ZoneId="400" XYZ="569.1766, -1.191689, -370.2297"/> <!-- Estinien -->
                <If Condition="IsQuestAcceptQualified(67165)">
                    <PickupQuest NpcId="1012698" QuestId="67165" XYZ="569.1766, -1.191689, -370.2297"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67165)">
                <If Condition="GetQuestStep(67165) == 1">
                    <GetTo ZoneId="418" XYZ="-106.9505, 15.16852, -40.60431"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012720" XYZ="-106.9505, 15.16852, -40.60431" QuestId="67165" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67165) == 2">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Emmanellain" XYZ="-2.121033, 0.009368896, -9.567444"/>
                    <TalkTo NpcId="1012583" XYZ="-2.121033, 0.009368896, -9.567444" QuestId="67165" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67165) == 3">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="419" XYZ="151.0184, -12.63491, -28.67175"/> <!-- Cid -->
                    <TalkTo NpcId="1012709" XYZ="151.0184, -12.63491, -28.67175" QuestId="67165" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67165) == 255">
                    <GetTo ZoneId="418" XYZ="-160.5402, 16.97958, -39.96344"/> <!-- Biggs -->
                    <TurnIn QuestId="67165" NpcId="1012714" XYZ="-160.5402, 16.97958, -39.96344"/>
                </If>
            </If>
        </If>
        <!-- A General Summons -->
        <If Condition="not IsQuestCompleted(67166)">
            <If Condition="not HasQuest(67166)">
                <GetTo ZoneId="418" XYZ="-162.4934, 16.97958, -37.52197"/> <!-- Tataru -->
                <If Condition="IsQuestAcceptQualified(67166)">
                    <PickupQuest NpcId="1012721" QuestId="67166" XYZ="-162.4934, 16.97958, -37.52197"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67166)">
                <If Condition="GetQuestStep(67166) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="-480.9186, 17.99036, -386.862"/> <!-- Waking Sands Entrance -->
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67166) == 1"/>
                </If>
                <If Condition="GetQuestStep(67166) == 2">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="-480.9186, 17.99036, -386.862"/> <!-- Waking Sands Entrance -->
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Yugiri" XYZ="-6.881897, -7.450581E-09, -3.128174"/>
                    <TalkTo NpcId="1013154" XYZ="-6.881897, -7.450581E-09, -3.128174" QuestId="67166" StepId="2"/>
                </If>
                <While Condition="GetQuestStep(67166) == 3">
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Exit to Vesper Bay" InteractDistance="3.0" NpcId="2001716" XYZ="-15.7016, 1.083313, -0.01531982"/>
                    </If>
                    <GetTo ZoneId="140" XYZ="-227.0685, 31.93868, 386.8716"/> <!-- Silver Bazaar Residents -->
                    <TalkTo NpcId="1002047" XYZ="-223.8041, 32.90774, 401.9989" QuestId="67166" StepId="3"/>
                    <TalkTo NpcId="1002014" XYZ="-253.4371, 33.23899, 404.0436" QuestId="67166" StepId="3"/>
                    <TalkTo NpcId="1002030" XYZ="-296.315, 16.96413, 334.1573" QuestId="67166" StepId="3"/>
                </While>
                <If Condition="GetQuestStep(67166) == 4">
                    <GetTo ZoneId="140" XYZ="-207.9958, 35.25, 431.4487"/> <!-- Meriel -->
                    <ExtendedTalkTo NpcId="1013392" XYZ="-207.9958, 35.25, 431.4487" QuestId="67166" StepId="4"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67166) == 255">
                    <GetTo ZoneId="140" XYZ="-229.2058, 33.90731, 428.4275"/> <!-- Alphinaud -->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Waist
                    1: Dragoon Waist
                    2: Monk Waist
                    3: Ninja Waist

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67364" NpcId="1013420" XYZ="-511.4672, 50, 347.0968" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67166" NpcId="1012729" XYZ="-229.2058, 33.90731, 428.4275" />
                </If>
            </If>
        </If>
        <!-- Awakening in Ul'dah -->
        <If Condition="not IsQuestCompleted(67167)">
            <If Condition="not HasQuest(67167)">
                <GetTo ZoneId="140" XYZ="-229.2058, 33.90731, 428.4275"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67167)">
                    <PickupQuest NpcId="1012729" QuestId="67167" XYZ="-229.2058, 33.90731, 428.4275"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67167)">
                <If Condition="GetQuestStep(67167) == 1">
                    <GetTo ZoneId="131" XYZ="-24.12457, 38, 85.31323"/> <!-- Bartholomew -->
                    <ExtendedTalkTo NpcId="1001821" XYZ="-24.12457, 38, 85.31323" QuestId="67167" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67167) == 255">
                    <GetTo ZoneId="131" XYZ="-23.91095, 37.76, 78.81274"/> <!-- Alphinaud -->

                    <!-- Rewards

                    0: Bard/Machinist Waist
                    1: White Mage/Scholoar/Astrologian Waist
                    2: Black Mage/Summoner Waist

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67364" NpcId="1013420" XYZ="-511.4672, 50, 347.0968" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67167" NpcId="1012731" XYZ="-23.91095, 37.76, 78.81274"/>
                </If>
            </If>
        </If>
        <!-- A Brave Resolution -->
        <If Condition="not IsQuestCompleted(67168)">
            <If Condition="not HasQuest(67168)">
                <If Condition="not IsOnMap(131)">
                    <GetTo ZoneId="131" XYZ="-3.683439, 15.00001, -8.834866"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="-23.91095, 37.76, 78.81274"/>
                <If Condition="IsQuestAcceptQualified(67168)">
                    <PickupQuest NpcId="1012731" QuestId="67168" XYZ="-23.91095, 37.76, 78.81274"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67168)">
                <If Condition="GetQuestStep(67168) == 1">
                    <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                        <GetTo ZoneId="156" XYZ="21.13373, 22.32391, -631.281"/> <!-- Rising Stones Entrance -->
                    </If>
                    <If Condition="IsOnMap(156)">
                        <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(481)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2002878" XYZ="-0.01531982, -1.022339, -26.7796"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67168) == 1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67168) == 255">
                    <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                        <GetTo ZoneId="156" XYZ="21.13373, 22.32391, -631.281"/> <!-- Rising Stones Entrance -->
                    </If>
                    <If Condition="IsOnMap(156)">
                        <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(1350)">
                        <UseTransport Name="Exit to the Rising Stones" InteractDistance="3.0" NpcId="2002880" XYZ="-0.01531982, -1.022339, -29.25159"/>
                    </If>
                    <MoveTo Name="Alphinaud" XYZ="-1.876892, 7.450581E-09, -9.079163"/>
                    <TurnIn QuestId="67168" NpcId="1012733" XYZ="-1.876892, 7.450581E-09, -9.079163"/>
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 55">
            <LogMessage Message="[Heavensward] You are not level 55 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 55..."/>
            <GetTo ZoneId="400" XYZ="252.6177, -42.16244, 590.2133"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_55" while="Core.Player.ClassLevel &lt; 55"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 55 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 55 quests..."/>

        <!-- [PickUp Quests] -->

        <!-- Ready to Fly -->
        <If Condition="not IsQuestCompleted(67169)">
            <If Condition="not HasQuest(67169)">
                <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <If Condition="IsOnMap(156)">
                    <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
                </If>
                <If Condition="IsOnMap(351) and IsOnSubMap(1350)">
                    <UseTransport Name="Exit to the Rising Stones" InteractDistance="3.0" NpcId="2002880" XYZ="-0.01531982, -1.022339, -29.25159"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="-1.876892, 7.450581E-09, -9.079163"/>
                <If Condition="IsQuestAcceptQualified(67169)">
                    <PickupQuest NpcId="1012733" QuestId="67169" XYZ="-1.876892, 7.450581E-09, -9.079163"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67169)">
                <If Condition="GetQuestStep(67169) == 1">
                    <GetTo ZoneId="418" XYZ="-158.8007, 17.06621, -56.16852"/> <!-- Cid -->
                    <TalkTo NpcId="1012717" XYZ="-158.8007, 17.06621, -56.16852" QuestId="67169" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67169) == 2">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Estinien" XYZ="-2.304138, 0, 5.905212"/>
                    <TalkTo NpcId="1012744" XYZ="-2.304138, 0, 5.905212" QuestId="67169" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67169) == 3">
                    <If Condition="not IsOnMap(418) and not IsOnMap(419) and not IsOnMap(433) and not IsOnMap(428)">
                        <GetTo ZoneId="418" XYZ="-56.30568, 8.113304, 38.95942"/>
                    </If>
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <If Condition="IsOnMap(419)">
                        <GetTo ZoneId="418" XYZ="114.58, 24.41283, -11.06281"/> <!-- Seat of the Lord Commander -->
                    </If>
                    <If Condition="IsOnMap(418)">
                        <UseTransport Name="Seat of the Lord Commander" InteractDistance="3.0" NpcId="1011223" XYZ="114.58, 24.41283, -11.06281"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67169) == 3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67169) == 255">
                    <GetTo ZoneId="418" XYZ="107.4692, 24.37563, -8.407776"/> <!-- Estinien -->
                    <TurnIn QuestId="67169" NpcId="1012589" XYZ="107.4692, 24.37563, -8.407776"/>
                </If>
            </If>
        </If>
        <!-- Into the Aery -->
        <If Condition="not IsQuestCompleted(67170)">
            <If Condition="not HasQuest(67170)">
                <GetTo ZoneId="418" XYZ="107.4692, 24.37563, -8.407776"/> <!-- Estinien -->
                <If Condition="IsQuestAcceptQualified(67170)">
                    <PickupQuest NpcId="1012589" QuestId="67170" XYZ="107.4692, 24.37563, -8.407776"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67170)">
                <If Condition="GetQuestStep(67170) == 1">
                    <GetTo ZoneId="418" XYZ="-187.1824, 15.994, -47.68445"/> <!-- Cid -->
                    <ExtendedTalkTo NpcId="1013168" XYZ="-187.1824, 15.994, -47.68445" QuestId="67170" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67170) == 2">
                    <RunCode Name="Into_the_Aery"/>
                    <StopBot/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67170) == 255">
                    <GetTo ZoneId="400" XYZ="550.4386, -1.191689, -354.9401"/> <!-- Estinien -->

                    <!-- Rewards

                    Aether Current
                    Mount: Manacutter

                    -->

                    <TurnIn QuestId="67170" NpcId="1012746" XYZ="550.4386, -1.191689, -354.9401"/>
                </If>
            </If>
        </If>

        <!-- Learn the Manacutter Mount -->

        <If Condition="(ItemCount(12073) &gt; 0)">
            <LogMessage Message="[Heavensward] Learning the Manacutter mount..."/>
            <RunCode Name="LearnManacutter"/>
        </If>

        <!-- [PickUp Quest] -->

        <!-- The Song Begins -->
        <If Condition="not IsQuestCompleted(67171)">
            <If Condition="not HasQuest(67171)">
                <GetTo ZoneId="400" XYZ="550.4386, -1.191689, -354.9401"/> <!-- Estinien -->
                <If Condition="IsQuestAcceptQualified(67171)">
                    <PickupQuest NpcId="1012746" QuestId="67171" XYZ="550.4386, -1.191689, -354.9401"/>
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67171)">
                <If Condition="GetQuestStep(67171) == 255">
                    <GetTo ZoneId="400" XYZ="-756.0998, 123.7287, 214.8013"/> <!-- Ysayle-->

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Body
                    1: Dragoon Body
                    2: Monk Body
                    3: Ninja Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67171" NpcId="1013172" XYZ="-756.0998, 123.7287, 214.8013" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67171" NpcId="1013172" XYZ="-756.0998, 123.7287, 214.8013" />
                </If>
            </If>
        </If>

        <!-- Aether Currents - The Churning Mists -->

        <!-- <If Condition="not IsOnMap(400)">
            <GetTo ZoneId="400" XYZ="252.6177, -42.16244, 590.2133" />
        </If> -->

        <!-- Aether Current #1 -->

        <!-- <NoCombatMoveTo Name="Aether Current #1" XYZ="421.1894, -43.04549, 661.7982" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006216).IsVisible">
            <UseObject NpcId="2006216" XYZ="421.1894, -43.04549, 661.7982" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #2 -->

        <!-- <NoCombatMoveTo Name="Aether Current #2" XYZ="718.4099, 34.92786, 177.1725" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006223).IsVisible">
            <UseObject NpcId="2006223" XYZ="718.4099, 34.92786, 177.1725" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #3 -->

        <!-- <NoCombatMoveTo Name="Aether Current #3" XYZ="595.2894, -11.89169, -344.529" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006222).IsVisible">
            <UseObject NpcId="2006222" XYZ="601.8004, -9.475891, -336.3242" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #4 -->

        <!-- <NoCombatMoveTo Name="Aether Current #4" XYZ="52.90295, -33.76825, -147.8447" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006215).IsVisible">
            <UseObject NpcId="2006215" XYZ="52.90295, -33.76825, -147.8447" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #5 -->

        <!-- <NoCombatMoveTo Name="Aether Current #5" XYZ="-115.0683, 36.3927, 173.9985" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006217).IsVisible">
            <UseObject NpcId="2006217" XYZ="-115.0683, 36.3927, 173.9985" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #6 -->

        <!-- <NoCombatMoveTo Name="Aether Current #6" XYZ="-242.5117, 40.93994, 275.7457" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006219).IsVisible">
            <UseObject NpcId="2006219" XYZ="-242.5117, 40.93994, 275.7457" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #7 -->

        <!-- <NoCombatMoveTo Name="Aether Current #7" XYZ="-775.2651, 123.7354, 243.7018" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006218).IsVisible">
            <UseObject NpcId="2006218" XYZ="-775.2651, 123.7354, 243.7018" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #8 -->

        <!-- <NoCombatMoveTo Name="Aether Current #8" XYZ="-44.84625, 81.80359, -110.6737" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006221).IsVisible">
            <UseObject NpcId="2006221" XYZ="-44.84625, 81.80359, -110.6737" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #9 -->

        <!-- <NoCombatMoveTo Name="Aether Current #9" XYZ="-314.1375, 81.58997, -90.22668" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006220).IsVisible">
            <UseObject NpcId="2006220" XYZ="-314.1375, 81.58997, -90.22668" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #10 -->

        <!-- <NoCombatMoveTo Name="Aether Current #10" XYZ="-210.7119, 160.4791, -726.4973" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006224).IsVisible">
            <UseObject NpcId="2006224" XYZ="-210.7119, 160.4791, -726.4973" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- <LogMessage Message="[Heavensward] You've attuned to the Aether Currents in Churning Mists!" /> -->

        <If Condition="Core.Player.ClassLevel &lt; 56">
            <LogMessage Message="[Heavensward] You are not level 56 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 56..."/>
            <GetTo ZoneId="400" XYZ="-575.8106, 48.80803, 319.44"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_56" while="Core.Player.ClassLevel &lt; 56"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 56 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 56 quests..."/>

        <!-- Level 56 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67559)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(67252)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(67217)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(67598)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(67229)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(67244)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67565)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(67222)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(67571)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(67210)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(67639)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(66132)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67258)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>

        <!-- [PickUp Quests] -->

        <!-- Unrest in Ishgard -->
        <If Condition="not IsQuestCompleted(67172)">
            <If Condition="not HasQuest(67172)">
                <GetTo ZoneId="400" XYZ="-753.7194, 123.5725, 212.5734"/> <!-- Estinien -->
                <If Condition="IsQuestAcceptQualified(67172)">
                    <PickupQuest NpcId="1014110" QuestId="67172" XYZ="-753.7194, 123.5725, 212.5734"/>
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67172)">
                <If Condition="GetQuestStep(67172) == 255">
                    <GetTo ZoneId="418" XYZ="-163.8972, 27.97913, -116.4111"/> <!-- Haurchefant -->

                    <!-- Rewards

                    Title: Nidhogg Slayer
                    0: Bard/Machinist Body
                    1: White Mage/Scholoar/Astrologian Body
                    2: Black Mage/Summoner Body

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67172" NpcId="1012750" XYZ="-163.8972, 27.97913, -116.4111" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67172" NpcId="1012750" XYZ="-163.8972, 27.97913, -116.4111"/>
                </If>
            </If>
        </If>
        <!-- He Who Would Not Be Denied -->
        <If Condition="not IsQuestCompleted(67173)">
            <If Condition="not HasQuest(67173)">
                <GetTo ZoneId="418" XYZ="-163.8972, 27.97913, -116.4111"/> <!-- Haurchefant -->
                <If Condition="IsQuestAcceptQualified(67173)">
                    <PickupQuest NpcId="1012750" QuestId="67173" XYZ="-163.8972, 27.97913, -116.4111"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67173)">
                <If Condition="GetQuestStep(67173) == 1">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67173) == 1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67173) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>

                    <!-- Rewards

                    0: Paladin/Warrior/Dark Knight Legs
                    1: Dragoon Legs
                    2: Monk Legs
                    3: Ninja Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67173" NpcId="1012753" XYZ="-2.578735, -7.450581E-09, 7.644714" RewardSlot="0" />

                    -->

                    <MoveTo Name="Lucia" XYZ="2.578735, -7.450581E-09, 7.644714"/>
                    <TurnIn QuestId="67173" NpcId="1012753" XYZ="-2.578735, -7.450581E-09, 7.644714" />
                </If>
            </If>
        </If>
        <!-- Ill-weather Friends -->
        <If Condition="not IsQuestCompleted(67174)">
            <If Condition="not HasQuest(67174)">
                <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                    <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                </If>
                <MoveTo Name="Alphinaud" XYZ="-2.02948, 7.450581E-09, 6.362976"/>
                <If Condition="IsQuestAcceptQualified(67174)">
                    <PickupQuest NpcId="1012751" QuestId="67174" XYZ="-2.02948, 7.450581E-09, 6.362976"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67174)">
                <If Condition="GetQuestStep(67174) == 1">
                    <GetTo ZoneId="418" XYZ="92.36279, 15.09468, 33.18835"/> <!-- Tataru -->
                    <TalkTo NpcId="1013381" XYZ="92.36279, 15.09468, 33.18835" QuestId="67174" StepId="1"/>
                </If>
                <While Condition="GetQuestStep(67174) == 2">
                    <GetTo ZoneId="418" XYZ="53.39857, -12.02088, 76.33399"/> <!-- Residents -->
                    <TalkTo NpcId="1013341" XYZ="65.72058, -12.00891, 78.3551" QuestId="67174" StepId="2"/>
                    <TalkTo NpcId="1013342" XYZ="36.33167, -12.02088, 76.58496" QuestId="67174" StepId="2"/>
                    <TalkTo NpcId="1013340" XYZ="144.5792, -20.02087, 54.27625" QuestId="67174" StepId="2"/>
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67174) == 255">
                    <GetTo ZoneId="418" XYZ="94.95691, -22, 50.94983"/> <!-- Alphinaud -->

                    <!-- Rewards

                    0: Bard/Machinist Legs
                    1: White Mage/Scholoar/Astrologian Legs
                    2: Black Mage/Summoner Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67174" NpcId="1013332" XYZ="94.95691, -22, 50.94983" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67174" NpcId="1013332" XYZ="94.95691, -22, 50.94983"/>
                </If>
            </If>
        </If>
        <!-- The Spice of Life -->
        <If Condition="not IsQuestCompleted(67529)">
            <If Condition="not HasQuest(67529)">
                <GetTo ZoneId="418" XYZ="94.95691, -22, 50.94983"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67529)">
                    <PickupQuest NpcId="1013332" QuestId="67529" XYZ="94.95691, -22, 50.94983"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67529)">
                <If Condition="GetQuestStep(67529) == 1">
                    <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                    <TalkTo NpcId="1011192" XYZ="88.36499, 15.09468, 31.29626" QuestId="67529" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67529) == 2">
                    <GetTo ZoneId="419" XYZ="-249.4392, -20.03492, -65.0188"/> <!-- Hulking Hunter -->
                    <TalkTo NpcId="1013196" XYZ="-249.4392, -20.03492, -65.0188" QuestId="67529" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67529) == 255">
                    <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->

                    <!-- Rewards

                    0: Bard/Machinist Legs
                    1: White Mage/Scholoar/Astrologian Legs
                    2: Black Mage/Summoner Legs

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67529" NpcId="1011192" ItemId="2001591" XYZ="88.36499, 15.09468, 31.29626" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67529" NpcId="1011192" ItemId="2001591" XYZ="88.36499, 15.09468, 31.29626"/>
                </If>
            </If>
        </If>
        <!-- Noble Indiscretions -->
        <If Condition="not IsQuestCompleted(67530)">
            <If Condition="not HasQuest(67530)">
                <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                <If Condition="IsQuestAcceptQualified(67530)">
                    <PickupQuest NpcId="1011192" QuestId="67530" XYZ="88.36499, 15.09468, 31.29626"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67530)">
                <If Condition="GetQuestStep(67530) == 1">
                    <GetTo ZoneId="419" XYZ="231.9219, -13.73494, -106.859"/> <!-- Hierytha -->
                    <HandOver ItemId="2001592" QuestId="67530" StepId="1" NpcId="1011222" XYZ="231.9219, -13.73494, -106.859"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67530) == 255">
                    <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                    <TurnIn QuestId="67530" NpcId="1011192" XYZ="88.36499, 15.09468, 31.29626"/>
                </If>
            </If>
        </If>
        <!-- A Child Apart -->
        <If Condition="not IsQuestCompleted(67531)">
            <If Condition="not HasQuest(67531)">
                <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                <If Condition="IsQuestAcceptQualified(67531)">
                    <PickupQuest NpcId="1011192" QuestId="67531" XYZ="88.36499, 15.09468, 31.29626"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67531)">
                <If Condition="GetQuestStep(67531) == 1">
                    <GetTo ZoneId="418" XYZ="109.3918, -22.0129, 29.95337"/> <!-- Gerraldieux -->
                    <HandOver ItemId="2001593" QuestId="67531" StepId="1" NpcId="1012169" XYZ="109.3918, -22.0129, 29.95337"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67531) == 255">
                    <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                    <TurnIn QuestId="67531" NpcId="1011192" XYZ="88.36499, 15.09468, 31.29626"/>
                </If>
            </If>
        </If>
        <!-- Bloodlines -->
        <If Condition="not IsQuestCompleted(67532)">
            <If Condition="not HasQuest(67532)">
                <GetTo ZoneId="418" XYZ="88.36499, 15.09468, 31.29626"/> <!-- Gibrillont -->
                <If Condition="IsQuestAcceptQualified(67532)">
                    <PickupQuest NpcId="1011192" QuestId="67532" XYZ="88.36499, 15.09468, 31.29626"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67532)">
                <If Condition="GetQuestStep(67532) == 1">
                    <GetTo ZoneId="418" XYZ="144.5792, -20.02087, 54.27625"/> <!-- Brume Starveling -->
                    <TalkTo NpcId="1013340" XYZ="144.5792, -20.02087, 54.27625" QuestId="67532" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67532) == 255">
                    <GetTo ZoneId="418" XYZ="104.387, 15, 25.55884"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67532" NpcId="1013260" XYZ="104.387, 15, 25.55884"/>
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 57">
            <LogMessage Message="[Heavensward] You are not level 57 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 57..."/>
            <GetTo ZoneId="401" XYZ="-626.617, -122.5, 539.8152"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_57" while="Core.Player.ClassLevel &lt; 57"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 57 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 57 quests..."/>

        <!-- [PickUp Quests] -->

        <!-- Fire and Blood -->
        <If Condition="not IsQuestCompleted(67175)">
            <If Condition="not HasQuest(67175)">
                <GetTo ZoneId="418" XYZ="104.387, 15, 25.55884"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67175)">
                    <PickupQuest NpcId="1013260" QuestId="67175" XYZ="104.387, 15, 25.55884"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67175)">
                <If Condition="GetQuestStep(67175) == 1">
                    <GetTo ZoneId="418" XYZ="38.25439, -6.820801, 76.34082"/> <!-- Destination -->
                    <UseObject NpcId="2005551" XYZ="38.25439, -6.820801, 76.34082" Radius="10" QuestId="67175" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67175) == 2">
                    <GetTo ZoneId="418" XYZ="84.58069, -6.973389, 81.55945"/> <!-- Destination -->
                    <UseObject NpcId="2005550" XYZ="84.58069, -6.973389, 81.55945" Radius="10" QuestId="67175" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67175) == 3">
                    <GetTo ZoneId="418" XYZ="21.10321, -12.02091, 48.41687"/> <!-- Hilda -->
                    <TalkTo NpcId="1012768" XYZ="21.10321, -12.02091, 48.41687" QuestId="67175" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67175) == 4">
                    <GetTo ZoneId="418" XYZ="92.5459, 15.00001, 37.24719"/> <!-- Hilda -->
                    <SimpleDuty InteractNpcId="1012773" XYZ="92.5459, 15.00001, 37.24719" QuestId="67175" StepId="4">
                        <HotSpots>
                            <HotSpot XYZ="69.20998, 23.97913, 6.114148" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="2077" Weight="5000"/> <!-- Ishgardian Chirugeon -->
                            <TargetMob Id="4143" Weight="4000"/> <!-- Temple Knight Magicker -->
                            <TargetMob Id="2080" Weight="3000"/> <!-- Ishgardian Banneret -->
                            <TargetMob Id="2076" Weight="2000"/> <!-- Ishgardian Heavy Infantry -->
                            <TargetMob Id="4142" Weight="1000"/> <!-- Ser Charibert the Stern -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67175) == 255">
                    <GetTo ZoneId="418" XYZ="86.38135, 23.97913, 12.80225"/> <!-- Hilda -->
                    <TurnIn QuestId="67175" NpcId="1012780" XYZ="86.38135, 23.97913, 12.80225"/>
                </If>
            </If>
        </If>
        <!-- A Knight's Calling -->
        <If Condition="not IsQuestCompleted(67176)">
            <If Condition="not HasQuest(67176)">
                <GetTo ZoneId="418" XYZ="86.38135, 23.97913, 12.80225"/> <!-- Hilda -->
                <If Condition="IsQuestAcceptQualified(67176)">
                    <PickupQuest NpcId="1012780" QuestId="67176" XYZ="86.38135, 23.97913, 12.80225"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67176)">
                <If Condition="GetQuestStep(67176) == 1">
                    <GetTo ZoneId="418" XYZ="84.58069, 23.97913, 10.45239"/> <!-- Lucia -->
                    <TalkTo NpcId="1012778" XYZ="84.58069, 23.97913, 10.45239" QuestId="67176" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67176) == 2">
                    <GetTo ZoneId="419" XYZ="-6.790344, 42.34489, -207.0497"/> <!-- Temple Knight Squire -->
                    <TalkTo NpcId="1012212" XYZ="-6.790344, 42.34489, -207.0497" QuestId="67176" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67176) == 3">
                    <RunCode Name="A_Knights_Calling"/>
                    <StopBot/>
                </If>
                <If Condition="GetQuestStep(67176) == 5">
                    <GetTo ZoneId="419" XYZ="-6.790344, 42.34489, -207.0497"/> <!-- Temple Knight Squire -->
                    <TalkTo NpcId="1012212" XYZ="-6.790344, 42.34489, -207.0497" QuestId="67176" StepId="5"/>
                </If>
                <If Condition="GetQuestStep(67176) == 6">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1013101" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <WaitWhile Condition="GetQuestStep(67176) == 6"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67176) == 255">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>
                    <GetTo ZoneId="419" XYZ="14.8775, 16.00967, -4.196289"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67176" NpcId="1013227" XYZ="14.8775, 16.00967, -4.196289"/>
                </If>
            </If>
        </If>
        <!-- The Sins of Antiquity -->
        <If Condition="not IsQuestCompleted(67177)">
            <If Condition="not HasQuest(67177)">
                <GetTo ZoneId="419" XYZ="14.8775, 16.00967, -4.196289"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67177)">
                    <PickupQuest NpcId="1013227" QuestId="67177" XYZ="14.8775, 16.00967, -4.196289"/>
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67177)">
                <If Condition="GetQuestStep(67177) == 255">
                    <If Condition="not IsOnMap(418) and not IsOnMap(428)">
                        <GetTo ZoneId="418" XYZ="114.58, 24.41283, -11.06281"/> <!-- Seat of the Lord Commander -->
                    </If>
                    <If Condition="IsOnMap(418)">
                        <UseTransport Name="Seat of the Lord Commander" InteractDistance="3.0" NpcId="1011223" XYZ="114.58, 24.41283, -11.06281"/>
                    </If>

                    <!-- Rewards

                    Title: Of the Silver Fuller

                    -->

                    <MoveTo Name="Aymeric" XYZ="-0.01531982, 0.01999969, -6.302063"/>
                    <TurnIn QuestId="67177" NpcId="1013183" XYZ="-0.01531982, 0.01999969, -6.302063"/>
                </If>
            </If>
        </If>
        <!-- In Search of the Soleil -->
        <If Condition="not IsQuestCompleted(67178)">
            <If Condition="not HasQuest(67178)">
                <GetTo ZoneId="418" XYZ="112.291, 24.39042, -4.470947"/> <!-- Lucia -->
                <If Condition="IsQuestAcceptQualified(67178)">
                    <PickupQuest NpcId="1013384" QuestId="67178" XYZ="112.291, 24.39042, -4.470947"/>
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67178)">
                <If Condition="GetQuestStep(67178) == 255">
                    <GetTo ZoneId="418" XYZ="-158.4955, 17.06621, -56.26001"/> <!-- Cid -->
                    <TurnIn QuestId="67178" NpcId="1013261" XYZ="-158.4955, 17.06621, -56.26001"/>
                </If>
            </If>
        </If>
        <!-- Into the Blue -->
        <If Condition="not IsQuestCompleted(67179)">
            <If Condition="not HasQuest(67179)">
                <GetTo ZoneId="418" XYZ="-158.3735, 17, -54.27637"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67179)">
                    <PickupQuest NpcId="1013385" QuestId="67179" XYZ="-158.3735, 17, -54.27637"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67179)">
                <If Condition="GetQuestStep(67179) == 1">
                    <GetTo ZoneId="419" XYZ="147.5394, -12.63491, -26.19977"/> <!-- Cid -->
                    <TalkTo NpcId="1013077" XYZ="147.5394, -12.63491, -26.19977" QuestId="67179" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67179) == 2">
                    <GetTo ZoneId="419" XYZ="148.6075, -12.63491, -13.44324"/> <!-- Wedge -->
                    <TalkToPlus NpcId="1013125" XYZ="148.6075, -12.63491, -13.44324" QuestId="67179" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67179) == 255">
                    <If Condition="not IsOnMap(419)">
                        <GetTo ZoneId="419" XYZ="147.3258, -12.63491, -12.40564"/> <!-- Blue Window -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Blue Window" InteractDistance="3.0" NpcId="1011212" XYZ="147.3258, -12.63491, -12.40564"/>
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(73)">
                        <LogMessage Message="[Heavensward] Attuning to the Ok' Zundu Aetheryte..."/>
                        <NoCombatMoveTo Name="Ok' Zundu Aetheryte" XYZ="-613.1533, -49.48505, -415.0302"/>
                        <UseObject UseDistance="8.0" NpcId="73" XYZ="-613.1533, -49.48505, -415.0302" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Ok' Zundu as your Home Point..."/>
                        <UseTransport NpcId="73" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="-613.1533, -49.48505, -415.0302" Radius="10" WaitTime="5000"/>
                    </If>
                    <NoCombatMoveTo Name="Alphinaud" XYZ="-805.5391, -57.82888, 157.6409"/>
                    <TurnIn QuestId="67179" NpcId="1013085" XYZ="-805.5391, -57.82888, 157.6409"/>
                </If>
            </If>
        </If>
        <!-- Familiar Faces -->
        <If Condition="not IsQuestCompleted(67180)">
            <If Condition="not HasQuest(67180)">
                <GetTo ZoneId="401" XYZ="-805.5391, -57.82888, 157.6409"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67180)">
                    <PickupQuest NpcId="1013085" QuestId="67180" XYZ="-805.5391, -57.82888, 157.6409"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67180)">
                <If Condition="GetQuestStep(67180) == 1">
                    <GetTo ZoneId="401" XYZ="-702.7697, -62.06715, 112.6331"/> <!-- Eastern Edge -->
                    <Dismount/>
                    <SendChat Message="/lookout" QuestId="67180" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67180) == 2">
                    <GetTo ZoneId="401" XYZ="-761.8904, -38.69292, 75.92774"/> <!-- Farther North -->
                    <RunCode Name="Familiar_Faces"/>
                    <StopBot/>

                    <!-- TO DO -->

                    <!-- Why was this not working? -->

                    <!-- TO DO -->

                    <Dismount/>
                    <SendChat Message="/lookout" QuestId="67180" StepId="2"/>
                    <SimpleDuty XYZ="-761.8904, -38.69292, 75.92774" QuestId="67180" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="69.20998, 23.97913, 6.114148" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="4147" Weight="4000"/> <!-- Imperial Medicus -->
                            <TargetMob Id="2234" Weight="2000"/> <!-- Imperial Hoplomachus -->
                            <TargetMob Id="4148" Weight="1000"/> <!-- Imperial Centurion -->
                            <TargetMob Id="4145" Weight="3000"/> <!-- 6th Legion Gunship -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67180) == 255">
                    <GetTo ZoneId="401" XYZ="-751.6747, -35.95642, 18.72278"/> <!-- Lonu Vanu -->
                    <TurnIn QuestId="67180" NpcId="1013089" XYZ="-751.6747, -35.95642, 18.72278"/>
                </If>
            </If>
        </If>
        <!-- Devourer of Worlds -->
        <If Condition="not IsQuestCompleted(67181)">
            <If Condition="not HasQuest(67181)">
                <GetTo ZoneId="401" XYZ="-751.6747, -35.95642, 18.72278"/> <!-- Lonu Vanu -->
                <If Condition="IsQuestAcceptQualified(67181)">
                    <PickupQuest NpcId="1013089" QuestId="67181" XYZ="-751.6747, -35.95642, 18.72278"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67181)">
                <If Condition="GetQuestStep(67181) == 1">
                    <GetTo ZoneId="401" XYZ="-749.1112, -35.95642, 22.04926"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1013093" XYZ="-749.1112, -35.95642, 22.04926" QuestId="67181" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67181) == 2">
                    <GetTo ZoneId="401" XYZ="-650.9346, -58.6966, -337.2397"/> <!-- Lonu Vanu -->
                    <ExtendedTalkTo NpcId="1013090" XYZ="-650.9346, -58.6966, -337.2397" QuestId="67181" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67181) == 255">
                    <GetTo ZoneId="401" XYZ="-560.6927, -52.30738, -427.5731"/> <!-- Lonu Vanu -->
                    <TurnIn QuestId="67181" NpcId="1013095" XYZ="-560.6927, -52.30738, -427.5731"/>
                </If>
            </If>
        </If>
        <!-- Black and the White -->
        <If Condition="not IsQuestCompleted(67182)">
            <If Condition="not HasQuest(67182)">
                <GetTo ZoneId="401" XYZ="-541.3444, -37.14426, -384.4816"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67182)">
                    <PickupQuest NpcId="1013096" QuestId="67182" XYZ="-541.3444, -37.14426, -384.4816"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67182)">
                <If Condition="GetQuestStep(67182) == 1">
                    <GetTo ZoneId="401" XYZ="-538.0178, -37.04666, -392.0501"/> <!-- Lonu Vanu -->
                    <TalkTo NpcId="1013123" XYZ="-538.0178, -37.04666, -392.0501" QuestId="67182" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67182) == 2">
                    <GetTo ZoneId="401" XYZ="-554.0704, -57.62821, -547.4174"/> <!-- Kunu Vali -->
                    <EmoteNPC NpcId="1012070" Emote="bow" XYZ="-554.0704, -57.62821, -547.4174" Radius="10" QuestId="67182" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67182) == 255">
                    <GetTo ZoneId="401" XYZ="-583.032, -52.12611, -447.4403"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67182" NpcId="1014570" XYZ="-583.032, -52.12611, -447.4403"/>
                </If>
            </If>
        </If>
        <!-- Bolt, Chain, and Island -->
        <If Condition="not IsQuestCompleted(67183)">
            <If Condition="not HasQuest(67183)">
                <GetTo ZoneId="401" XYZ="-583.032, -52.12611, -447.4403"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67183)">
                    <PickupQuest NpcId="1014570" QuestId="67183" XYZ="-583.032, -52.12611, -447.4403"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67183)">
                <If Condition="GetQuestStep(67183) == 1">
                    <GetTo ZoneId="401" XYZ="-542.7787, -37.11544, -386.7094"/> <!-- Sonu Vanu -->
                    <TalkTo NpcId="1012064" XYZ="-542.7787, -37.11544, -386.7094" QuestId="67183" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67183) == 2">
                    <GetTo ZoneId="401" XYZ="-155.6268, -14.15378, -541.558"/> <!-- Cid -->
                    <TalkTo NpcId="1013386" XYZ="-155.6268, -14.15378, -541.558" QuestId="67183" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67183) == 3">
                    <GetTo ZoneId="401" XYZ="-154.345, -14.73062, -537.5601"/> <!-- Wedge -->
                    <TalkToPlus NpcId="1013387" XYZ="-154.345, -14.73062, -537.5601" QuestId="67183" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67183) == 4">
                    <RunCode Name="Bolt_Chain_and_Island"/>
                    <StopBot/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67183) == 255">
                    <GetTo ZoneId="401" XYZ="-156.6644, -14.15376, -543.0228"/> <!-- Alphinaud -->

                    <!-- Rewards

                    Aether Current

                    -->

                    <TurnIn QuestId="67183" NpcId="1014575" XYZ="-156.6644, -14.15376, -543.0228"/>
                </If>
            </If>
        </If>

        <!-- Aether Currents - The Sea of Clouds -->

        <!-- <If Condition="not IsOnMap(401)">
            <GetTo ZoneId="401" XYZ="-626.617, -122.5, 539.8152" />
        </If> -->

        <!-- Aether Current #1 -->

        <!-- <NoCombatMoveTo Name="Aether Current #1" XYZ="-595.0256, -166.2471, 582.4215" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006225).IsVisible">
            <UseObject NpcId="2006225" XYZ="-595.0256, -166.2471, 582.4215" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #2 -->

        <!-- <NoCombatMoveTo Name="Aether Current #2" XYZ="-505.5772, -217.5784, 329.8542" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006227).IsVisible">
            <UseObject NpcId="2006227" XYZ="-505.5772, -217.5784, 329.8542" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #3 -->

        <!-- <NoCombatMoveTo Name="Aether Current #3" XYZ="163.8138, -176.8911, 753.5175" />
        <NoCombatMoveTo Name="Aether Current #3" XYZ="157.946, -177.2946, 785.1223" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006228).IsVisible">
            <UseObject NpcId="2006228" XYZ="157.946, -177.2946, 785.1223" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #4 -->

        <!-- <NoCombatMoveTo Name="Aether Current #4" XYZ="484.7333, -142.4735, 689.1127" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006226).IsVisible">
            <UseObject NpcId="2006226" XYZ="484.7333, -142.4735, 689.1127" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #5 -->

        <!-- <NoCombatMoveTo Name="Aether Current #5" XYZ="601.2562, -65.53652, -101.5156" />
        <MoveTo Name="Aether Current #5" XYZ="616.0219, -65.53754, -111.5892" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006234).IsVisible">
            <UseObject NpcId="2006234" XYZ="616.0219, -65.53754, -111.5892" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #6 -->

        <!-- <NoCombatMoveTo Name="Aether Current #6" XYZ="231.2809, -82.1394, 261.0055" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006233).IsVisible">
            <UseObject NpcId="2006233" XYZ="231.2809, -82.1394, 261.0055" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>

        <If Condition="not IsQuestCompleted(67179)">
            <RunCode Name="The_Sea_of_Clouds_Aether_Currents" />
            <StopBot />
        </If>

        <If Condition="IsQuestCompleted(67179)">
            <If Condition="Managers.WorldManager.HasAetheryteId(73)">
                <GetTo ZoneId="401" XYZ="-625.5765, -51.05184, -421.227" />
            </If>
            <If Condition="not Managers.WorldManager.HasAetheryteId(73)">
                <If Condition="not IsOnMap(419)">
                    <GetTo ZoneId="419" XYZ="-48.65455, -8.234923, -59.07746" />
                </If>
                <If Condition="IsOnMap(419)">
                    <UseTransport Name="Blue Window" InteractDistance="3.0" NpcId="1011212" XYZ="147.3258, -12.63491, -12.40564" />
                </If>
            </If> -->

        <!-- Aether Current #7 -->

        <!-- <NoCombatMoveTo Name="Aether Current #7" XYZ="-631.1589, -59.06775, -159.6247" />
            <If Condition="GameObjectManager.GetObjectByNPCId(2006229).IsVisible">
                <UseObject NpcId="2006229" XYZ="-631.1589, -59.06775, -159.6247" Radius="10" UseTimes="1" BlacklistAfter="True" />
            </If> -->

        <!-- Aether Current #8 -->

        <!-- <NoCombatMoveTo Name="Aether Current #8" XYZ="180.4379, 29.98401, -471.1223" />
            <If Condition="GameObjectManager.GetObjectByNPCId(2006230).IsVisible">
                <UseObject NpcId="2006230" XYZ="180.4379, 29.98401, -471.1223" Radius="10" UseTimes="1" BlacklistAfter="True" />
            </If> -->

        <!-- Aether Current #9 -->

        <!-- <NoCombatMoveTo Name="Aether Current #9" XYZ="486.1676, 113.0846, -185.7176" />
            <If Condition="GameObjectManager.GetObjectByNPCId(2006231).IsVisible">
                <UseObject NpcId="2006231" XYZ="486.1676, 113.0846, -185.7176" Radius="10" UseTimes="1" BlacklistAfter="True" />
            </If> -->

        <!-- Aether Current #10 -->

        <!-- <NoCombatMoveTo Name="Aether Current #10" XYZ="64.07251, 150.4692, -139.8795" />
            <If Condition="GameObjectManager.GetObjectByNPCId(2006232).IsVisible">
                <UseObject NpcId="2006232" XYZ="64.07251, 150.4692, -139.8795" Radius="10" UseTimes="1" BlacklistAfter="True" />
            </If>
        </If>

        <LogMessage Message="[Heavensward] You've attuned to the Aether Currents in The Sea of Clouds!" /> -->

        <!-- [PickUp Quests] -->

        <!-- A Difference of Opinion -->
        <If Condition="not IsQuestCompleted(67184)">
            <If Condition="not HasQuest(67184)">
                <GetTo ZoneId="401" XYZ="-156.6644, -14.15376, -543.0228"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67184)">
                    <PickupQuest NpcId="1014575" QuestId="67184" XYZ="-156.6644, -14.15376, -543.0228"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67184)">
                <If Condition="GetQuestStep(67184) == 1">
                    <GetTo ZoneId="401" XYZ="-582.6353, -52.0946, -447.1351"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1013100" XYZ="-582.6353, -52.0946, -447.1351" QuestId="67184" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67184) == 255">
                    <GetTo ZoneId="401" XYZ="-155.9319, -14.15376, -542.1378"/> <!-- Cid -->

                    <!-- Rewards

                    Wind-up Cid

                    -->

                    <TurnIn QuestId="67184" NpcId="1012195" XYZ="-155.9319, -14.15376, -542.1378"/>
                </If>
            </If>
        </If>
        <!-- One Good Turn -->
        <If Condition="not IsQuestCompleted(67185)">
            <If Condition="not HasQuest(67185)">
                <GetTo ZoneId="401" XYZ="-155.6268, -14.15378, -541.558"/> <!-- Cid -->
                <If Condition="IsQuestAcceptQualified(67185)">
                    <PickupQuest NpcId="1013386" QuestId="67185" XYZ="-155.6268, -14.15378, -541.558"/>
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67185)">
                <If Condition="GetQuestStep(67185) == 255">
                    <GetTo ZoneId="419" XYZ="162.89, -15.13437, 37.0946"/> <!-- Cid -->

                    <!-- Rewards

                    Title: Imperial Nuisance

                    -->

                    <TurnIn QuestId="67185" NpcId="1013111" XYZ="162.89, -15.13437, 37.0946"/>
                </If>
            </If>
        </If>
        <!-- An Engineering Enterprise -->
        <If Condition="not IsQuestCompleted(67186)">
            <If Condition="not HasQuest(67186)">
                <GetTo ZoneId="419" XYZ="162.005, -15.13437, 38.52893"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67186)">
                    <PickupQuest NpcId="1013112" QuestId="67186" XYZ="162.005, -15.13437, 38.52893"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67186)">
                <If Condition="GetQuestStep(67186) == 1">
                    <If Condition="not IsOnMap(418) and not IsOnMap(428)">
                        <GetTo ZoneId="418" XYZ="114.58, 24.41283, -11.06281"/> <!-- Seat of the Lord Commander -->
                    </If>
                    <If Condition="IsOnMap(418)">
                        <UseTransport Name="Seat of the Lord Commander" InteractDistance="3.0" NpcId="1011223" XYZ="114.58, 24.41283, -11.06281"/>
                    </If>
                    <MoveTo Name="Aymeric" XYZ="-0.01531982, 0.01999969, -6.302063"/>
                    <ExtendedTalkTo NpcId="1013183" XYZ="-0.01531982, 0.01999969, -6.302063" QuestId="67186" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67186) == 255">
                    <GetTo ZoneId="418" XYZ="92.36279, 15.09468, 33.18835"/> <!-- Tataru -->
                    <TurnIn QuestId="67186" NpcId="1013162" XYZ="92.36279, 15.09468, 33.18835"/>
                </If>
            </If>
        </If>
        <!-- Aetherial Trail -->
        <If Condition="not IsQuestCompleted(67187)">
            <If Condition="not HasQuest(67187)">
                <GetTo ZoneId="418" XYZ="92.36279, 15.09468, 33.18835"/> <!-- Tataru -->
                <If Condition="IsQuestAcceptQualified(67187)">
                    <PickupQuest NpcId="1013162" QuestId="67187" XYZ="92.36279, 15.09468, 33.18835"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67187)">
                <If Condition="GetQuestStep(67187) == 1">
                    <GetTo ZoneId="130" XYZ="-133.3181, 4.1, -111.7723"/> <!-- Pipin -->
                    <ExtendedTalkTo NpcId="1012389" XYZ="-133.3181, 4.1, -111.7723" QuestId="67187" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67187) == 2">
                    <GetTo ZoneId="141" XYZ="-202.6246, -31.01582, 105.0887"/> <!-- Urianger -->
                    <ExtendedTalkTo NpcId="1012391" XYZ="-202.6246, -31.01582, 105.0887" QuestId="67187" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67187) == 255">
                    <GetTo ZoneId="133" XYZ="-158.1903, 4, -21.19489"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67187" NpcId="1012394" XYZ="-158.1903, 4, -21.19489"/>
                </If>
            </If>
        </If>
        <!-- Lost in the Lifestream -->
        <If Condition="not IsQuestCompleted(67188)">
            <If Condition="not HasQuest(67188)">
                <GetTo ZoneId="133" XYZ="-158.1903, 4, -21.19489"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67188)">
                    <PickupQuest NpcId="1012394" QuestId="67188" XYZ="-158.1903, 4, -21.19489"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67188)">
                <If Condition="GetQuestStep(67188) == 1">
                    <If Condition="not IsOnMap(133) and not IsOnMap(205)">
                        <GetTo ZoneId="133" XYZ="-159.411, 4.054098, -4.104736"/> <!-- Lotus Stand -->
                    </If>
                    <If Condition="IsOnMap(133)">
                        <UseTransport Name="Lotus Stand" InteractDistance="3.0" NpcId="1000460" XYZ="-159.411, 4.054098, -4.104736"/>
                    </If>
                    <MoveTo Name="Kan-E-Senna" XYZ="4.898132, -1.92944, -0.1983643"/>
                    <ExtendedTalkTo NpcId="1003027" XYZ="4.898132, -1.92944, -0.1983643" QuestId="67188" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67188) == 2">
                    <GetTo ZoneId="133" XYZ="-153.1853, 4, -14.9386"/> <!-- Tataru -->
                    <TalkTo NpcId="1012396" XYZ="-153.1853, 4, -14.9386" QuestId="67188" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67188) == 3">
                    <GetTo ZoneId="133" XYZ="-16.89185, 10.17425, -246.8757"/> <!-- Y'mhitra -->
                    <ExtendedTalkTo NpcId="1006756" XYZ="-16.89185, 10.17425, -246.8757" QuestId="67188" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67188) == 255">
                    <GetTo ZoneId="132" XYZ="35.53821, -8, 98.13074"/> <!-- Tataru -->
                    <TurnIn QuestId="67188" NpcId="1012398" XYZ="35.53821, -8, 98.13074"/>
                </If>
            </If>
        </If>
        <!-- Tataru's Surprise -->
        <If Condition="not IsQuestCompleted(67189)">
            <If Condition="not HasQuest(67189)">
                <GetTo ZoneId="132" XYZ="35.53821, -8, 98.13074"/> <!-- Tataru -->
                <If Condition="IsQuestAcceptQualified(67189)">
                    <PickupQuest NpcId="1012398" QuestId="67189" XYZ="35.53821, -8, 98.13074"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67189)">
                <If Condition="GetQuestStep(67189) == 1">
                    <If Condition="not IsTodoChecked(67189, 1, 0)">
                        <GetTo ZoneId="133" XYZ="71.97681, 8, -166.5217"/> <!-- Geva -->
                        <TalkTo NpcId="1000691" XYZ="71.97681, 8, -166.5217" QuestId="67189" StepId="1"/>
                    </If>
                    <If Condition="not IsTodoChecked(67189, 1, 1)">
                        <GetTo ZoneId="133" XYZ="-258.8083, -5.773526, -27.26788"/> <!-- E-Sumi-Yan -->
                        <TalkTo NpcId="1000692" XYZ="-258.8083, -5.773526, -27.26788" QuestId="67189" StepId="1"/>
                    </If>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67189) == 255">
                    <GetTo ZoneId="132" XYZ="35.53821, -8, 98.13074"/> <!-- Tataru -->
                    <TurnIn QuestId="67189" NpcId="1012398" ItemIds="2001798,2001799" XYZ="35.53821, -8, 98.13074"/>
                </If>
            </If>
        </If>
        <!-- Onward to Sharlayan -->
        <If Condition="not IsQuestCompleted(67190)">
            <If Condition="not HasQuest(67190)">
                <GetTo ZoneId="132" XYZ="35.84338, -8, 99.35144"/> <!-- Y'shtola -->
                <If Condition="IsQuestAcceptQualified(67190)">
                    <PickupQuest NpcId="1012400" QuestId="67190" XYZ="35.84338, -8, 99.35144"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67190)">
                <If Condition="GetQuestStep(67190) == 1">
                    <GetTo ZoneId="418" XYZ="-8.560364, 5.468129, 40.6958"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012401" XYZ="-8.560364, 5.468129, 40.6958" QuestId="67190" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67190) == 255">
                    <GetTo ZoneId="398" XYZ="587.457, -50.81134, 69.16907"/> <!-- Y'shtola -->
                    <TurnIn QuestId="67190" NpcId="1012406" XYZ="587.457, -50.81134, 69.16907"/>
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 58">
            <LogMessage Message="[Heavensward] You are not level 58 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 58..."/>
            <GetTo ZoneId="398" XYZ="527.918, -51.27571, 41.3532"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_58" while="Core.Player.ClassLevel &lt; 58"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 58 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 58 quests..."/>

        <!-- Level 58 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67560)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(67253)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(67218)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(67599)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(67230)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(67246)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67566)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(67223)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(67572)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(67211)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(67640)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(66134)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67259)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>

        <!-- [PickUp Quests] -->

        <!-- A Great New Nation -->
        <If Condition="not IsQuestCompleted(67191)">
            <If Condition="not HasQuest(67191)">
                <GetTo ZoneId="398" XYZ="587.457, -50.81134, 69.16907"/> <!-- Y'shtola -->
                <If Condition="IsQuestAcceptQualified(67191)">
                    <PickupQuest NpcId="1012406" QuestId="67191" XYZ="587.457, -50.81134, 69.16907"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67191)">
                <If Condition="GetQuestStep(67191) == 1">
                    <GetTo ZoneId="398" XYZ="-794.7556, -122.1554, 577.4768"/> <!-- The Dravanian Hinterlands -->
                    <RunCode Name="MoveForwardStart"/>
                    <WaitWhile Condition="GetQuestStep(67191) == 1"/>
                </If>
                <If Condition="GetQuestStep(67191) == 2">
                    <GetTo ZoneId="399" XYZ="-227.7639, 106.5545, -628.2852"/> <!-- Idyllshire -->
                    <RunCode Name="MoveForwardStart"/>
                    <WaitWhile Condition="GetQuestStep(67191) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67191) == 255">
                    <If Condition="not IsOnMap(478)">
                        <GetTo ZoneId="478" XYZ="71.02926, 209.25, -15.71163"/> <!-- Idyllshire Aetheryte -->
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(75)">
                        <LogMessage Message="[Heavensward] Attuning to the Idyllshire Aetheryte..."/>
                        <MoveTo Name="Idyllshire Aetheryte" XYZ="71.02926, 209.25, -15.71163"/>
                        <UseObject UseDistance="8.0" NpcId="75" XYZ="71.96497, 211.2655, -18.88614" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Idyllshire as your Home Point..."/>
                        <UseTransport NpcId="75" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="71.96497, 211.2655, -18.88614" Radius="10" WaitTime="5000"/>
                    </If>

                    <!-- Rewards

                    0: Paladin Weapon
                    1: Warrior Weapon
                    2: Dark Knight Weapon
                    3: Piety Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67191" NpcId="1012097" XYZ="73.3501, 205.8894, 23.48358" RewardSlot="0" />

                    -->

                    <MoveTo Name="Slowfix" XYZ="73.3501, 205.8894, 23.48358"/>
                    <TurnIn QuestId="67191" NpcId="1012097" XYZ="73.3501, 205.8894, 23.48358" />
                </If>
            </If>
        </If>
        <!-- Golems Begone -->
        <If Condition="not IsQuestCompleted(67192)">
            <If Condition="not HasQuest(67192)">
                <GetTo ZoneId="478" XYZ="73.3501, 205.8894, 23.48358"/> <!-- Slowfix -->
                <If Condition="IsQuestAcceptQualified(67192)">
                    <PickupQuest NpcId="1012097" QuestId="67192" XYZ="73.3501, 205.8894, 23.48358"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67192)">
                <If Condition="GetQuestStep(67192) == 1">
                    <GetTo ZoneId="478" XYZ="71.73267, 205.6281, 26.90161"/> <!-- Y'shtola -->
                    <TalkTo NpcId="1012410" XYZ="71.73267, 205.6281, 26.90161" QuestId="67192" StepId="1"/>
                </If>
                <While Condition="GetQuestStep(67192) == 2">
                    <GetTo ZoneId="478" XYZ="-41.33673, 205.7962, 3.189148"/> <!-- Abandoned Golem -->
                    <SendChat Message="/say Noughts and Crosses" QuestId="67192" StepId="2"/>
                    <MoveTo Name="Abandoned Golem" XYZ="-67.94849, 209.0566, -36.08759"/>
                    <SendChat Message="/say Noughts and Crosses" QuestId="67192" StepId="2"/>
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67192) == 255">
                    <GetTo ZoneId="478" XYZ="73.3501, 205.8894, 23.48358"/> <!-- Slowfix -->

                    <!-- Rewards

                    0: Dragoon Weapon
                    1: Monk Weapon
                    2: Ninja Weapon
                    3: Paladin Weapon

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67192" NpcId="1012097" XYZ="73.3501, 205.8894, 23.48358" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67192" NpcId="1012097" XYZ="73.3501, 205.8894, 23.48358" />
                </If>
            </If>
        </If>
        <!-- An Illuminati Incident -->
        <If Condition="not IsQuestCompleted(67193)">
            <If Condition="not HasQuest(67193)">
                <GetTo ZoneId="478" XYZ="73.3501, 205.8894, 23.48358"/> <!-- Slowfix -->
                <If Condition="IsQuestAcceptQualified(67193)">
                    <PickupQuest NpcId="1012097" QuestId="67193" XYZ="73.3501, 205.8894, 23.48358"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67193)">
                <If Condition="GetQuestStep(67193) == 1">
                    <GetTo ZoneId="399" XYZ="365.835, 80.11143, 6.332458"/> <!-- Brayflox Alltalks -->
                    <SimpleDuty InteractNpcId="1012416" XYZ="365.835, 80.11143, 6.332458" QuestId="67193" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="347.3683, 77.63412, -6.711346" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="2667" Weight="6000"/> <!-- Bomb -->
                            <TargetMob Id="3599" Weight="5000"/> <!-- Goblin Tinkerer -->
                            <TargetMob Id="3600" Weight="4000"/> <!-- Goblin Sharpshooter -->
                            <TargetMob Id="3601" Weight="3000"/> <!-- Goblin Glider -->
                            <TargetMob Id="3602" Weight="2000"/> <!-- Espertype Magitek Vangob G-III -->
                            <TargetMob Id="3761" Weight="1000"/> <!-- King Gobtank G-IV -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>
                <If Condition="GetQuestStep(67193) == 2">
                    <GetTo ZoneId="399" XYZ="352.6512, 77.85947, -5.905273"/> <!-- Y'shtola -->
                    <TalkTo NpcId="1012418" XYZ="352.6512, 77.85947, -5.905273" QuestId="67193" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67193) == 255">
                    <GetTo ZoneId="478" XYZ="73.3501, 205.8894, 23.48358"/> <!-- Slowfix -->

                    <!-- Rewards

                    0: Bard Weapon
                    1: Machinist Weapon
                    2: Black Mage Weapon
                    3: Summoner Weapon

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67193" NpcId="1012097" XYZ="73.3501, 205.8894, 23.48358" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67193" NpcId="1012097" XYZ="73.3501, 205.8894, 23.48358" />
                </If>
            </If>
        </If>
        <!-- Leaving Idyllshire -->
        <If Condition="not IsQuestCompleted(67194)">
            <If Condition="not HasQuest(67194)">
                <GetTo ZoneId="478" XYZ="73.3501, 205.8894, 23.48358"/> <!-- Slowfix -->
                <If Condition="IsQuestAcceptQualified(67194)">
                    <PickupQuest NpcId="1012097" QuestId="67194" XYZ="73.3501, 205.8894, 23.48358"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67194)">
                <If Condition="GetQuestStep(67194) == 1">
                    <GetTo ZoneId="478" XYZ="78.96533, 203.98, 133.1654"/> <!-- Gobwatch -->
                    <ExtendedTalkTo NpcId="1012419" XYZ="78.96533, 203.98, 133.1654" QuestId="67194" StepId="1"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67194) == 255">
                    <GetTo ZoneId="478" XYZ="77.98877, 203.9799, 127.9163"/> <!-- Y'shtola -->

                    <!-- Rewards

                    0: White Mage Weapon
                    1: Scholar Weapon
                    2: Astrologian Weapon
                    3: Strength Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67194" NpcId="1012421" XYZ="77.98877, 203.9799, 127.9163" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67194" NpcId="1012421" XYZ="77.98877, 203.9799, 127.9163" />
                </If>
            </If>
        </If>

        <!-- Aether Currents - The Dravanian Hinterlands -->

        <!-- <If Condition="not IsOnMap(399)">
            <GetTo ZoneId="399" XYZ="-216.0735, 103.1677, -584.981" />
        </If> -->

        <!-- Aether Current #1 -->

        <!-- <NoCombatMoveTo Name="Aether Current #1" XYZ="-236.3775, 123.3081, -218.494" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006208).IsVisible">
            <UseObject NpcId="2006208" XYZ="-236.3775, 123.3081, -218.494" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #2 -->

        <!-- <NoCombatMoveTo Name="Aether Current #2" XYZ="34.43958, 52.68933, 33.21875" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006207).IsVisible">
            <UseObject NpcId="2006207" XYZ="34.43958, 52.68933, 33.21875" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #3 -->

        <!-- <NoCombatMoveTo Name="Aether Current #3" XYZ="675.5931, 135.7594, 197.8026" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006205).IsVisible">
            <UseObject NpcId="2006205" XYZ="675.5931, 135.7594, 197.8026" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #4 -->

        <!-- <NoCombatMoveTo Name="Aether Current #4" XYZ="744.625, 136.6445, -50.37012" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006206).IsVisible">
            <UseObject NpcId="2006206" XYZ="744.625, 136.6445, -50.37012" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>

        <If Condition="not IsQuestCompleted(67194)">
            <RunCode Name="The_Dravanian_Hinterlands_Aether_Currents" />
            <StopBot />
        </If>

        <If Condition="IsQuestCompleted(67194)">
            <If Condition="not IsOnMap(399)">
                <GetTo ZoneId="399" XYZ="-529.9246, 150.2556, -467.4438" />
            </If>
        </If> -->

        <!-- Aether Current #5 -->

        <!-- <NoCombatMoveTo Name="Aether Current #5" XYZ="-570.7943, 147.0817, 67.3075" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006210).IsVisible">
            <UseObject NpcId="2006210" XYZ="-570.7943, 147.0817, 67.3075" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #6 -->

        <!-- <NoCombatMoveTo Name="Aether Current #6" XYZ="-827.1763, 163.8361, -35.56885" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006209).IsVisible">
            <UseObject NpcId="2006209" XYZ="-827.1763, 163.8361, -35.56885" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #7 -->

        <!-- <NoCombatMoveTo Name="Aether Current #7" XYZ="-854.5815, 200.824, 531.0597" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006211).IsVisible">
            <UseObject NpcId="2006211" XYZ="-854.5815, 200.824, 531.0597" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #8 -->

        <!-- <NoCombatMoveTo Name="Aether Current #8" XYZ="-175.8602, 201.4343, 460.7156" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006214).IsVisible">
            <UseObject NpcId="2006214" XYZ="-175.8602, 201.4343, 460.7156" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #9 -->

        <!-- <NoCombatMoveTo Name="Aether Current #9" XYZ="36.01656, 202.5402, 788.1865" />
        <MoveTo Name="Aether Current #9" XYZ="-85.28278, 202.533, 766.7506" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006212).IsVisible">
            <UseObject NpcId="2006212" XYZ="-85.28278, 202.533, 766.7506" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If> -->

        <!-- Aether Current #10 -->

        <!-- <NoCombatMoveTo Name="Aether Current #10" XYZ="203.1945, 215.8291, 563.1115" />
        <RunCode Name="DHAetherCurrent10" />
        <NoCombatMoveTo Name="Aether Current #10" XYZ="164.8019, 201.6172, 485.4865" />
        <RunCode Name="DHAetherCurrent10_2" />
        <NoCombatMoveTo Name="Aether Current #10" XYZ="239.1545, 101.9149, 210.7118" />
        <If Condition="GameObjectManager.GetObjectByNPCId(2006213).IsVisible">
            <UseObject NpcId="2006213" XYZ="239.1545, 101.9149, 210.7118" Radius="10" UseTimes="1" BlacklistAfter="True" />
        </If>

        <LogMessage Message="[Heavensward] You've attuned to the Aether Currents in The Dravanian Hinterlands!" /> -->

        <If Condition="Core.Player.ClassLevel &lt; 59">
            <LogMessage Message="[Heavensward] You are not level 59 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 59..."/>
            <GetTo ZoneId="399" XYZ="-216.0735, 103.1677, -584.981"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_59" while="Core.Player.ClassLevel &lt; 59"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 59 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 59 quests..."/>

        <!-- [PickUp Quests] -->

        <!-- Matoya's Cave -->
        <If Condition="not IsQuestCompleted(67195)">
            <If Condition="not HasQuest(67195)">
                <GetTo ZoneId="478" XYZ="77.98877, 203.9799, 127.9163"/> <!-- Y'shtola -->
                <If Condition="IsQuestAcceptQualified(67195)">
                    <PickupQuest NpcId="1012421" QuestId="67195" XYZ="77.98877, 203.9799, 127.9163"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67195)">
                <If Condition="GetQuestStep(67195) == 1">
                    <GetTo ZoneId="399" XYZ="-476.585, 137.4297, 702.6931"/> <!-- Y'shtola -->
                    <TalkTo NpcId="1012423" XYZ="-476.585, 137.4297, 702.6931" QuestId="67195" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67195) == 2">
                    <GetTo ZoneId="399" XYZ="-488.7618, 138.9944, 742.1224"/> <!-- Icy Wall -->
                    <UseObject UseDistance="2.5" NpcId="2005532" XYZ="-488.7618, 138.9944, 742.1224" Radius="10" QuestId="67195" StepId="2"/>
                    <Grind grindRef="Matoyas_Cave" while="HasQuest(67195) and GetQuestStep(67195) == 2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67195) == 255">
                    <GetTo ZoneId="399" XYZ="-476.585, 137.4297, 702.6931"/> <!-- Y'shtola -->
                    <TurnIn QuestId="67195" NpcId="1012423" XYZ="-476.585, 137.4297, 702.6931"/>
                </If>
            </If>
        </If>
        <!-- Forbidden Knowledge -->
        <If Condition="not IsQuestCompleted(67196)">
            <If Condition="not HasQuest(67196)">
                <If Condition="not IsOnMap(399) and not IsOnMap(463)">
                    <GetTo ZoneId="399" XYZ="-488.7923, 138.9333, 741.0543"/> <!-- Cave Entrance -->
                </If>
                <If Condition="IsOnMap(399)">
                    <NoCombatMoveTo Name="Cave Entrance" XYZ="-488.7923, 138.9333, 741.0543"/>
                    <UseTransport Name="Cave Entrance" InteractDistance="2.5" NpcId="2005336" XYZ="-488.7923, 138.9333, 741.0543"/>
                </If>
                <MoveTo Name="Matoya" XYZ="19.27209, 38.43, 15.85406"/>
                <If Condition="IsQuestAcceptQualified(67196)">
                    <PickupQuest NpcId="1012138" QuestId="67196" XYZ="19.27209, 38.43, 15.85406"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67196)">
                <If Condition="GetQuestStep(67196) == 1">
                    <If Condition="not IsOnMap(399) and not IsOnMap(463)">
                        <GetTo ZoneId="399" XYZ="-488.7923, 138.9333, 741.0543"/> <!-- Cave Entrance -->
                    </If>
                    <If Condition="IsOnMap(399)">
                        <NoCombatMoveTo Name="Cave Entrance" XYZ="-488.7923, 138.9333, 741.0543"/>
                        <UseTransport Name="Cave Entrance" InteractDistance="2.5" NpcId="2005336" XYZ="-488.7923, 138.9333, 741.0543"/>
                    </If>
                    <MoveTo Name="Matoya" XYZ="19.27209, 38.43, 15.85406"/>
                    <TalkTo NpcId="1012138" XYZ="19.27209, 38.43, 15.85406" QuestId="67196" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67196) == 2">
                    <If Condition="not IsOnMap(399) and not IsOnMap(463)">
                        <GetTo ZoneId="399" XYZ="-488.7923, 138.9333, 741.0543"/> <!-- Cave Entrance -->
                    </If>
                    <If Condition="IsOnMap(399)">
                        <NoCombatMoveTo Name="Cave Entrance" XYZ="-488.7923, 138.9333, 741.0543"/>
                        <UseTransport Name="Cave Entrance" InteractDistance="2.5" NpcId="2005336" XYZ="-488.7923, 138.9333, 741.0543"/>
                    </If>
                    <MoveTo Name="Enchanted Broom" XYZ="23.97186, 38.43, 3.555298"/>
                    <TalkTo NpcId="1012426" XYZ="23.97186, 38.43, 3.555298" QuestId="67196" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67196) == 3">
                    <If Condition="IsOnMap(463)">
                        <UseTransport Name="Cave Exit" InteractDistance="3.0" NpcId="2005337" XYZ="7.765594, 38.9395, -50.9989"/>
                    </If>
                    <GetTo ZoneId="399" XYZ="300.4653, 232.541, 767.8796"/> <!-- Broomsy -->
                    <TalkTo NpcId="1012427" XYZ="300.4653, 232.541, 767.8796" QuestId="67196" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(67196) == 4">
                    <RunCode Name="Forbidden_Knowledge"/>
                    <StopBot/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67196) == 255">
                    <If Condition="not IsOnMap(399) and not IsOnMap(463)">
                        <GetTo ZoneId="399" XYZ="-488.7923, 138.9333, 741.0543"/> <!-- Cave Entrance -->
                    </If>
                    <If Condition="IsOnMap(399)">
                        <NoCombatMoveTo Name="Cave Entrance" XYZ="-488.7923, 138.9333, 741.0543"/>
                        <UseTransport Name="Cave Entrance" InteractDistance="2.5" NpcId="2005336" XYZ="-488.7923, 138.9333, 741.0543"/>
                    </If>

                    <!-- Rewards

                    Aether Current

                    -->

                    <MoveTo Name="Matoya" XYZ="19.27209, 38.43, 15.85406"/>
                    <TurnIn QuestId="67196" NpcId="1012138" ItemId="2001575" XYZ="19.27209, 38.43, 15.85406"/>
                </If>
            </If>
        </If>
        <!-- An Eye for Aether -->
        <If Condition="not IsQuestCompleted(67197)">
            <If Condition="not HasQuest(67197)">
                <If Condition="not IsOnMap(399) and not IsOnMap(463)">
                    <GetTo ZoneId="399" XYZ="-488.7923, 138.9333, 741.0543"/> <!-- Cave Entrance -->
                </If>
                <If Condition="IsOnMap(399)">
                    <NoCombatMoveTo Name="Cave Entrance" XYZ="-488.7923, 138.9333, 741.0543"/>
                    <UseTransport Name="Cave Entrance" InteractDistance="2.5" NpcId="2005336" XYZ="-488.7923, 138.9333, 741.0543"/>
                </If>
                <MoveTo Name="Matoya" XYZ="19.27209, 38.43, 15.85406"/>
                <If Condition="IsQuestAcceptQualified(67197)">
                    <PickupQuest NpcId="1012138" QuestId="67197" XYZ="19.27209, 38.43, 15.85406"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67197)">
                <If Condition="GetQuestStep(67197) == 1">
                    <GetTo ZoneId="399" XYZ="-475.7916, 137.4297, 701.4724"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012422" XYZ="-475.7916, 137.4297, 701.4724" QuestId="67197" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67197) == 2">
                    <GetTo ZoneId="418" XYZ="124.4678, 24.45884, 0.4729614"/> <!-- Aymeric -->
                    <TalkTo NpcId="1012380" XYZ="124.4678, 24.45884, 0.4729614" QuestId="67197" StepId="2"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67197) == 255">
                    <GetTo ZoneId="419" XYZ="167.0404, -14.3133, 51.28552"/> <!-- Cid -->
                    <TurnIn QuestId="67197" NpcId="1013163" XYZ="167.0404, -14.3133, 51.28552"/>
                </If>
            </If>
        </If>
        <!-- Hour of Departure -->
        <If Condition="not IsQuestCompleted(67198)">
            <If Condition="not HasQuest(67198)">
                <GetTo ZoneId="419" XYZ="165.9418, -14.34896, 51.65173"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67198)">
                    <PickupQuest NpcId="1012430" QuestId="67198" XYZ="165.9418, -14.34896, 51.65173"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67198)">
                <If Condition="GetQuestStep(67198) == 1">
                    <GetTo ZoneId="419" XYZ="168.2917, -14.52896, 41.15356"/> <!-- Aymeric -->
                    <TalkTo NpcId="1013166" XYZ="168.2917, -14.52896, 41.15356" QuestId="67198" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67198) == 2">
                    <If Condition="not IsTodoChecked(67198, 2, 2)">
                        <GetTo ZoneId="418" XYZ="12.31396, -12.02088, 40.26843"/> <!-- Hilda -->
                        <TalkTo NpcId="1012251" XYZ="12.31396, -12.02088, 40.26843" QuestId="67198" StepId="2"/>
                    </If>
                    <If Condition="not IsTodoChecked(67198, 2, 1)">
                        <GetTo ZoneId="418" XYZ="92.36279, 15.09468, 33.18835"/> <!-- Tataru -->
                        <TalkTo NpcId="1013161" XYZ="92.36279, 15.09468, 33.18835" QuestId="67198" StepId="2"/>
                    </If>
                    <If Condition="not IsTodoChecked(67198, 2, 0)">
                        <GetTo ZoneId="418" XYZ="125.6885, 24.45884, 2.456604"/> <!-- Lucia -->
                        <TalkTo NpcId="1013167" XYZ="125.6885, 24.45884, 2.456604" QuestId="67198" StepId="2"/>
                    </If>
                </If>
                <If Condition="GetQuestStep(67198) == 3">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="17.99036, 16.00967, -9.567444"/> <!-- Fortemps Manor -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444"/>
                    </If>
                    <MoveTo Name="Count Edmont De Fortemps" XYZ="4.013123, 7.450581E-09, 5.661072"/>
                    <ExtendedTalkTo NpcId="1012397" XYZ="4.013123, 7.450581E-09, 5.661072" QuestId="67198" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67198) == 255">
                    <If Condition="IsOnMap(433)">
                        <UseTransport Name="Manor Exit" InteractDistance="2.5" NpcId="2005334" XYZ="-0.01531982, 1.144348, 13.19904"/>
                    </If>

                    <!-- Rewards

                    Title: Under-archon

                    -->

                    <GetTo ZoneId="419" XYZ="165.9418, -14.34896, 51.65173"/> <!-- Alphinaud -->
                    <TurnIn QuestId="67198" NpcId="1012430" XYZ="165.9418, -14.34896, 51.65173"/>
                </If>
            </If>
        </If>
        <!-- The First Flight of the Excelsior -->
        <If Condition="not IsQuestCompleted(67199)">
            <If Condition="not HasQuest(67199)">
                <GetTo ZoneId="419" XYZ="165.9418, -14.34896, 51.65173"/> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67199)">
                    <PickupQuest NpcId="1012430" QuestId="67199" XYZ="165.9418, -14.34896, 51.65173"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67199)">
                <If Condition="GetQuestStep(67199) == 1">
                    <GetTo ZoneId="419" XYZ="180.1632, -16.02896, 34.6532"/> <!-- Y'shtola -->
                    <ExtendedTalkTo NpcId="1012431" XYZ="180.1632, -16.02896, 34.6532" QuestId="67199" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67199) == 2">
                    <GetTo ZoneId="419" XYZ="165.9418, -14.34896, 51.65173"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1012430" XYZ="165.9418, -14.34896, 51.65173" QuestId="67199" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67199) == 4">
                    <If Condition="not IsOnMap(402) and not IsOnMap(419)">
                        <GetTo ZoneId="419" XYZ="168.4442, -14.34896, 49.57654"/> <!-- Notrelchamps -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Notrelchamps" InteractDistance="3.0" NpcId="1012153" XYZ="168.4442, -14.34896, 49.57654"/>
                    </If>
                    <NoCombatMoveTo Name="Cid" XYZ="-861.8448, -184.293, -659.2356"/>
                    <TalkTo NpcId="1012854" XYZ="-861.8448, -184.293, -659.2356" QuestId="67199" StepId="4"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67199) == 255">
                    <If Condition="not IsOnMap(402) and not IsOnMap(419)">
                        <GetTo ZoneId="419" XYZ="168.4442, -14.34896, 49.57654"/> <!-- Notrelchamps -->
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Notrelchamps" InteractDistance="3.0" NpcId="1012153" XYZ="168.4442, -14.34896, 49.57654"/>
                    </If>
                    <If Condition="not Managers.WorldManager.HasAetheryteId(74)">
                        <LogMessage Message="[Heavensward] Attuning to the Helix Aetheryte..."/>
                        <NoCombatMoveTo Name="Helix Aetheryte" XYZ="-726.0205, -186.9606, -594.9814"/>
                        <UseObject UseDistance="8.0" NpcId="74" XYZ="-726.0205, -186.9606, -594.9814" Radius="10" UseTimes="1" BlacklistAfter="True"/>
                        <LogMessage Message="[Heavensward] Setting Helix as your Home Point..."/>
                        <UseTransport NpcId="74" UseTimes="1" DialogOption="0" BlacklistAfter="True" InteractDistance="10" XYZ="-726.0205, -186.9606, -594.9814" Radius="10" WaitTime="5000"/>
                    </If>
                    <NoCombatMoveTo Name="Cid" XYZ="-650.1717, -176.4502, -565.1484"/>
                    <TurnIn QuestId="67199" NpcId="1012792" XYZ="-650.1717, -176.4502, -565.1484"/>
                </If>
            </If>
        </If>
        <!-- Systematic Exploration -->
        <If Condition="not IsQuestCompleted(67200)">
            <If Condition="not HasQuest(67200)">
                <GetTo ZoneId="402" XYZ="-650.1717, -176.4502, -565.1484"/> <!-- Notrelchamps -->
                <If Condition="IsQuestAcceptQualified(67200)">
                    <PickupQuest NpcId="1012792" QuestId="67200" XYZ="-650.1717, -176.4502, -565.1484"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67200)">
                <If Condition="GetQuestStep(67200) == 1">
                    <GetTo ZoneId="402" XYZ="-637.6898, -176.4706, -558.3734"/> <!-- Destination -->
                    <UseObject NpcIds="2006237,2006236,2006238" QuestId="67200" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="-637.6898, -176.4706, -558.3734" Radius="10"/>
                            <HotSpot XYZ="-649.7139, -176.4706, -538.6893" Radius="10"/>
                            <HotSpot XYZ="-645.1667, -174.5786, -477.9279" Radius="10"/>
                        </HotSpots>
                    </UseObject>
                </If>
                <If Condition="GetQuestStep(67200) == 2">
                    <GetTo ZoneId="402" XYZ="-638.3612, -176.4502, -578.6679"/> <!-- Cid -->
                    <TalkTo NpcId="1014675" XYZ="-638.3612, -176.4502, -578.6679" QuestId="67200" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67200) == 3">
                    <GetTo ZoneId="402" XYZ="-428.0614, -166.2166, -411.8868"/> <!-- Destination -->
                    <UseObject NpcId="2005565" XYZ="-428.0614, -166.2166, -411.8868" Radius="10" QuestId="67200" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67200) == 255">
                    <GetTo ZoneId="402" XYZ="-638.3612, -176.4502, -578.6679"/> <!-- Cid -->

                    <!-- Rewards

                    Aether Current

                    0: Strength Materia IV
                    1: Dexterity Materia IV
                    2: Intelligence Materia IV
                    3: Mind Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67200" NpcId="1014675" XYZ="-638.3612, -176.4502, -578.6679" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67200" NpcId="1014675" XYZ="-638.3612, -176.4502, -578.6679"/>
                </If>
            </If>
        </If>
        <!-- In Node We Trust -->
        <If Condition="not IsQuestCompleted(67201)">
            <If Condition="not HasQuest(67201)">
                <GetTo ZoneId="402" XYZ="-639.8871, -176.4502, -579.3393"/> <!-- Guidance Node -->
                <If Condition="IsQuestAcceptQualified(67201)">
                    <PickupQuestPlus NpcId="1012796" QuestId="67201" XYZ="-639.8871, -176.4502, -579.3393"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67201)">
                <If Condition="GetQuestStep(67201) == 1">
                    <GetTo ZoneId="402" XYZ="-642.9083, -176.4502, -577.5082"/> <!-- Alphinaud -->
                    <TalkTo NpcId="1014677" XYZ="-642.9083, -176.4502, -577.5082" QuestId="67201" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67201) == 2">
                    <GetTo ZoneId="402" XYZ="-166.3691, -162.1073, -490.898"/> <!-- Guidance Node -->
                    <ExtendedTalkTo NpcId="1012797" XYZ="-166.3691, -162.1073, -490.898" QuestId="67201" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(67201) == 3">
                    <GetTo ZoneId="402" XYZ="-145.6169, -154.8333, -503.4715"/> <!-- Allagan Teleporter -->
                    <UseObject NpcId="2006363" XYZ="-145.6169, -154.8333, -503.4715" Radius="10" QuestId="67201" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67201) == 255">
                    <GetTo ZoneId="402" XYZ="235.9807, -72.83498, -619.8978"/> <!-- Guidance Node -->

                    <!-- Rewards

                    Aether Current
                    0: Parry Materia IV
                    1: Skill Speed Materia IV
                    2: Spell Speed Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67201" NpcId="1012802" XYZ="235.9807, -72.83498, -619.8978" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67201" NpcId="1012802" XYZ="235.9807, -72.83498, -619.8978"/>
                </If>
            </If>
        </If>
        <!-- Chimerical Maintenance -->
        <If Condition="not IsQuestCompleted(67202)">
            <If Condition="not HasQuest(67202)">
                <GetTo ZoneId="402" XYZ="235.9807, -72.83498, -619.8978"/> <!-- Guidance Node -->
                <If Condition="IsQuestAcceptQualified(67202)">
                    <PickupQuest NpcId="1012802" QuestId="67202" XYZ="235.9807, -72.83498, -619.8978"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67202)">
                <If Condition="GetQuestStep(67202) == 1">
                    <GetTo ZoneId="402" XYZ="780.9414, -25.90514, -508.1102"/> <!-- Guidance Node -->
                    <TalkTo NpcId="1012807" XYZ="780.9414, -25.90514, -508.1102" QuestId="67202" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67202) == 2">
                    <While Condition="GetQuestById(67202).QuestI8AH == 0">
                        <GetTo ZoneId="402" XYZ="296.7117, -55.28345, -459.2508"/> <!-- Destination -->
                        <UseObject NpcId="2005569" XYZ="296.7117, -55.28345, -459.2508" Radius="10" QuestId="67202" StepId="2"/>
                        <Grind grindRef="Chimerical_Maintenance" while="HasQuest(67202) and GetQuestById(67202).QuestI8AH == 0"/>
                    </While>
                    <While Condition="GetQuestById(67202).QuestI8AH == 1">
                        <GetTo ZoneId="402" XYZ="344.1367, -55.375, -428.4886"/> <!-- Destination -->
                        <UseObject NpcId="2005568" XYZ="344.1367, -55.375, -428.4886" Radius="10" QuestId="67202" StepId="2"/>
                        <Grind grindRef="Chimerical_Maintenance" while="HasQuest(67202) and GetQuestById(67202).QuestI8AH == 1"/>
                    </While>
                    <While Condition="GetQuestById(67202).QuestI8AH == 2">
                        <GetTo ZoneId="402" XYZ="249.2561, -55.49713, -406.5156"/> <!-- Destination -->
                        <UseObject NpcId="2005567" XYZ="249.2561, -55.49713, -406.5156" Radius="10" QuestId="67202" StepId="2"/>
                        <Grind grindRef="Chimerical_Maintenance" while="HasQuest(67202) and GetQuestById(67202).QuestI8AH == 2"/>
                    </While>
                </If>
                <If Condition="GetQuestStep(67202) == 3">
                    <GetTo ZoneId="402" XYZ="780.9414, -25.90514, -508.1102"/> <!-- Guidance Node -->
                    <ExtendedTalkTo NpcId="1012807" XYZ="780.9414, -25.90514, -508.1102" QuestId="67202" StepId="3"/>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67202) == 255">
                    <GetTo ZoneId="402" XYZ="776.4245, -17.94297, -486.3318"/> <!-- Allagan Teleporter -->

                    <!-- Rewards

                    Aether Current
                    0: Determination Materia IV
                    1: Critical Hit Rate Materia IV
                    2: Accuracy Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="67202" NpcId="2006364" XYZ="778.8052, -17.99042, -483.5432" RewardSlot="0" />

                    -->

                    <TurnIn QuestId="67202" NpcId="2006364" XYZ="778.8052, -17.99042, -483.5432"/>
                </If>
            </If>
        </If>
        <!-- Close Encounters of the Vith Kind -->
        <If Condition="not IsQuestCompleted(67203)">
            <If Condition="not HasQuest(67203)">
                <GetTo ZoneId="402" XYZ="634.5159, 10.47438, 77.50049"/> <!-- Guidance Node -->
                <If Condition="IsQuestAcceptQualified(67203)">
                    <PickupQuest NpcId="1014850" QuestId="67203" XYZ="634.5159, 10.47438, 77.50049"/>
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67203)">
                <If Condition="GetQuestStep(67203) == 1">
                    <GetTo ZoneId="402" XYZ="641.9012, 13.84011, 506.9504"/> <!-- Estinien -->
                    <ExtendedTalkTo NpcId="1012829" XYZ="641.9012, 13.84011, 506.9504" QuestId="67203" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(67203) == 2">
                    <GetTo ZoneId="402" XYZ="228.2291, 14.93359, 553.9788"/> <!-- Guidance Node -->
                    <TalkTo NpcId="1012827" XYZ="228.2291, 14.93359, 553.9788" QuestId="67203" StepId="2"/>
                    <Grind grindRef="Close_Encounters_of_the_VIth_Kind" while="HasQuest(67203) and GetQuestStep(67203) == 2"/>
                </If>
                <If Condition="GetQuestStep(67203) == 3">
                    <GetTo ZoneId="402" XYZ="228.2291, 14.93359, 553.9788"/> <!-- Guidance Node -->
                    <RunCode Name="Close_Encounters_of_the_Vith_Kind"/>
                    <!-- <StopBot /> -->

                    <!-- TO DO -->

                    <!-- Need to avoid the untelegraphed attack, if possible. -->
                    <!-- Need to avoid the AE ground-targeted attack, if possible. -->
                    <!-- Need to stop attacking tanks that are beyond the circle. -->

                    <!-- TO DO -->

                    <SimpleDuty InteractNpcId="1012827" XYZ="228.2291, 14.93359, 553.9788" QuestId="67203" StepId="3">
                        <HotSpots>
                            <HotSpot XYZ="248.0971, 17.15141, 552.9381" Radius="90"/>
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="3372" Weight="6000"/> <!-- Main Ceruleum Tank -->
                            <TargetMob Id="4152" Weight="5000"/> <!-- 1st Maniple Signifer -->
                            <TargetMob Id="4153" Weight="4000"/> <!-- 1st Maniple Sagittarius -->
                            <TargetMob Id="4151" Weight="3000"/> <!-- 1st Maniple Eques -->
                            <TargetMob Id="4150" Weight="2000"/> <!-- 1st Maniple Centurion -->
                            <TargetMob Id="3818" Weight="1000"/> <!-- Regula van Hydrus -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67203) == 255">
                    <GetTo ZoneId="402" XYZ="208.369, 21.78384, 555.3657"/> <!-- Allagan Teleporter -->
                    <If Condition="IsOnMap(402) and (IsOnSubMap(2111) or IsOnSubMap(2139) or IsOnSubMap(2141) or IsOnSubMap(2142) or IsOnSubMap(2143) or IsOnSubMap(2170))">
                        <NoCombatMoveTo Name="Allagan Teleporter" XYZ="208.369, 21.78384, 555.3657"/>
                        <UseTransport Name="Delta Quadrant" InteractDistance="3.0" NpcId="2005561" XYZ="206.4087, 21.7746, 558.7701"/>
                    </If>

                    <!-- Rewards

                    Aether Current

                    -->

                    <NoCombatMoveTo Name="Guidance Node" XYZ="-197.8638, -102.783, 456.5347"/>
                    <TurnIn QuestId="67203" NpcId="1012834" XYZ="-197.8638, -102.783, 456.5347"/>
                </If>
            </If>
        </If>
        <!-- Fetters of Lament -->
        <If Condition="not IsQuestCompleted(67204)">
            <If Condition="not HasQuest(67204)">
                <GetTo ZoneId="402" XYZ="-197.8638, -102.783, 456.5347"/> <!-- Guidance Node -->
                <If Condition="IsQuestAcceptQualified(67204)">
                    <PickupQuest NpcId="1012834" QuestId="67204" XYZ="-197.8638, -102.783, 456.5347"/>
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67204)">
                <If Condition="GetQuestStep(67204) == 255">
                    <GetTo ZoneId="402" XYZ="-696.1318, -37.06427, 432.4253"/> <!-- Destination -->

                    <!-- Rewards

                    Aether Current
                    Mount: Midgardsormr

                    -->

                    <TurnIn QuestId="67204" NpcId="2005465" XYZ="-696.1318, -37.06427, 432.4253"/>
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 60">
            <LogMessage Message="[Heavensward] You are not level 60 yet!"/>
            <LogMessage Message="[Heavensward] Grinding to level 60..."/>
            <GetTo ZoneId="402" XYZ="-622.1088, -176.9089, -513.5219"/> <!-- Grinding Area -->
            <Grind grindRef="To_Level_60" while="Core.Player.ClassLevel &lt; 60"/>
        </If>

        <!-- ######## -->
        <!-- LEVEL 60 -->
        <!-- ######## -->

        <LogMessage Message="[Heavensward] Checking level 60 quests..."/>

        <!-- Level 60 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67561)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(67254)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(67219)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(67600)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(67231)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(67247)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67567)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(67224)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(67573)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(67212)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(67641)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(66137)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67261)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml"/>
        </If>

        <!-- [PickUp Quest] -->

        <!-- Heavensward -->
        <If Condition="not IsQuestCompleted(67205)">

            <LogMessage Message="[Heavensward] Skipping the Heavensward quest until flying is supported..."/>

            <!-- <If Condition="not HasQuest(67205)">
                <If Condition="not IsOnMap(402) and not IsOnMap(419)">
                    <GetTo ZoneId="419" XYZ="-48.65455, -8.234923, -59.07746" />
                </If>
                <If Condition="IsOnMap(419)"> -->
            <!-- <GetTo ZoneId="402" XYZ="-710.4073, -187.544, -589.1729" /> -->
            <!-- <UseTransport Name="Notrelchamps" InteractDistance="3.0" NpcId="1012153" XYZ="168.4442, -14.34896, 49.57654" />
                </If>
                <ExFlyTo Name="Guidance Node" XYZ="-319.0204, 253, -5.233948" />
                <If Condition="IsQuestAcceptQualified(67205)">
                    <PickupQuest NpcId="1012848" QuestId="67205" XYZ="-319.0204, 253, -5.233948" />
                </If>
            </If> -->

            <!-- [Complete Quest] -->

            <!-- <If Condition="HasQuest(67205)">
                <If Condition="GetQuestStep(67205) == 1">
                    <If Condition="not IsOnMap(402) and not IsOnMap(419)">
                        <GetTo ZoneId="419" XYZ="-48.65455, -8.234923, -59.07746" />
                    </If>
                    <If Condition="IsOnMap(419)"> -->
            <!-- <GetTo ZoneId="402" XYZ="-710.4073, -187.544, -589.1729" /> -->
            <!-- <UseTransport Name="Notrelchamps" InteractDistance="3.0" NpcId="1012153" XYZ="168.4442, -14.34896, 49.57654" />
                    </If>
                    <ExFlyTo Name="Guidance Node" XYZ="-62.88245, 271.2328, -5.661133" />
                    <TalkTo NpcId="1012850" XYZ="-62.88245, 271.2328, -5.661133" QuestId="67205" StepId="1" />
                    <Grind grindRef="Heavensward" while="HasQuest(67205) and GetQuestStep(67205) == 1" />
                </If>
                <If Condition="GetQuestStep(67205) == 2">
                    <If Condition="not IsOnMap(402) and not IsOnMap(419)">
                        <GetTo ZoneId="419" XYZ="-48.65455, -8.234923, -59.07746" />
                    </If>
                    <If Condition="IsOnMap(419)"> -->
            <!-- <GetTo ZoneId="402" XYZ="-710.4073, -187.544, -589.1729" /> -->
            <!-- <UseTransport Name="Notrelchamps" InteractDistance="3.0" NpcId="1012153" XYZ="168.4442, -14.34896, 49.57654" />
                    </If>
                    <ExFlyTo Name="Guidance Node" XYZ="-62.88245, 271.2328, -5.661133" />
                    <TalkTo NpcId="1012850" XYZ="-62.88245, 271.2328, -5.661133" QuestId="67205" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67205) == 3">
                    <RunCode Name="Heavensward" />
                    <StopBot />
                </If>
                <If Condition="GetQuestStep(67205) == 5">
                    <RunCode Name="Heavensward2" />
                    <StopBot />
                </If> -->

            <!-- [TurnIn Quest] -->

            <!-- <If Condition="GetQuestStep(67205) == 255">
                    <If Condition="not IsOnMap(419) and not IsOnMap(433)">
                        <GetTo ZoneId="419" XYZ="-48.65455, -8.234923, -59.07746" />
                    </If>
                    <If Condition="IsOnMap(419)">
                        <UseTransport Name="Fortemps Manor" InteractDistance="3.0" NpcId="1011217" XYZ="17.99036, 16.00967, -9.567444" />
                    </If> -->

            <!-- Rewards

                    Title: The End of Ascalon

                    -->

            <!-- <MoveTo Name="Alphinaud" XYZ="0.7476196, 0.02225424, 4.623413" />
                    <TurnIn QuestId="67205" NpcId="1012857" XYZ="0.7476196, 0.02225424, 4.623413" />
                </If>
            </If> -->
        </If>

        <If Condition="IsQuestCompleted(67205)">
            <RunCode Name="Heavensward_Questline"/>
            <StopBot/>
        </If>

    </Order>
    <CodeChunks>
        <CodeChunk Name="TravelToFalconsNest">
            <![CDATA[ 
				if (ChocoboManager.Summoned) await ChocoboManager.DismissChocobo();
				GameObjectManager.GetObjectByNPCId(1011195).Interact();
				await Coroutine.Sleep(1000);
				if (ff14bot.RemoteWindows.SelectIconString.IsOpen)
					ff14bot.RemoteWindows.SelectIconString.ClickSlot(0);
				await Coroutine.Sleep(1000);
				if (ff14bot.RemoteWindows.Talk.DialogOpen)
					ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(1000);
				if (ff14bot.RemoteWindows.SelectString.IsOpen)
					ff14bot.RemoteWindows.SelectString.ClickSlot(0);
				await Coroutine.Sleep(1000);
				if (ff14bot.RemoteWindows.SelectString.IsOpen)
					ff14bot.RemoteWindows.SelectString.ClickSlot(0);
				await Coroutine.Sleep(1000);
				if (ff14bot.RemoteWindows.SelectYesno.IsOpen)
					ff14bot.RemoteWindows.SelectYesno.ClickYes();
				await Coroutine.Sleep(60000);
		    ]]>
        </CodeChunk>
        <CodeChunk Name="LearnBlackChocobo">
            <![CDATA[
				foreach(BagSlot slot in InventoryManager.FilledSlots)
				{
					if(slot.RawItemId == 12075)
					{
						slot.UseItem();
					}
				}
		    ]]>
        </CodeChunk>
        <CodeChunk Name="LearnFlyerShaffron">
            <![CDATA[
				foreach(BagSlot slot in InventoryManager.FilledSlots)
				{
					if(slot.RawItemId == 6032)
					{
						slot.UseItem();
					}
				}
		    ]]>
        </CodeChunk>
        <CodeChunk Name="MoveForwardStart">
            <![CDATA[
				await Coroutine.Sleep(500);
				MovementManager.MoveForwardStart();
				await Coroutine.Sleep(2000);
				MovementManager.MoveStop();
				await Coroutine.Sleep(500);
		    ]]>
        </CodeChunk>
        <CodeChunk Name="LearnManacutter">
            <![CDATA[
				foreach(BagSlot slot in InventoryManager.FilledSlots)
				{
					if(slot.RawItemId == 12073)
					{
						slot.UseItem();
					}
				}
		    ]]>
        </CodeChunk>

        <!-- Job Check -->

        <CodeChunk Name="EquipBRDCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4546)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipBLMCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4548)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipDRGCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4545)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipMNKCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4543)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipNINCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 7886)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipPLDCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4542)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipSCHCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4550)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipSMNCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4549)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipWARCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4544)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipWHMCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4547)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>

        <!-- Aether Currents -->

        <CodeChunk Name="CWHAetherCurrent4">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.SetFacing(0.1015592f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(4000);
                MovementManager.MoveStop();
                await Coroutine.Sleep(5000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="CWHAetherCurrent4Complete">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.SetFacing(4.176881f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(2000);
                MovementManager.MoveStop();
            ]]>
        </CodeChunk>
        <CodeChunk Name="CWHAetherCurrent5">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.SetFacing(0.007050514f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(500);
                MovementManager.Jump();
                await Coroutine.Sleep(1000);
                MovementManager.MoveStop();
                await Coroutine.Sleep(5000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="CWHAetherCurrent5Complete">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.SetFacing(5.600707f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(2000);
                MovementManager.MoveStop();
            ]]>
        </CodeChunk>
        <CodeChunk Name="CWHAetherCurrent9">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.SetFacing(4.38366f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(500);
                MovementManager.MoveStop();
                await Coroutine.Sleep(5000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="CWHAetherCurrent9Complete">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.SetFacing(6.179805f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(10000);
                MovementManager.MoveStop();
            ]]>
        </CodeChunk>
        <CodeChunk Name="MoveForwardStart">
            <![CDATA[
                await Coroutine.Sleep(500);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(2000);
                MovementManager.MoveStop();
                await Coroutine.Sleep(500);
            ]]>
        </CodeChunk>
        <CodeChunk Name="DFAetherCurrent3">
            <![CDATA[
                await Coroutine.Sleep(1000);
                MovementManager.SetFacing(3.281041f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(1000);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(4000);
                MovementManager.MoveStop();
                await Coroutine.Sleep(500);
            ]]>
        </CodeChunk>
        <CodeChunk Name="DFAetherCurrent3Complete">
            <![CDATA[
                MovementManager.SetFacing(0.9940317f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(3000);
                MovementManager.MoveStop();
            ]]>
        </CodeChunk>
        <CodeChunk Name="DFAetherCurrent6">
            <![CDATA[
                MovementManager.SetFacing(5.973166f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(500);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                await Coroutine.Sleep(350);
                MovementManager.Jump();
                MovementManager.MoveStop();
                await Coroutine.Sleep(500);
            ]]>
        </CodeChunk>
        <CodeChunk Name="DFAetherCurrent6Complete">
            <![CDATA[
                MovementManager.SetFacing(3.280805f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(3000);
                MovementManager.MoveStop();
            ]]>
        </CodeChunk>
        <CodeChunk Name="DHAetherCurrent10">
            <![CDATA[
                await Coroutine.Sleep(1000);
                MovementManager.SetFacing(4.153834f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(3000);
                MovementManager.MoveStop();
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="DHAetherCurrent10_2">
            <![CDATA[
                await Coroutine.Sleep(1000);
                MovementManager.SetFacing(3.179941f);
                MovementManager.MoveForwardStart();
                await Coroutine.Sleep(3000);
                MovementManager.MoveStop();
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Sea_of_Clouds_Aether_Currents">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67179) != 255)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nThe Into the Blue quest is required to continue\nattuning to The Sea of Clouds Aether Currents!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Dravanian_Hinterlands_Aether_Currents">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67194) != 255)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nThe Leaving Idyllshire quest is required to continue\nattuning to The Dravanian Hinterlands Aether Currents!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Heavensward_Questline">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67205) != 255)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "You've completed the Heavensward questline!\nPlease load the Heavensward (Patch 3.1) profile\nif you would like to continue questing!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>

        <!-- Duties -->

        <CodeChunk Name="Keeping_the_Flame_Alive">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67137) == 1)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete the Keeping the Flame Alive duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Lord_of_the_Hive">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67152) == 3)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete the Thok ast Thok (Hard) duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Mourn_in_Passing">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67153) == 3)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete the Sohm Al duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Into_the_Aery">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67170) == 2)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete The Aery duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="A_Knights_Calling">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67176) == 3)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete The Vault duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Familiar_Faces">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67180) == 2)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete the Familiar Faces duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Bolt_Chain_and_Island">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67183) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete The Limitless Blue (Hard) duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Forbidden_Knowledge">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67196) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete The Great Gubal Library duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Close_Encounters_of_the_Vith_Kind">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67203) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete the Close Encounters of the VIth Kind duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Heavensward">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67205) == 3)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete The Aetherochemical Research Facility duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Heavensward2">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(67205) == 5)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Heavensward]\nPlease manually complete The Singularity Reactor duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
    </CodeChunks>
    <GrindAreas>
        <GrindArea name="The_First_and_Foremost">
            <Hotspots>
                <Hotspot Radius="90" XYZ="403.5994, 167.5542, 293.2362" name="Deepeyes"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3471"/> <!-- Deepeye -->
            </TargetMobs>
            <MinLevel>50</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Reconnaissance_Lost">
            <Hotspots>
                <Hotspot Radius="90" XYZ="79.3596, 117.198, 155.5567" name="Gaunt Figures"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3894"/> <!-- Gaunt Figure -->
            </TargetMobs>
            <MinLevel>50</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_51">
            <Hotspots>
                <Hotspot Radius="250" XYZ="-509.6002, -165.777, 590.7178" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3495" Weight="3000"/>
                <TargetMob Id="3494" Weight="2000"/>
                <TargetMob Id="115" Weight="1000"/>
            </TargetMobs>
            <MinLevel>50</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="In_Search_of_Iceheart">
            <Hotspots>
                <Hotspot Radius="90" XYZ="455.963, 157.4083, -542.9648" name="Bear Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3899" Weight="2000"/>
                <TargetMob Id="3898" Weight="1000"/>
            </TargetMobs>
            <MinLevel>51</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Purple_Flame_Purple_Flame">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-334.3916, 80.6248, -299.0159" name="Wooly Yaks"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3479"/>
            </TargetMobs>
            <MinLevel>51</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_52">
            <Hotspots>
                <Hotspot Radius="250" XYZ="707.6358, -85.90607, 30.52784" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3503" Weight="5000"/>
                <TargetMob Id="3501" Weight="4000"/>
                <TargetMob Id="3502" Weight="3000"/>
                <TargetMob Id="3500" Weight="2000"/>
                <TargetMob Id="115" Weight="1000"/>
            </TargetMobs>
            <MinLevel>51</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Worse_than_Dragons">
            <Hotspots>
                <Hotspot Radius="90" XYZ="635.6232, -39.94743, -298.0004" name="Marching Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3901" Weight="2000"/>
                <TargetMob Id="3900" Weight="1000"/>
            </TargetMobs>
            <MinLevel>52</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Worse_than_Dragons2">
            <Hotspots>
                <Hotspot Radius="90" XYZ="231.8334, -56.74771, -256.6644" name="Marching Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3902" Weight="2000"/>
                <TargetMob Id="3900" Weight="1000"/>
            </TargetMobs>
            <MinLevel>52</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Trine_Towers">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-247.3205, -84.0005, 449.3726" name="Marching Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3901" Weight="3000"/>
                <TargetMob Id="3902" Weight="2000"/>
                <TargetMob Id="3900" Weight="1000"/>
            </TargetMobs>
            <MinLevel>52</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Trine_Towers2">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-281.8102, -63.24166, 333.3829" name="Marching Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3901" Weight="3000"/>
                <TargetMob Id="3902" Weight="2000"/>
                <TargetMob Id="3900" Weight="1000"/>
            </TargetMobs>
            <MinLevel>52</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Gifts_for_the_Outcasts">
            <Hotspots>
                <Hotspot Radius="90" XYZ="307.6536, -63.51617, -13.85168" name="Clearwater Nanka"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3570"/>
            </TargetMobs>
            <MinLevel>52</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_53">
            <Hotspots>
                <Hotspot Radius="250" XYZ="719.7514, -49.72655, 77.67138" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3564" Weight="3000"/> <!-- Wild Chocobo -->
                <TargetMob Id="3563" Weight="2000"/> <!-- Feather Flea -->
                <TargetMob Id="113" Weight="1000"/> <!-- Earth Sprite -->
            </TargetMobs>
            <MinLevel>52</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="A_Gnathic_Deity">
            <Hotspots>
                <Hotspot Radius="90" XYZ="307.5416, -63.44037, -15.20505" name="Clearwater Nankas"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3570"/>
            </TargetMobs>
            <MinLevel>53</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Breaking_into_Hives">
            <Hotspots>
                <Hotspot Radius="90" XYZ="190.5088, -118.3586, 567.7118" name="Marching Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3901" Weight="3000"/>
                <TargetMob Id="3902" Weight="2000"/>
                <TargetMob Id="3900" Weight="1000"/>
            </TargetMobs>
            <MinLevel>53</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Breaking_into_Hives2">
            <Hotspots>
                <Hotspot Radius="90" XYZ="264.0443, -97.1126, 614.8722" name="Marching Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3901" Weight="3000"/>
                <TargetMob Id="3902" Weight="2000"/>
                <TargetMob Id="3900" Weight="1000"/>
            </TargetMobs>
            <MinLevel>53</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_54">
            <Hotspots>
                <Hotspot Radius="250" XYZ="-165.6892, -63.78028, 318.1821" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3577" Weight="2000"/> <!-- Miacid -->
                <TargetMob Id="113" Weight="1000"/> <!-- Earth Sprite -->
            </TargetMobs>
            <MinLevel>53</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Mogmugs_Trial">
            <Hotspots>
                <Hotspot Radius="90" XYZ="244.3373, -40.10764, 440.2399" name="Archaeosaurs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3903" Weight="2000"/>
                <TargetMob Id="4027" Weight="1000"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Road_to_Zenith">
            <Hotspots>
                <Hotspot Radius="90" XYZ="305.2218, -41.43145, 326.319" name="Dragons in Waiting"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3904" Weight="2000"/>
                <TargetMob Id="3905" Weight="1000"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Road_to_Zenith2">
            <Hotspots>
                <Hotspot Radius="90" XYZ="202.4413, -23.34785, 166.9489" name="Dragons in Waiting"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3904" Weight="2000"/>
                <TargetMob Id="3905" Weight="1000"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Something_Needs_to_Change">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-96.05539, -5.738907, 382.809" name="Lower Skylords"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3618"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Waiting_for_the_Wind_to_Change">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-234.3998, -12.65855, 320.767" name="Melia Matron"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="4052"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Waiting_for_the_Wind_to_Change2">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-90.09085, -5.342505, 378.3353" name="Melia Matron"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="4052"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Wyrms_Lair">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-452.76, 44.00768, 406.6259" name="Dragons in Waiting"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3907" Weight="2000"/>
                <TargetMob Id="3906" Weight="1000"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Wyrms_Lair2">
            <Hotspots>
                <Hotspot Radius="90" XYZ="153.9107, -23.31803, 177.9893" name="Moss Dragons in Waiting"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3905"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="The_Wyrms_Lair3">
            <Hotspots>
                <Hotspot Radius="90" XYZ="396.783, -29.18642, -145.4636" name="Amphiptere Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3907" Weight="2000"/>
                <TargetMob Id="4028" Weight="1000"/>
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_55">
            <Hotspots>
                <Hotspot Radius="250" XYZ="259.4673, -38.6805, 489.154" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3627" Weight="4000"/> <!-- Mists Biast -->
                <TargetMob Id="3613" Weight="3000"/> <!-- Sankchinni -->
                <TargetMob Id="115" Weight="2000"/> <!-- Wind Sprite -->
                <TargetMob Id="117" Weight="1000"/> <!-- Lightning Sprite -->
            </TargetMobs>
            <MinLevel>54</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_56">
            <Hotspots>
                <Hotspot Radius="250" XYZ="-434.0145, 39.88776, 52.7067" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3625" Weight="3000"/> <!-- Bladed Vinegaroon -->
                <TargetMob Id="115" Weight="2000"/> <!-- Wind Sprite -->
                <TargetMob Id="117" Weight="1000"/> <!-- Lightning Sprite -->
            </TargetMobs>
            <MinLevel>55</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_57">
            <Hotspots>
                <Hotspot Radius="250" XYZ="-454.8296, -217.8813, 367.6745" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3507" Weight="2000"/> <!-- Wily Paissa -->
                <TargetMob Id="115" Weight="1000"/> <!-- Wind Sprite -->
            </TargetMobs>
            <MinLevel>56</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_58">
            <Hotspots>
                <Hotspot Radius="250" XYZ="284.6917, -121.5857, 700.3925" name="Gnath Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3592" Weight="6000"/> <!-- Gnath Cultivator -->
                <TargetMob Id="3591" Weight="5000"/> <!-- Gnath Steeldrone -->
                <TargetMob Id="3590" Weight="4000"/> <!-- Gnath Firedrone -->
                <TargetMob Id="3585" Weight="3000"/> <!-- Gnath Forager -->
                <TargetMob Id="3584" Weight="2000"/> <!-- Gnath Irondrone -->
                <TargetMob Id="3583" Weight="1000"/> <!-- Gnath Haildrone -->
            </TargetMobs>
            <MinLevel>57</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_59">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-168.2214, 101.1341, -396.9354" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3593" Weight="2000"/> <!-- Tarantula Hawk -->
                <TargetMob Id="113" Weight="1000"/> <!-- Earth Sprite -->
            </TargetMobs>
            <MinLevel>58</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Matoyas_Cave">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-488.7618, 138.9944, 742.1224" name="Poroggo Mouthtraps"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3908"/> <!-- Poroggo Mouthtrap -->
            </TargetMobs>
            <MinLevel>59</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Chimerical_Maintenance">
            <Hotspots>
                <Hotspot Radius="90" XYZ="296.7117, -55.28345, -459.2508" name="Glowing Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3853" Weight="2000"/> <!-- Glowing Empuse -->
                <TargetMob Id="4029" Weight="1000"/> <!-- Glowing Chimera -->
            </TargetMobs>
            <MinLevel>59</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Close_Encounters_of_the_VIth_Kind">
            <Hotspots>
                <Hotspot Radius="90" XYZ="228.2291, 14.93359, 553.9788" name="2nd Maniple Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="4031" Weight="4000"/> <!-- 2nd Maniple Medicus -->
                <TargetMob Id="4032" Weight="3000"/> <!-- 2nd Maniple Veles -->
                <TargetMob Id="4033" Weight="2000"/> <!-- 2nd Maniple Bestiarius -->
                <TargetMob Id="4030" Weight="1000"/> <!-- 2nd Maniple Triarius -->
            </TargetMobs>
            <MinLevel>59</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="To_Level_60">
            <Hotspots>
                <Hotspot Radius="250" XYZ="-513.7152, -168.6049, -452.1325" name="World Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="3532" Weight="3000"/> <!-- Snapper-rook -->
                <TargetMob Id="116" Weight="2000"/> <!-- Fire Sprite -->
                <TargetMob Id="117" Weight="1000"/> <!-- Lightning Sprite -->
            </TargetMobs>
            <MinLevel>59</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
        <GrindArea name="Heavensward">
            <Hotspots>
                <Hotspot Radius="90" XYZ="-62.88245, 271.2328, -5.661133" name="1st Maniple Mobs"/>
            </Hotspots>
            <TargetMobs>
                <TargetMob Id="4035" Weight="2000"/> <!-- 1st Maniple Medicus -->
                <TargetMob Id="4034" Weight="1000"/> <!-- 1st Maniple Imaginifer -->
            </TargetMobs>
            <MinLevel>60</MinLevel>
            <MaxLevel>71</MaxLevel>
        </GrindArea>
    </GrindAreas>
</Profile>