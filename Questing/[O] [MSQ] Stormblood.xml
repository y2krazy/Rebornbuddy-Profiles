<?xml version="1.0" encoding="UTF-8"?>
<!--
#################################
# Profile: [O] [MSQ] Stormblood #
#################################
# Authors: y2krazy              #
#################################
# Version: 4.0.0                #
#################################
# Required Level: 60+           #
#################################
# Required Setup:               #
#  None                         #
#################################
# Required User Interaction:    #
#  8 Duty Finder Queues         #
#  5 Solo Duty Queues           #
#  7 "Cutscene" Objectives      #
#################################
-->
<Profile>
	<Name>[O] [MSQ] Stormblood (v4.0.0)</Name>
	<BehaviorDirectory>../Quest Behaviors</BehaviorDirectory>
	<KillRadius>90</KillRadius>
	<Order>

        <BotSettings AutoEquip="1" />

        <If Condition="not IsQuestCompleted(67895)">
            <LogMessage Message="[Pre-Requisite Check] You haven't completed The Far Edge of Fate quest yet!" />
            <LogMessage Message="[Pre-Requisite Check] Loading the Heavensward profile..." />
            <LoadProfile Path="[O] [MSQ] Heavensward.xml" />
        </If>

	      <If Condition="(ClassName != ClassJobType.Astrologian) and (ClassName != ClassJobType.Bard) and (ClassName != ClassJobType.BlackMage) and (ClassName != ClassJobType.Dancer) and (ClassName != ClassJobType.DarkKnight) and (ClassName != ClassJobType.Dragoon) and (ClassName != ClassJobType.Gunbreaker) and (ClassName != ClassJobType.Machinist) and (ClassName != ClassJobType.Monk) and (ClassName != ClassJobType.Ninja) and (ClassName != ClassJobType.Paladin) and (ClassName != ClassJobType.RedMage) and (ClassName != ClassJobType.Scholar) and (ClassName != ClassJobType.Samurai) and (ClassName != ClassJobType.Summoner) and (ClassName != ClassJobType.Warrior) and (ClassName != ClassJobType.WhiteMage)">
            <LogMessage Message="[Job Check] You do not have a job assigned on your character." />
            <LogMessage Message="[Job Check] Equipping your Soul Crystal now..." />
            <If Condition="ClassName == ClassJobType.Archer">
                <RunCode Name="EquipBRDCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Thaumaturge">
                <RunCode Name="EquipBLMCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Lancer">
                <RunCode Name="EquipDRGCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Pugilist">
                <RunCode Name="EquipMNKCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Rogue">
                <RunCode Name="EquipNINCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Gladiator">
                <RunCode Name="EquipPLDCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Arcanist">
                <RunCode Name="EquipSCHCrystal" />
                <WaitTimer WaitTime="3" />
                <RunCode Name="EquipSMNCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Marauder">
                <RunCode Name="EquipWARCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="ClassName == ClassJobType.Conjurer">
                <RunCode Name="EquipWHMCrystal" />
                <WaitTimer WaitTime="3" />
            </If>
            <If Condition="(ClassName != ClassJobType.Bard) and (ClassName != ClassJobType.BlackMage) and (ClassName != ClassJobType.Dragoon) and (ClassName != ClassJobType.Monk) and (ClassName != ClassJobType.Ninja) and (ClassName != ClassJobType.Paladin) and (ClassName != ClassJobType.Scholar) and (ClassName != ClassJobType.Summoner) and (ClassName != ClassJobType.Warrior) and (ClassName != ClassJobType.WhiteMage)">
                <LogMessage Message="[Job Check] You do not have the proper Soul Crystal in your Armoury or Inventory." />
                <LogMessage Message="[Job Check] Loading the Class and Job Quests profile..." />
                <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
            </If>
        </If>

        <LogMessage Message="[Stormblood] Checking level 60 quests..." />

        <!-- [Pickup Quests] -->

        <!-- Beyond the Great Wall -->
        <If Condition="not IsQuestCompleted(67982)">
            <If Condition="not HasQuest(67982)">
                <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                    <GetTo ZoneId="156" XYZ="21.13373, 22.32391, -631.281" /> <!-- Rising Stones Entrance -->
                </If>
                <If Condition="IsOnMap(156)">
                    <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281" />
                </If>
                <If Condition="IsOnMap(351) and IsOnSubMap(1350)">
                    <UseTransport Name="Exit to the Rising Stones" InteractDistance="3.0" NpcId="2002880" XYZ="-0.01531982, -1.022339, -29.25159" />
                </If>
                <GetTo ZoneId="351" XYZ="-4.196289, 0.01804012, -6.637756" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67982)">
                    <PickupQuest NpcId="1018330" QuestId="67982" XYZ="-4.196289, 0.01804012, -6.637756" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67982)">
                <If Condition="GetQuestStep(67982) == 1">
                    <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                        <GetTo ZoneId="156" XYZ="21.13373, 22.32391, -631.281" /> <!-- Rising Stones Entrance -->
                    </If>
                    <If Condition="IsOnMap(156)">
                        <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281" />
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(1350)">
                        <UseTransport Name="Exit to the Rising Stones" InteractDistance="3.0" NpcId="2002880" XYZ="-0.01531982, -1.022339, -29.25159" />
                    </If>
                    <GetTo ZoneId="351" XYZ="-3.311279, 0.01804012, -6.881897" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020284" XYZ="-3.311279, 0.01804012, -6.881897" QuestId="67982" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67982) == 2">
                    <GetTo ZoneId="152" XYZ="24.79578, 6.189101, 401.9989" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020300" XYZ="24.79578, 6.189101, 401.9989" QuestId="67982" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67982) == 3">
                    <GetTo ZoneId="152" XYZ="26.96265, 6.184457, 400.9918" /> <!-- Serpent Officer -->
                    <TalkToPlus NpcId="1020303" XYZ="26.96265, 6.184457, 400.9918" QuestId="67982" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67982) == 255">
                    <GetTo ZoneId="612" XYZ="-606.7445, 130, -506.9505" /> <!-- Raubahn -->
                    <TurnIn QuestId="67982" NpcId="1020304" XYZ="-606.7445, 130, -506.9505" />
                </If>
            </If>
        </If>
        <!-- Lyse Takes the Lead -->
        <If Condition="not IsQuestCompleted(67983)">
            <If Condition="not HasQuest(67983)">
                <GetTo ZoneId="612" XYZ="-612.0852, 130, -504.0208" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(67983)">
                    <PickupQuest NpcId="1020527" QuestId="67983" XYZ="-612.0852, 130, -504.0208" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67983)">
                <If Condition="GetQuestStep(67983) == 1">
                    <GetTo ZoneId="612" XYZ="-481.2848, 96.38734, -341.2681" /> <!-- Lyse -->
                    <TalkTo NpcId="1020311" XYZ="-481.2848, 96.38734, -341.2681" QuestId="67983" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67983) == 2">
                    <GetTo ZoneId="612" XYZ="-213.5195, 59.15907, -531.426" /> <!-- Lyse -->
                    <TalkTo NpcId="1020316" XYZ="-213.5195, 59.15907, -531.426" QuestId="67983" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67983) == 3">
                    <GetTo ZoneId="612" XYZ="447.7759, 61.49748, -543.7247" /> <!-- Lyse -->
                    <TalkTo NpcId="1020321" XYZ="447.7759, 61.49748, -543.7247" QuestId="67983" StepId="3" />
                </If>
                <If Condition="GetQuestStep(67983) == 4">
                    <GetTo ZoneId="635" XYZ="-34.19219, 18.56959, 135.0397" /> <!-- Rhalgr's Reach -->
                    <WaitWhile Condition="GetQuestStep(67983) == 4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67983) == 255">
                    <GetTo ZoneId="635" XYZ="-32.97479, 18.04509, 129.4117" /> <!-- Conrad -->
                    <TurnIn QuestId="67983" NpcId="1020329" XYZ="-32.97479, 18.04509, 129.4117" />
                </If>
            </If>
        </If>
        <!-- The Promise of a New Beginning -->
        <If Condition="not IsQuestCompleted(67984)">
            <If Condition="not HasQuest(67984)">
                <GetTo ZoneId="635" XYZ="-32.97479, 18.04509, 129.4117" /> <!-- Conrad -->
                <If Condition="IsQuestAcceptQualified(67984)">
                    <PickupQuest NpcId="1020329" QuestId="67984" XYZ="-32.97479, 18.04509, 129.4117" />
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67984)">
                <If Condition="GetQuestStep(67984) == 255">
                    <GetTo ZoneId="635" XYZ="170.9163, 13.02367, -91.38635" /> <!-- Conrad -->
                    <TurnIn QuestId="67984" NpcId="1019466" XYZ="170.9163, 13.02367, -91.38635" />
                </If>
            </If>
        </If>
        <!-- A Haven for the Bold -->
        <If Condition="not IsQuestCompleted(67985)">
            <If Condition="not HasQuest(67985)">
                <GetTo ZoneId="635" XYZ="164.9042, 13.02367, -91.50836" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67985)">
                    <PickupQuest NpcId="1020332" QuestId="67985" XYZ="164.9042, 13.02367, -91.50836" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67985)">
                <If Condition="GetQuestStep(67985) == 1">
                    <GetTo ZoneId="635" XYZ="95.2926, 1.233364, -78.23309" /> <!-- Lyse -->
                    <TalkTo NpcId="1020339" XYZ="95.2926, 1.233364, -78.23309" QuestId="67985" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67985) == 2">
                    <GetTo ZoneId="635" XYZ="-1.846375, 2.697047, -68.83344" /> <!-- Lyse -->
                    <TalkTo NpcId="1020345" XYZ="-1.846375, 2.697047, -68.83344" QuestId="67985" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67985) == 3">
                    <GetTo ZoneId="635" XYZ="-117.6013, 0.5980477, -65.81219" /> <!-- Lyse -->
                    <TalkTo NpcId="1020346" XYZ="-117.6013, 0.5980477, -65.81219" QuestId="67985" StepId="3" />
                </If>
                <If Condition="GetQuestStep(67985) == 4">
                    <GetTo ZoneId="635" XYZ="86.65588, -7.450581E-09, 88.70068" /> <!-- Lyse -->
                    <TalkTo NpcId="1020344" XYZ="86.65588, -7.450581E-09, 88.70068" QuestId="67985" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67985) == 255">
                    <GetTo ZoneId="635" XYZ="59.67798, 0, -4.074219" /> <!-- Lyse -->
                    <TurnIn QuestId="67985" NpcId="1020347" XYZ="59.67798, 0, -4.074219" />
                </If>
            </If>
        </If>
        <!-- A Bargain Struck -->
        <If Condition="not IsQuestCompleted(67986)">
            <If Condition="not HasQuest(67986)">
                <GetTo ZoneId="635" XYZ="61.17334, 0, -4.68457" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(67986)">
                    <PickupQuest NpcId="1020341" QuestId="67986" XYZ="61.17334, 0, -4.68457" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67986)">
                <If Condition="GetQuestStep(67986) == 1">
                    <GetTo ZoneId="635" XYZ="170.9163, 13.02367, -91.38635" /> <!-- Conrad -->
                    <TalkTo NpcId="1019466" XYZ="170.9163, 13.02367, -91.38635" QuestId="67986" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67986) == 255">
                    <GetTo ZoneId="635" XYZ="164.1412, 13.02367, -92.30188" /> <!-- Alisaie -->
                    <TurnIn QuestId="67986" NpcId="1020333" XYZ="164.1412, 13.02367, -92.30188" />
                </If>
            </If>
        </If>
        <!-- A Familiar Face Forgotten -->
        <If Condition="not IsQuestCompleted(67991)">
            <If Condition="not HasQuest(67991)">
                <GetTo ZoneId="635" XYZ="170.3059, 13.02367, -93.06476" /> <!-- Meffrid -->
                <If Condition="IsQuestAcceptQualified(67991)">
                    <PickupQuest NpcId="1020338" QuestId="67991" XYZ="170.3059, 13.02367, -93.06476" />
                </If>
            </If>
        </If>
        <!-- A Friend of a Friend in Need -->
        <If Condition="not IsQuestCompleted(67987)">
            <If Condition="not HasQuest(67987)">
                <GetTo ZoneId="635" XYZ="171.313, 13.02367, -89.95197" /> <!-- M'naago -->
                <If Condition="IsQuestAcceptQualified(67987)">
                    <PickupQuest NpcId="1020337" QuestId="67987" XYZ="171.313, 13.02367, -89.95197" />
                </If>
            </If>
        </If>

        <!-- [Complete Quests] -->

        <!-- A Familiar Face Forgotten -->
        <If Condition="not IsQuestCompleted(67991)">
            <If Condition="HasQuest(67991)">
                <If Condition="GetQuestStep(67991) == 1">
                    <GetTo ZoneId="635" XYZ="114.1832, 0.6520416, -11.67322" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020366" XYZ="114.1832, 0.6520416, -11.67322" QuestId="67991" StepId="1" />
                </If>
            </If>
        </If>
        <!-- A Friend of a Friend in Need -->
        <If Condition="not IsQuestCompleted(67987)">
            <If Condition="HasQuest(67987)">
                <If Condition="GetQuestStep(67987) == 1">
                    <GetTo ZoneId="635" XYZ="-37.67456, 18.44889, 133.2875" /> <!-- M'naago -->
                    <TalkTo NpcId="1020395" XYZ="-37.67456, 18.44889, 133.2875" QuestId="67987" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67987) == 2">
                    <GetTo ZoneId="612" XYZ="158.1292, 49.71459, -475.2728" /> <!-- M'naago -->
                    <TalkTo NpcId="1020498" XYZ="158.1292, 49.71459, -475.2728" QuestId="67987" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67987) == 3">
                    <GetTo ZoneId="612" XYZ="58.38417, 51.91043, -482.3455" /> <!-- Destination -->
                    <UseObject NpcId="2008157" XYZ="58.38417, 51.91043, -482.3455" Radius="10" QuestId="67987" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67987) == 255">
                    <GetTo ZoneId="612" XYZ="-95.84198, 59.80103, -551.9341" /> <!-- M'naago -->
                    <TurnIn QuestId="67987" NpcId="1020351" XYZ="-95.84198, 59.80103, -551.9341" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quests] -->

        <!-- Signed, Sealed, to Be Delivered -->
        <If Condition="not IsQuestCompleted(67988)">
            <If Condition="not HasQuest(67988)">
                <GetTo ZoneId="612" XYZ="-95.84198, 59.80103, -551.9341" /> <!-- M'naago -->
                <If Condition="IsQuestAcceptQualified(67988)">
                    <PickupQuest NpcId="1020351" QuestId="67988" XYZ="-95.84198, 59.80103, -551.9341" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67988)">
                <If Condition="GetQuestStep(67988) == 1">
                    <GetTo ZoneId="612" XYZ="-394.8577, 105.0377, -425.5589" /> <!-- M'naago -->
                    <TalkTo NpcId="1020353" XYZ="-394.8577, 105.0377, -425.5589" QuestId="67988" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67988) == 255">
                    <GetTo ZoneId="612" XYZ="-606.7445, 130, -506.9505" /> <!-- Raubahn -->
                    <TurnIn QuestId="67988" NpcId="1020304" XYZ="-606.7445, 130, -506.9505" />
                </If>
            </If>
        </If>
        <!-- Best Served with Cold Steel -->
        <If Condition="not IsQuestCompleted(67989)">
            <If Condition="not HasQuest(67989)">
                <GetTo ZoneId="612" XYZ="-606.7445, 130, -506.9505" /> <!-- Raubahn -->
                <If Condition="IsQuestAcceptQualified(67989)">
                    <PickupQuest NpcId="1020304" QuestId="67989" XYZ="-606.7445, 130, -506.9505" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67989)">
                <If Condition="GetQuestStep(67989) == 1">
                    <GetTo ZoneId="612" XYZ="-228.2292, 59.86108, -409.5064" /> <!-- Destination -->
                    <UseObject NpcId="2007955" XYZ="-228.2292, 59.86108, -409.5064" Radius="10" QuestId="67989" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67989) == 2">
                    <GetTo ZoneId="612" XYZ="-494.1635, 82.14899, -266.8651" /> <!-- Raubahn -->
                    <SimpleDuty InteractNpcId="1020503" XYZ="-494.1635, 82.14899, -266.8651" QuestId="67989" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="-472.0928, 82.035, -224.5717" Radius="90" />
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="5655" Weight="7000" /> <!-- 12th Legion Slasher -->
                            <TargetMob Id="5654" Weight="6000" /> <!-- 12th Legion Signifer -->
                            <TargetMob Id="5653" Weight="5000" /> <!-- 12th Legion Hoplomachus -->
                            <TargetMob Id="5652" Weight="4000" /> <!-- 12th Legion Princeps -->
                            <TargetMob Id="5651" Weight="3000" /> <!-- 12th Legion Hastatus -->
                            <TargetMob Id="5650" Weight="2000" /> <!-- Magitek Vanguard I Prototype -->
                            <TargetMob Id="5576" Weight="1000" /> <!-- Grynewaht -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67989) == 255">
                    <GetTo ZoneId="612" XYZ="-507.4388, 86.34846, -289.8452" /> <!-- M'naago -->
                    <TurnIn QuestId="67989" NpcId="1020361" XYZ="-507.4388, 86.34846, -289.8452" />
                </If>
            </If>
        </If>
        <!-- Let Fill Your Hearts with Pride -->
        <If Condition="not IsQuestCompleted(67990)">
            <If Condition="not HasQuest(67990)">
                <GetTo ZoneId="612" XYZ="-507.4388, 86.34846, -289.8452" /> <!-- M'naago -->
                <If Condition="IsQuestAcceptQualified(67990)">
                    <PickupQuest NpcId="1020361" QuestId="67990" XYZ="-507.4388, 86.34846, -289.8452" />
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67990)">
                <If Condition="GetQuestStep(67990) == 255">
                    <GetTo ZoneId="635" XYZ="171.313, 13.02367, -89.95197" /> <!-- M'naago -->
                    <TurnIn QuestId="67990" NpcId="1020337" XYZ="171.313, 13.02367, -89.95197" />
                </If>
            </If>
        </If>

        <!-- [Complete Quest] -->

        <!-- A Familiar Face Forgotten -->
        <If Condition="not IsQuestCompleted(67991)">
            <If Condition="HasQuest(67991)">
                <If Condition="GetQuestStep(67991) == 3">
                    <GetTo ZoneId="620" XYZ="-641.2604, 50.86753, -784.1764" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020368" XYZ="-641.2604, 50.86753, -784.1764" QuestId="67991" StepId="3" />
                </If>
                <If Condition="GetQuestStep(67991) == 4">
                    <GetTo ZoneId="620" XYZ="-384.7563, 52.20183, -636.4691" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020370" XYZ="-384.7563, 52.20183, -636.4691" QuestId="67991" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67991) == 255">
                    <GetTo ZoneId="620" XYZ="36.42322, 117.956, -742.2446" /> <!-- Meffrid -->
                    <TurnIn QuestId="67991" NpcId="1020372" XYZ="36.42322, 117.956, -742.2446" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quests] -->

        <!-- The Prodigal Daughter -->
        <If Condition="not IsQuestCompleted(67992)">
            <If Condition="not HasQuest(67992)">
                <GetTo ZoneId="620" XYZ="36.42322, 117.956, -742.2446" /> <!-- Meffrid -->
                <If Condition="IsQuestAcceptQualified(67992)">
                    <PickupQuest NpcId="1020372" QuestId="67992" XYZ="36.42322, 117.956, -742.2446" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67992)">
                <If Condition="GetQuestStep(67992) == 1">
                    <GetTo ZoneId="620" XYZ="146.0135, 118.1921, -730.4951" /> <!-- Raganfrid -->
                    <TalkTo NpcId="1020841" XYZ="146.0135, 118.1921, -730.4951" QuestId="67992" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67992) == 255">
                    <GetTo ZoneId="620" XYZ="89.21948, 119.4052, -684.7792" /> <!-- Meffrid -->
                    <TurnIn QuestId="67992" NpcId="1020374" XYZ="89.21948, 119.4052, -684.7792" />
                </If>
            </If>
        </If>
        <!-- Hard Country -->
        <If Condition="not IsQuestCompleted(68490)">
            <If Condition="not HasQuest(68490)">
                <GetTo ZoneId="620" XYZ="81.55945, 118.1558, -717.8912" /> <!-- Griseldis -->
                <If Condition="IsQuestAcceptQualified(68490)">
                    <PickupQuest NpcId="1020842" QuestId="68490" XYZ="81.55945, 118.1558, -717.8912" />
                </If>
            </If>
        </If>
        <!-- Death by a Thousand Rocks -->
        <If Condition="not IsQuestCompleted(68491)">
            <If Condition="not HasQuest(68491)">
                <GetTo ZoneId="620" XYZ="113.7255, 118.1558, -715.6634" /> <!-- Angry Coeurl -->
                <If Condition="IsQuestAcceptQualified(68491)">
                    <PickupQuest NpcId="1020848" QuestId="68491" XYZ="113.7255, 118.1558, -715.6634" />
                </If>
            </If>
        </If>

        <!-- [Complete Quests] -->

        <!-- Hard Country -->
        <If Condition="not IsQuestCompleted(68490)">
            <If Condition="HasQuest(68490)">
                <If Condition="GetQuestStep(68490) == 1">
                    <If Condition="not IsTodoChecked(68490, 1, 0)">
                        <GetTo ZoneId="620" XYZ="-127.2618, 97.7028, -703.6573" /> <!-- Grinding Area -->
                        <Grind grindRef="Hard_Country" while="not IsTodoChecked(68490, 1, 0)" />
                    </If>
                    <If Condition="not IsTodoChecked(68490, 1, 1)">
                        <GetTo ZoneId="620" XYZ="-502.8647, 46.69152, -685.4142" /> <!-- Grinding Area -->
                        <Grind grindRef="Hard_Country2" while="not IsTodoChecked(68490, 1, 1)" />
                    </If>
                </If>
            </If>
        </If>
        <!-- Death by a Thousand Rocks -->
        <If Condition="not IsQuestCompleted(68491)">
            <If Condition="HasQuest(68491)">
                <If Condition="GetQuestStep(68491) == 1">
                    <GetTo ZoneId="620" XYZ="-768.9174, 81.4679, -300.8011" /> <!-- Frightened Coeurl -->
                    <TalkTo NpcId="1020857" XYZ="-768.9174, 81.4679, -300.8011" QuestId="68491" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68491) == 2">
                    <GetTo ZoneId="620" XYZ="-763.9734, 81.89514, -298.3902" /> <!-- Unconscionably Heavy Sack -->
                    <UseObject NpcId="2008680" XYZ="-763.9734, 81.89514, -298.3902" Radius="10" QuestId="68491" StepId="2" />
                </If>
            </If>
        </If>

        <!-- [TurnIn Quests] -->

        <!-- Hard Country -->
        <If Condition="not IsQuestCompleted(68490)">
            <If Condition="HasQuest(68490)">
                <If Condition="GetQuestStep(68490) == 255">
                    <GetTo ZoneId="620" XYZ="81.55945, 118.1558, -717.8912" /> <!-- Griseldis -->
                    <TurnIn QuestId="68490" ItemIds="2002391,2002392" NpcId="1020842" XYZ="81.55945, 118.1558, -717.8912" />
                </If>
            </If>
        </If>
        <!-- Death by a Thousand Rocks -->
        <If Condition="not IsQuestCompleted(68491)">
            <If Condition="HasQuest(68491)">
                <If Condition="GetQuestStep(68491) == 255">
                    <GetTo ZoneId="620" XYZ="113.7255, 118.1558, -715.6634" /> <!-- Angry Coeurl -->
                    <TurnIn QuestId="68491" ItemId="2002393" NpcId="1020848" XYZ="113.7255, 118.1558, -715.6634" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quests] -->

        <!-- A Life More Ordinary -->
        <If Condition="not IsQuestCompleted(67993)">
            <If Condition="not HasQuest(67993)">
                <GetTo ZoneId="620" XYZ="95.44519, 118.1558, -758.053" /> <!-- Griseldis -->
                <If Condition="IsQuestAcceptQualified(67993)">
                    <PickupQuest NpcId="1020376" QuestId="67993" XYZ="95.44519, 118.1558, -758.053" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67993)">
                <If Condition="GetQuestStep(67993) == 1">
                    <GetTo ZoneId="620" XYZ="78.87378, 118.2636, -779.6902" /> <!-- Lyse -->
                    <TalkTo NpcId="1020375" XYZ="78.87378, 118.2636, -779.6902" QuestId="67993" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67993) == 2">
                    <GetTo ZoneId="620" XYZ="89.21948, 119.4052, -684.7792" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020374" XYZ="89.21948, 119.4052, -684.7792" QuestId="67993" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67993) == 255">
                    <GetTo ZoneId="620" XYZ="85.40466, 118.1558, -719.9664" /> <!-- Meffrid -->
                    <TurnIn QuestId="67993" NpcId="1020379" XYZ="85.40466, 118.1558, -719.9664" />
                </If>
            </If>
        </If>
        <!-- The Color of Angry Qiqirn -->
        <If Condition="not IsQuestCompleted(67994)">
            <If Condition="not HasQuest(67994)">
                <GetTo ZoneId="620" XYZ="85.40466, 118.1558, -719.9664" /> <!-- Meffrid -->
                <If Condition="IsQuestAcceptQualified(67994)">
                    <PickupQuest NpcId="1020379" QuestId="67994" XYZ="85.40466, 118.1558, -719.9664" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67994)">
                <If Condition="GetQuestStep(67994) == 1">
                    <GetTo ZoneId="620" XYZ="-257.7097, 102.3116, -381.3688" /> <!-- Destination -->
                    <UseObject NpcId="2008681" XYZ="-257.7097, 102.3116, -381.3688" Radius="10" QuestId="67994" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67994) == 2">
                    <GetTo ZoneId="620" XYZ="-281.653, 104.5844, -358.7022" /> <!-- Ziggurat -->
                    <WaitWhile Condition="GetQuestStep(67994) == 2" />
                </If>
                <If Condition="GetQuestStep(67994) == 3">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-281.5421, 201.7965, -228.9883" /> <!-- Top of Ziggurat -->
                    </If>
                    <If Condition="IsOnMap(620) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-281.5421, 200.7199, -275.0992)) &gt; 45">
                        <MoveTo Name="Top of Ziggurat" Distance="1" XYZ="-281.5421, 201.7965, -228.9883" />
                        <MoveTo Name="Ziggurat Ledge" Distance="1" UseMesh="False" XYZ="-293.1979, 202.1412, -229.3104" />
                        <MoveTo Name="Jump" Distance="1" UseMesh="False" XYZ="-293.9656, 200.7199, -238.914" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-281.3318, 200.7199, -294.1878" /> <!-- Ziggurat -->
                    <WaitWhile Condition="GetQuestStep(67994) == 3" />
                </If>
                <If Condition="GetQuestStep(67994) == 4">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-281.5421, 201.7965, -228.9883" /> <!-- Top of Ziggurat -->
                    </If>
                    <If Condition="IsOnMap(620) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-281.5421, 200.7199, -275.0992)) &gt; 45">
                        <MoveTo Name="Top of Ziggurat" Distance="1" XYZ="-281.5421, 201.7965, -228.9883" />
                        <MoveTo Name="Ziggurat Ledge" Distance="1" UseMesh="False" XYZ="-293.1979, 202.1412, -229.3104" />
                        <MoveTo Name="Jump" Distance="1" UseMesh="False" XYZ="-293.9656, 200.7199, -238.914" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-281.5138, 200.7199, -294.0871" /> <!-- Wercrata -->
                    <TalkTo NpcId="1020380" XYZ="-281.5138, 200.7199, -294.0871" QuestId="67994" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67994) == 255">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-281.5421, 201.7965, -228.9883" /> <!-- Top of Ziggurat -->
                    </If>
                    <If Condition="IsOnMap(620) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-281.5421, 200.7199, -275.0992)) &gt; 45">
                        <MoveTo Name="Top of Ziggurat" Distance="1" XYZ="-281.5421, 201.7965, -228.9883" />
                        <MoveTo Name="Ziggurat Ledge" Distance="1" UseMesh="False" XYZ="-293.1979, 202.1412, -229.3104" />
                        <MoveTo Name="Jump" Distance="1" UseMesh="False" XYZ="-293.9656, 200.7199, -238.914" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-284.596, 200.7199, -287.2511" /> <!-- Lyse -->
                    <TurnIn QuestId="67994" NpcId="1020382" XYZ="-284.596, 200.7199, -287.2511" />
                </If>
            </If>
        </If>
        <!-- The Black Wolf's Pups -->
        <If Condition="not IsQuestCompleted(67995)">
            <If Condition="not HasQuest(67995)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-281.5421, 201.7965, -228.9883" /> <!-- Top of Ziggurat -->
                </If>
                <If Condition="IsOnMap(620) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-281.5421, 200.7199, -275.0992)) &gt; 45">
                    <MoveTo Name="Top of Ziggurat" Distance="1" XYZ="-281.5421, 201.7965, -228.9883" />
                    <MoveTo Name="Ziggurat Ledge" Distance="1" UseMesh="False" XYZ="-293.1979, 202.1412, -229.3104" />
                    <MoveTo Name="Jump" Distance="1" UseMesh="False" XYZ="-293.9656, 200.7199, -238.914" />
                </If>
                <GetTo ZoneId="620" XYZ="-284.596, 200.7199, -287.2511" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(67995)">
                    <PickupQuest NpcId="1020382" QuestId="67995" XYZ="-284.596, 200.7199, -287.2511" />
                </If>
                <If Condition="IsOnMap(620) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-281.5421, 200.7199, -275.0992)) &lt; 45">
                    <ClimbHill Name="Ziggurat Ledge" Start="-293.5586, 200.7199, -238.6227" End="-293.6911, 202.1412, -229.7622" />
                    <MoveTo Name="Jump" Distance="1" UseMesh="False" XYZ="-281.967, 201.6015, -230.1202" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67995)">
                <If Condition="GetQuestStep(67995) == 1">
                    <GetTo ZoneId="620" XYZ="-200.4273, 95.26196, -448.2338" /> <!-- Chocobo Feather -->
                    <UseObject NpcId="2008684" XYZ="-200.4273, 95.26196, -448.2338" Radius="10" QuestId="67995" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67995) == 2">
                    <GetTo ZoneId="620" XYZ="-111.7114, 105.7143, -364.065" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020385" XYZ="-111.7114, 105.7143, -364.065" QuestId="67995" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67995) == 255">
                    <GetTo ZoneId="620" XYZ="-140.9476, 104.1659, -401.8159" /> <!-- Meffrid -->
                    <TurnIn QuestId="67995" NpcId="1020387" XYZ="-140.9476, 104.1659, -401.8159" />
                </If>
            </If>
        </If>
        <!-- Homeward Bound -->
        <If Condition="not IsQuestCompleted(67996)">
            <If Condition="not HasQuest(67996)">
                <GetTo ZoneId="620" XYZ="-140.9476, 104.1659, -401.8159" /> <!-- Meffrid -->
                <If Condition="IsQuestAcceptQualified(67996)">
                    <PickupQuest NpcId="1020387" QuestId="67996" XYZ="-140.9476, 104.1659, -401.8159" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67996)">
                <If Condition="GetQuestStep(67996) == 1">
                    <GetTo ZoneId="620" XYZ="146.0135, 118.1921, -730.4951" /> <!-- Raganfrid -->
                    <TalkTo NpcId="1020841" XYZ="146.0135, 118.1921, -730.4951" QuestId="67996" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67996) == 2">
                    <GetTo ZoneId="620" XYZ="143.8163, 118.1921, -732.9366" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020511" XYZ="143.8163, 118.1921, -732.9366" QuestId="67996" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67996) == 3">
                    <GetTo ZoneId="620" XYZ="35.08044, 117.832, -728.0537" /> <!-- Lyse -->
                    <TalkTo NpcId="1020512" XYZ="35.08044, 117.832, -728.0537" QuestId="67996" StepId="3" />
                </If>
            </If>
        </If>

        <!-- [Complete Quests] -->

        <!-- An Honest Day's Work -->
        <If Condition="not IsQuestCompleted(68182)">
            <If Condition="HasQuest(68182)">
                <If Condition="GetQuestStep(68182) == 1">
                    <GetTo ZoneId="620" XYZ="136.7234, 149.4622, -835.839" /> <!-- Thavnairian Limestone -->
                    <UseObject NpcIds="2007960,2007959,2007958,2007957" QuestId="68182" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="137.1632, 150.8964, -836.6369" Radius="10" />
                            <HotSpot XYZ="128.3131, 149.4011, -838.6206" Radius="10" />
                            <HotSpot XYZ="124.8035, 149.4315, -842.2523" Radius="10" />
                            <HotSpot XYZ="120.6836, 150.866, -843.4119" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>
                <If Condition="GetQuestStep(68182) == 2">
                    <GetTo ZoneId="620" XYZ="-83.48212, 104.3904, -424.7654" /> <!-- Bent Frond -->
                    <HandOver ItemId="2002079" QuestId="68182" StepId="2" NpcId="1020860" XYZ="-83.48212, 104.3904, -424.7654" />
                </If>
                <If Condition="GetQuestStep(68182) == 3">
                    <GetTo ZoneId="620" XYZ="-76.70715, 104.448, -422.9954" /> <!-- Destination -->
                    <UseItem NpcIds="2007963,2007964,2007961,2007962" ItemId="2002079" QuestId="68182" StepId="3">
                        <HotSpots>
                            <HotSpot XYZ="-76.70715, 104.448, -422.9954" Radius="10" />
                            <HotSpot XYZ="-74.17413, 104.448, -422.9954" Radius="10" />
                            <HotSpot XYZ="-76.73767, 104.448, -428.4581" Radius="10" />
                            <HotSpot XYZ="-74.11316, 104.448, -428.4276" Radius="10" />
                        </HotSpots>
                    </UseItem>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68182) == 255">
                    <GetTo ZoneId="620" XYZ="-83.48212, 104.3904, -424.7654" /> <!-- Bent Frond -->
                    <TurnIn QuestId="68182" NpcId="1020860" XYZ="-83.48212, 104.3904, -424.7654" />
                </If>
            </If>
        </If>

        <!-- [TurnIn Quest] -->

        <!-- Homeward Bound -->
        <If Condition="not IsQuestCompleted(67996)">
            <If Condition="HasQuest(67996)">
                <If Condition="GetQuestStep(67996) == 255">
                    <GetTo ZoneId="635" XYZ="170.3059, 13.02367, -93.06476" /> <!-- Meffrid -->
                    <TurnIn QuestId="67996" NpcId="1020338" XYZ="170.3059, 13.02367, -93.06476" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quests] -->

        <!-- Where Men Go as One -->
        <If Condition="not IsQuestCompleted(67997)">
            <If Condition="not HasQuest(67997)">
                <GetTo ZoneId="635" XYZ="170.9163, 13.02367, -91.38635" /> <!-- Conrad -->
                <If Condition="IsQuestAcceptQualified(67997)">
                    <PickupQuest NpcId="1019466" QuestId="67997" XYZ="170.9163, 13.02367, -91.38635" />
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(67997)">
                <If Condition="GetQuestStep(67997) == 255">
                    <GetTo ZoneId="635" XYZ="164.2633, 13.02367, -88.91437" /> <!-- M'naago -->
                    <TurnIn QuestId="67997" NpcId="1020390" XYZ="164.2633, 13.02367, -88.91437" />
                </If>
            </If>
        </If>
        <!-- Future Rust, Future Dust -->
        <If Condition="not IsQuestCompleted(68171)">
            <If Condition="not HasQuest(68171)">
                <GetTo ZoneId="635" XYZ="152.1172, 13.15332, -118.4863" /> <!-- Beves -->
                <If Condition="IsQuestAcceptQualified(68171)">
                    <PickupQuest NpcId="1019470" QuestId="68171" XYZ="152.1172, 13.15332, -118.4863" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68171)">
                <While Condition="GetQuestStep(68171) == 1">
                    <GetTo ZoneId="635" XYZ="51.28552, 23.64076, -288.9601" /> <!-- Hrotmar -->
                    <TalkTo NpcId="1019473" XYZ="51.28552, 23.64076, -288.9601" QuestId="68171" StepId="1" />
                    <TalkTo NpcId="1019476" XYZ="77.25635, 0, -14.17566" QuestId="68171" StepId="1" />
                    <TalkTo NpcId="1019486" XYZ="-116.7468, 0.6342248, -55.83282" QuestId="68171" StepId="1" />
                    <TalkTo NpcId="1019490" XYZ="-6.240967, -0.03680765, -119.1882" QuestId="68171" StepId="1" />
                </While>
            </If>
        </If>
        <!-- Ye Wayward Brothers -->
        <If Condition="not IsQuestCompleted(68173)">
            <If Condition="not HasQuest(68173)">
                <GetTo ZoneId="635" XYZ="-43.96124, 0, -15.03015" /> <!-- Ananta Battlemaid -->
                <If Condition="IsQuestAcceptQualified(68173)">
                    <PickupQuest NpcId="1021167" QuestId="68173" XYZ="-43.96124, 0, -15.03015" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68173)">
                <While Condition="GetQuestStep(68173) == 1">
                    <GetTo ZoneId="635" XYZ="-160.3876, -4.534359, -149.9504" /> <!-- Devout Recruit -->
                    <TalkTo NpcId="1021168" XYZ="-160.3876, -4.534359, -149.9504" QuestId="68173" StepId="1" />
                    <TalkTo NpcId="1021169" XYZ="19.48578, -0.9195468, 98.5885" QuestId="68173" StepId="1" />
                    <TalkTo NpcId="1021171" XYZ="79.78931, -0.1912795, 56.80933" QuestId="68173" StepId="1" />
                    <TalkTo NpcId="1021170" XYZ="76.21875, 0, -12.46667" QuestId="68173" StepId="1" />
                    <TalkTo NpcId="1021172" XYZ="179.858, 13.56748, -144.152" QuestId="68173" StepId="1" />
                </While>
            </If>
        </If>

        <!-- [TurnIn Quest] -->

        <!-- Future Rust, Future Dust -->
        <If Condition="not IsQuestCompleted(68171)">
            <If Condition="HasQuest(68171)">
                <If Condition="GetQuestStep(68171) == 255">
                    <GetTo ZoneId="635" XYZ="152.1172, 13.15332, -118.4863" /> <!-- Beves -->
                    <TurnIn QuestId="68171" ItemId="2002076" NpcId="1019470" XYZ="152.1172, 13.15332, -118.4863" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quest] -->

        <!-- A Dash of Green -->
        <If Condition="not IsQuestCompleted(68172)">
            <If Condition="not HasQuest(68172)">
                <GetTo ZoneId="635" XYZ="77.25635, 0, -14.17566" /> <!-- Ahelissa -->
                <If Condition="IsQuestAcceptQualified(68172)">
                    <PickupQuest NpcId="1019476" QuestId="68172" XYZ="77.25635, 0, -14.17566" />
                </If>
            </If>
        </If>

        <!-- [TurnIn Quest] -->

        <!-- Ye Wayward Brothers -->
        <If Condition="not IsQuestCompleted(68173)">
            <If Condition="HasQuest(68173)">
                <If Condition="GetQuestStep(68173) == 255">
                    <GetTo ZoneId="635" XYZ="-43.96124, 0, -15.03015" /> <!-- Ananta Battlemaid -->
                    <TurnIn QuestId="68173" NpcId="1021167" XYZ="-43.96124, 0, -15.03015" />
                </If>
            </If>
        </If>

        <!-- [Complete Quest] -->

        <!-- A Dash of Green -->
        <If Condition="not IsQuestCompleted(68172)">
            <If Condition="HasQuest(68172)">
                <If Condition="GetQuestStep(68172) == 1">
                    <GetTo ZoneId="635" XYZ="149.4926, 12.91816, -137.0718" /> <!-- Tebbe -->
                    <TalkTo NpcId="1019471" XYZ="149.4926, 12.91816, -137.0718" QuestId="68172" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68172) == 2">
                    <GetTo ZoneId="635" XYZ="89.52466, 0.5340576, -96.23871" /> <!-- Fragrant Herbs -->
                    <UseObject NpcIds="2007954,2007951,2007952,2007953" QuestId="68172" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="89.52466, 0.5340576, -96.23871" Radius="10" />
                            <HotSpot XYZ="24.88745, -0.3204956, -119.8596" Radius="10" />
                            <HotSpot XYZ="-33.40204, -0.1679077, -16.80023" Radius="10" />
                            <HotSpot XYZ="-35.56885, 9.262146, 100.2059" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68172) == 255">
                    <GetTo ZoneId="635" XYZ="77.25635, 0, -14.17566" /> <!-- Ahelissa -->
                    <TurnIn QuestId="68172" ItemId="2002077" NpcId="1019476" XYZ="77.25635, 0, -14.17566" />
                </If>
            </If>
        </If>

        <!-- [PickUp Quest] -->

        <!-- Token of Faith -->
        <If Condition="not IsQuestCompleted(68174)">
            <If Condition="not HasQuest(68174)">
                <GetTo ZoneId="635" XYZ="22.35443, -0.3382917, 3.738403" /> <!-- Swarthy Resistance Fighter -->
                <If Condition="IsQuestAcceptQualified(68174)">
                    <PickupQuest NpcId="1023298" QuestId="68174" XYZ="22.35443, -0.3382917, 3.738403" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68174)">
                <If Condition="GetQuestStep(68174) == 1">
                    <GetTo ZoneId="635" XYZ="143.5415, 14.20605, -164.7212" /> <!-- Ward of the Destroyer -->
                    <UseObject NpcId="2008813" XYZ="143.5415, 14.20605, -164.7212" Radius="10" QuestId="68174" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68174) == 255">
                    <GetTo ZoneId="635" XYZ="152.8496, 13.09733, -94.16345" /> <!-- Swarthy Resistance Fighter -->
                    <TurnIn QuestId="68174" ItemId="2002334" NpcId="1023638" XYZ="152.8496, 13.09733, -94.16345" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 61">
            <LogMessage Message="[Stormblood] You are not level 61 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 61..." />
            <GetTo ZoneId="620" XYZ="-529.4907, 46.9445, -691.6078" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_61" while="Core.Player.ClassLevel &lt; 61" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 61 quests..." />

        <!-- [PickUp Quests] -->

        <!-- Crossing the Velodyna -->
        <If Condition="not IsQuestCompleted(67998)">
            <If Condition="not HasQuest(67998)">
                <GetTo ZoneId="635" XYZ="164.9042, 13.02367, -91.50836" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(67998)">
                    <PickupQuest NpcId="1020332" QuestId="67998" XYZ="164.9042, 13.02367, -91.50836" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67998)">
                <If Condition="GetQuestStep(67998) == 1">
                    <GetTo ZoneId="635" XYZ="-137.8654, 0.5980505, -80.27777" /> <!-- Y'shtola -->
                    <TalkTo NpcId="1020342" XYZ="-137.8654, 0.5980505, -80.27777" QuestId="67998" StepId="1" />
                </If>
                <If Condition="GetQuestStep(67998) == 2">
                    <GetTo ZoneId="635" XYZ="-35.90454, 18.50759, 134.142" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020324" XYZ="-35.90454, 18.50759, 134.142" QuestId="67998" StepId="2" />
                </If>
                <If Condition="GetQuestStep(67998) == 3">
                    <GetTo ZoneId="612" XYZ="-606.7445, 130, -506.9505" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020304" XYZ="-606.7445, 130, -506.9505" QuestId="67998" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67998) == 255">
                    <GetTo ZoneId="612" XYZ="-609.6132, 130, -501.1216" /> <!-- Alisaie -->
                    <TurnIn QuestId="67998" NpcId="1020526" XYZ="-609.6132, 130, -501.1216" />
                </If>
            </If>
        </If>
        <!-- In Crimson It Began -->
        <If Condition="not IsQuestCompleted(67999)">
            <If Condition="not HasQuest(67999)">
                <GetTo ZoneId="612" XYZ="-605.2186, 130, -506.2486" /> <!-- Pipin -->
                <If Condition="IsQuestAcceptQualified(67999)">
                    <PickupQuest NpcId="1020354" QuestId="67999" XYZ="-605.2186, 130, -506.2486" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(67999)">
                <If Condition="GetQuestStep(67999) == 1">
                    <GetTo ZoneId="612" XYZ="-115.8007, 40.83347, -37.76611" /> <!-- Pipin -->
                    <SimpleDuty InteractNpcId="1020399" XYZ="-115.8007, 40.83347, -37.76611" QuestId="67999" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="-32.56302, 17.37889, 124.3254" Radius="90" /> <!-- Stragglers -->
                            <HotSpot XYZ="20.04208, -0.1368206, 54.27965" Radius="90" /> <!-- Stragglers 2 -->
                            <HotSpot XYZ="72.05245, 0.04551327, -9.104058" Radius="90" /> <!-- Stragglers 3 -->
                            <HotSpot XYZ="78.48774, 0.4014276, -74.25957" Radius="90" /> <!-- Stragglers 4 -->
                            <HotSpot XYZ="85.58763, 0.6401792, -60.68015" Radius="90" /> <!-- Zenos Yae Galvus -->
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="5962" Weight="30000" /> <!-- The Swell -->
                            <TargetMob Id="5963" Weight="20000" /> <!-- The Storm -->
                            <TargetMob Id="5954" Weight="12000" /> <!-- Zenos Yae Galvus -->
                            <TargetMob Id="5952" Weight="11000" /> <!-- Skulls Mage -->
                            <TargetMob Id="5951" Weight="10000" /> <!-- Skulls Spear -->
                            <TargetMob Id="5950" Weight="9000" /> <!-- Skulls Blade -->
                            <TargetMob Id="5953" Weight="8000" /> <!-- Fordola rem Lupis -->
                            <TargetMob Id="5957" Weight="7000" /> <!-- Ferae Domitae Bow-wolf -->
                            <TargetMob Id="5956" Weight="6000" /> <!-- Ferae Domitae Spear-wolf -->
                            <TargetMob Id="5955" Weight="5000" /> <!-- Ferae Domitae Blade-wolf -->
                            <TargetMob Id="5958" Weight="4000" /> <!-- 12th Legion Reaper -->
                            <TargetMob Id="5949" Weight="3000" /> <!-- 12th Legion Signifer -->
                            <TargetMob Id="5947" Weight="2000" /> <!-- 12th Legion Laquearius -->
                            <TargetMob Id="5948" Weight="1000" /> <!-- 12th Legion Secutor -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(67999) == 255">
                    <GetTo ZoneId="635" XYZ="71.30542, 0.02469154, -75.76111" /> <!-- Raubahn -->
                    <TurnIn QuestId="67999" NpcId="1020400" XYZ="71.30542, 0.02469154, -75.76111" />
                </If>
            </If>
        </If>
        <!-- The Fires Fade -->
        <If Condition="not IsQuestCompleted(68000)">
            <If Condition="not HasQuest(68000)">
                <GetTo ZoneId="635" XYZ="71.30542, 0.02469154, -75.76111" /> <!-- Raubahn -->
                <If Condition="IsQuestAcceptQualified(68000)">
                    <PickupQuest NpcId="1020400" QuestId="68000" XYZ="71.30542, 0.02469154, -75.76111" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68000)">
                <If Condition="GetQuestStep(68000) == 1">
                    <GetTo ZoneId="635" XYZ="50.64465, 0, 3.097534" /> <!-- Meffrid -->
                    <TalkTo NpcId="1020411" XYZ="50.64465, 0, 3.097534" QuestId="68000" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68000) == 255">
                    <GetTo ZoneId="635" XYZ="-135.8206, 0.5980504, -83.6347" /> <!-- Conrad -->
                    <TurnIn QuestId="68000" ItemId="2002109" NpcId="1020416" XYZ="-135.8206, 0.5980504, -83.6347" />
                </If>
            </If>
        </If>
        <!-- Bereft of Hearth and Home -->
        <If Condition="not IsQuestCompleted(68001)">
            <If Condition="not HasQuest(68001)">
                <GetTo ZoneId="635" XYZ="-139.6353, 0.5980511, -81.49847" /> <!-- Pipin -->
                <If Condition="IsQuestAcceptQualified(68001)">
                    <PickupQuest NpcId="1020420" QuestId="68001" XYZ="-139.6353, 0.5980511, -81.49847" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68001)">
                <If Condition="GetQuestStep(68001) == 1">
                    <GetTo ZoneId="635" XYZ="-116.7468, 0.6342248, -55.83282" /> <!-- Orella -->
                    <TalkTo NpcId="1019486" XYZ="-116.7468, 0.6342248, -55.83282" QuestId="68001" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68001) == 2">
                    <GetTo ZoneId="635" XYZ="-132.0782, 0.5980477, -56.76476" /> <!-- Medical Supplies -->
                    <UseObject NpcIds="2008160,2008159,2008158" QuestId="68001" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="-133.2571, 1.846313, -56.5957" Radius="10" />
                            <HotSpot XYZ="-139.2386, 1.907349, -33.70721" Radius="10" />
                            <HotSpot XYZ="-110.2159, 2.27356, -72.95343" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68001) == 255">
                    <GetTo ZoneId="635" XYZ="-85.92358, 0, -18.05151" /> <!-- Flame Courier -->
                    <TurnIn QuestId="68001" ItemId="2002110" NpcId="1020422" XYZ="-85.92358, 0, -18.05151" />
                </If>
            </If>
        </If>
        <!-- Divide and Conquer -->
        <If Condition="not IsQuestCompleted(68002)">
            <If Condition="not HasQuest(68002)">
                <GetTo ZoneId="635" XYZ="-91.23376, 0, -19.82153" /> <!-- Conrad -->
                <If Condition="IsQuestAcceptQualified(68002)">
                    <PickupQuest NpcId="1020431" QuestId="68002" XYZ="-91.23376, 0, -19.82153" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68002)">
                <If Condition="GetQuestStep(68002) == 1">
                    <GetTo ZoneId="635" XYZ="71.30542, 0.02469154, -75.76111" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020400" XYZ="71.30542, 0.02469154, -75.76111" QuestId="68002" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68002) == 2">
                    <GetTo ZoneId="612" XYZ="-612.3904, 130.1009, -481.6816" /> <!-- Lyse -->
                    <TalkTo NpcId="1020432" XYZ="-612.3904, 130.1009, -481.6816" QuestId="68002" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68002) == 255">
                    <GetTo ZoneId="612" XYZ="-610.2846, 130, -501.8845" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68002" NpcId="1020525" XYZ="-610.2846, 130, -501.8845" />
                </If>
            </If>
        </If>
        <!-- Lies, Damn Lies, and Pirates -->
        <If Condition="not IsQuestCompleted(68003)">
            <If Condition="not HasQuest(68003)">
                <GetTo ZoneId="612" XYZ="-609.6132, 130, -501.1216" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68003)">
                    <PickupQuest NpcId="1020526" QuestId="68003" XYZ="-609.6132, 130, -501.1216" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68003)">
                <If Condition="GetQuestStep(68003) == 1">
                    <GetTo ZoneId="128" XYZ="13.30885, 44, -37.32566" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020434" XYZ="13.30885, 44, -37.32566" QuestId="68003" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68003) == 255">
                    <GetTo ZoneId="128" XYZ="13.30885, 44, -37.32566" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68003" NpcId="1020434" XYZ="13.30885, 44, -37.32566" />
                </If>
            </If>
        </If>
        <!-- Tales from the Far East -->
        <If Condition="not IsQuestCompleted(68004)">
            <If Condition="not HasQuest(68004)">
                <GetTo ZoneId="128" XYZ="13.30885, 44, -37.32566" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68004)">
                    <PickupQuest NpcId="1020434" QuestId="68004" XYZ="13.30885, 44, -37.32566" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68004)">
                <If Condition="GetQuestStep(68004) == 1">
                    <GetTo ZoneId="156" XYZ="40.7507, 20.49498, -649.4493" /> <!-- Lyse -->
                    <TalkTo NpcId="1020436" XYZ="40.7507, 20.49498, -649.4493" QuestId="68004" StepId="1" />
                </If>
                <While Condition="GetQuestStep(68004) == 2">
                    <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                        <GetTo ZoneId="156" XYZ="21.13373, 22.32391, -631.281" /> <!-- Rising Stones Entrance -->
                    </If>
                    <If Condition="IsOnMap(156)">
                        <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281" />
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(1350)">
                        <UseTransport Name="Exit to the Rising Stones" InteractDistance="3.0" NpcId="2002880" XYZ="-0.01531982, -1.022339, -29.25159" />
                    </If>
                    <TalkTo NpcId="1020499" XYZ="-6.990214, 0.009977937, 7.594007" QuestId="68004" StepId="2" />
                    <TalkTo NpcId="1020529" XYZ="6.099343, 0, -7.628537" QuestId="68004" StepId="2" />
                    <TalkTo NpcId="1020528" XYZ="33.17624, -1, 1.072324" QuestId="68004" StepId="2" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68004) == 255">
                    <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                        <GetTo ZoneId="156" XYZ="40.80162, 20.495, -649.8046" /> <!-- Lyse -->
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(1350)">
                        <UseTransport Name="Exit to the Rising Stones" InteractDistance="3.0" NpcId="2002880" XYZ="-0.01531982, -1.022339, -29.25159" />
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(481)">
                        <UseTransport Name="Exit to Revenant's Toll" InteractDistance="3.0" NpcId="2002879" XYZ="-0.01531982, 2.975464, 27.48145" />
                    </If>
                    <GetTo ZoneId="156" XYZ="40.80162, 20.495, -649.8046" /> <!-- Lyse -->
                    <TurnIn QuestId="68004" NpcId="1020436" XYZ="40.80162, 20.495, -649.8046" />
                </If>
            </If>
        </If>
        <!-- Not without Incident -->
        <If Condition="not IsQuestCompleted(68005)">
            <If Condition="not HasQuest(68005)">
                <GetTo ZoneId="156" XYZ="40.80162, 20.495, -649.8046" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68005)">
                    <PickupQuest NpcId="1020436" QuestId="68005" XYZ="40.80162, 20.495, -649.8046" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68005)">
                <If Condition="GetQuestStep(68005) == 1">
                    <GetTo ZoneId="129" XYZ="-355.494, 7.999911, 39.73861" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020439" XYZ="-355.494, 7.999911, 39.73861" QuestId="68005" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68005) == 2">
                    <GetTo ZoneId="129" XYZ="-356.2665, 7.999987, 45.86062" /> <!-- Kraken's Arms Deckhand -->
                    <TalkToPlus NpcId="1020442" XYZ="-356.2665, 7.999987, 45.86062" QuestId="68005" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68005) == 3">
                    <If Condition="not IsOnMap(129) and not IsOnMap(680)">
                        <GetTo ZoneId="129" XYZ="-356.2665, 7.999987, 45.86062" /> <!-- Kraken's Arms Deckhand -->
                    </If>
                    <If Condition="IsOnMap(129)">
                        <UseTransport Name="Kraken's Arms Deckhand" InteractDistance="3.0" NpcId="1020442" XYZ="-356.2665, 7.999987, 45.86062" />
                    </If>
                    <MoveTo Name="Carvallain" XYZ="5.385237, 21.34722, -38.09296" />
                    <TalkTo NpcId="1020447" XYZ="5.385237, 21.34722, -38.09296" QuestId="68005" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68005) == 4">
                    <If Condition="not IsOnMap(129) and not IsOnMap(680)">
                        <GetTo ZoneId="129" XYZ="-356.2665, 7.999987, 45.86062" /> <!-- Kraken's Arms Deckhand -->
                    </If>
                    <If Condition="IsOnMap(129)">
                        <UseTransport Name="Kraken's Arms Deckhand" InteractDistance="3.0" NpcId="1020442" XYZ="-356.2665, 7.999987, 45.86062" />
                    </If>
                    <MoveTo Name="Entrance" XYZ="0.3508911, 21.31677, -41.67242" />
                    <RunCode Name="Not_without_Incident" />
                    <StopBot />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68005) == 255">
                    <GetTo ZoneId="628" XYZ="-123.0982, -6.999998, -59.63268" /> <!-- Carvallain -->
                    <TurnIn QuestId="68005" NpcId="1020454" XYZ="-123.0982, -6.999998, -59.63268" />
                </If>
            </If>
        </If>
        <!-- The Man from Ul'dah -->
        <If Condition="not IsQuestCompleted(68006)">
            <If Condition="not HasQuest(68006)">
                <GetTo ZoneId="628" XYZ="-124.3732, -6.999998, -56.55277" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68006)">
                    <PickupQuest NpcId="1020450" QuestId="68006" XYZ="-124.3732, -6.999998, -56.55277" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68006)">
                <If Condition="GetQuestStep(68006) == 1">
                    <GetTo ZoneId="628" XYZ="-64.63202, -2.711526, -58.43819" /> <!-- Hancock -->
                    <TalkTo NpcId="1020455" XYZ="-64.63202, -2.711526, -58.43819" QuestId="68006" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68006) == 255">
                    <GetTo ZoneId="628" XYZ="16.59662, -6.198883E-06, -41.32873" /> <!-- Hancock -->
                    <TurnIn QuestId="68006" NpcId="1020460" XYZ="16.59662, -6.198883E-06, -41.32873" />
                </If>
            </If>
        </If>
        <!-- Where the Streets Are Paved with Koban -->
        <If Condition="not IsQuestCompleted(68007)">
            <If Condition="not HasQuest(68007)">
                <GetTo ZoneId="628" XYZ="16.59662, -6.139278E-06, -41.32873" /> <!-- Hancock -->
                <If Condition="IsQuestAcceptQualified(68007)">
                    <PickupQuest NpcId="1020460" QuestId="68007" XYZ="16.59662, -6.139278E-06, -41.32873" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68007)">
                <If Condition="GetQuestStep(68007) == 1">
                    <GetTo ZoneId="628" XYZ="25.40424, 4, 67.57022" /> <!-- Hancock -->
                    <TalkTo NpcId="1020461" XYZ="25.40424, 4, 67.57022" QuestId="68007" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68007) == 2">
                    <GetTo ZoneId="628" XYZ="86.94438, 4, 69.90503" /> <!-- Hancock -->
                    <TalkTo NpcId="1022359" XYZ="86.94438, 4, 69.90503" QuestId="68007" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68007) == 255">
                    <GetTo ZoneId="628" XYZ="96.17687, 8.02, 151.8455" /> <!-- Hancock -->
                    <TurnIn QuestId="68007" NpcId="1020462" XYZ="96.17687, 8.02, 151.8455" />
                </If>
            </If>
        </If>
        <!-- By the Grace of Lord Lolorito -->
        <If Condition="not IsQuestCompleted(68008)">
            <If Condition="not HasQuest(68008)">
                <GetTo ZoneId="628" XYZ="96.17687, 8.02, 151.8455" /> <!-- Hancock -->
                <If Condition="IsQuestAcceptQualified(68008)">
                    <PickupQuest NpcId="1020462" QuestId="68008" XYZ="96.17687, 8.02, 151.8455" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68008)">
                <If Condition="GetQuestStep(68008) == 1">
                    <GetTo ZoneId="628" XYZ="150.7279, 14.77572, 93.35574" /> <!-- Hancock -->
                    <TalkTo NpcId="1020480" XYZ="150.7279, 14.77572, 93.35574" QuestId="68008" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68008) == 255">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <MoveTo Name="Alphinaud" XYZ="1.81313, 0, -0.1843593" />
                    <TurnIn QuestId="68008" NpcId="1020465" XYZ="1.81313, 0, -0.1843593" />
                </If>
            </If>
        </If>
        <!-- A Good Samurai Is Hard to Find -->
        <If Condition="not IsQuestCompleted(68009)">
            <If Condition="not HasQuest(68009)">
                <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                    <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                </If>
                <If Condition="IsOnMap(628)">
                    <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                </If>
                <MoveTo Name="Alphinaud" XYZ="1.81313, 0, -0.1843593" />
                <BotSettings BlockSkippingCutscenes="1" />
                <If Condition="IsQuestAcceptQualified(68009)">
                    <PickupQuest NpcId="1020465" QuestId="68009" XYZ="1.81313, 0, -0.1843593" />
                </If>
                <BotSettings BlockSkippingCutscenes="0" />
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68009)">
                <If Condition="GetQuestStep(68009) == 1">
                    <GetTo ZoneId="628" XYZ="143.5123, 14.77572, 90.35785" /> <!-- Lyse -->
                    <TalkTo NpcId="1022086" XYZ="143.5123, 14.77572, 90.35785" QuestId="68009" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68009) == 2">
                    <GetTo ZoneId="628" XYZ="143.5123, 14.77572, 90.35785" /> <!-- Lyse -->
                    <RunCode Name="A_Good_Samurai_Is_Hard_to_Find" />
                </If>
                <If Condition="GetQuestStep(68009) == 3">
                    <GetTo ZoneId="628" XYZ="-83.74267, 18.05, -190.6369" /> <!-- Karaku -->
                    <HandOver ItemId="2002099" QuestId="68009" StepId="3" NpcId="1018982" XYZ="-83.74267, 18.05, -190.6369" />
                </If>
                <If Condition="GetQuestStep(68009) == 4">
                    <GetTo ZoneId="628" XYZ="-49.39622, -2.9, -52.46283" /> <!-- Kotokaze -->
                    <HandOver ItemId="2002099" QuestId="68009" StepId="4" NpcId="1019002" XYZ="-49.39622, -2.9, -52.46283" />
                </If>
                <While Condition="GetQuestStep(68009) == 5">
                    <GetTo ZoneId="628" XYZ="-107.6596, -5.999997, 72.23088" /> <!-- Curt Captain -->
                    <HandOver ItemId="2002099" QuestId="68009" StepId="5" NpcId="1020469" XYZ="-107.6596, -5.999997, 72.23088" />
                    <HandOver ItemId="2002099" QuestId="68009" StepId="5" NpcId="1020471" XYZ="-81.88222, -3, 35.17249" />
                    <HandOver ItemId="2002099" QuestId="68009" StepId="5" NpcId="1020470" XYZ="-157.3956, 4.000006, 87.19747" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68009) == 255">
                    <GetTo ZoneId="628" XYZ="-33.20004, 0.0298152, -68.53907" /> <!-- Lyse -->
                    <TurnIn QuestId="68009" NpcId="1020472" XYZ="-33.20004, 0.0298152, -68.53907" />
                </If>
            </If>
        </If>
        <!-- It's Probably a Trap -->
        <If Condition="not IsQuestCompleted(68010)">
            <If Condition="not HasQuest(68010)">
                <GetTo ZoneId="628" XYZ="-33.20004, 0.0298152, -68.53907" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68010)">
                    <PickupQuest NpcId="1020472" QuestId="68010" XYZ="-33.20004, 0.0298152, -68.53907" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68010)">
                <If Condition="GetQuestStep(68010) == 1">
                    <GetTo ZoneId="628" XYZ="-34.44499, 14.00096, -47.10591" /> <!-- Gyodo -->
                    <TalkTo NpcId="1020473" XYZ="-34.44499, 14.00096, -47.10591" QuestId="68010" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68010) == 2">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <MoveTo Name="Alphinaud" XYZ="1.431465, 0.0241183, 0.1455463" />
                    <TalkTo NpcId="1020465" XYZ="1.431465, 0.0241183, 0.1455463" QuestId="68010" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68010) == 3">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <MoveTo Name="Alisaie" XYZ="-1.088004, 0.02414703, 0.6937814" />
                    <TalkTo NpcId="1020468" XYZ="-1.088004, 0.02414703, 0.6937814" QuestId="68010" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68010) == 4">
                    <If Condition="IsOnMap(639)">
                        <UseTransport Name="Exit" InteractDistance="3.0" NpcId="2008134" XYZ="-0.01531982, 1.144348, 13.50421" />
                    </If>
                    <GetTo ZoneId="628" XYZ="-52.14008, 16.75975, -6.729248" /> <!-- Alisaie -->
                    <RunCode Name="Its_Probably_a_Trap" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Use Smoke Bombs (Duty Action) when debuffed ("chained") by the Sekiseigumi. -->

                    <!-- <HotSpot XYZ="120.0684, 12, 60.70913" Radius="5" /> --> <!-- Red Bazaar (after combat) -->
                    <!-- <HotSpot XYZ="69.11996, -5, 19.06147" Radius="5" /> --> <!-- Meeting Location -->

                    <!-- Figure out which IgnoreNpcIds are correct: 6107,6110,6144 -->

                    <!-- TO DO -->

                    <SimpleDuty InteractNpcId="1020475" IgnoreNpcIds="6107,6110,6144" XYZ="-52.14008, 16.75975, -6.729248" QuestId="68010" StepId="4">
                        <HotSpots>
                            <HotSpot XYZ="-97.79987, -6.697639, 46.58887" Radius="90" />
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="6142" Weight="3000" /> <!-- Imperial Princeps -->
                            <TargetMob Id="6143" Weight="2000" /> <!-- Imperial Hastatus -->
                            <TargetMob Id="6141" Weight="1000" /> <!-- Imperial Centurion -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68010) == 255">
                    <GetTo ZoneId="628" XYZ="147.6232, 14.77572, 92.13142" /> <!-- Lyse -->
                    <TurnIn QuestId="68010" NpcId="1020476" XYZ="147.6232, 14.77572, 92.13142" />
                </If>
            </If>
        </If>
        <!-- Making the Catfish Sing -->
        <If Condition="not IsQuestCompleted(68011)">
            <If Condition="not HasQuest(68011)">
                <GetTo ZoneId="628" XYZ="147.6232, 14.77572, 92.13142" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68011)">
                    <PickupQuest NpcId="1020476" QuestId="68011" XYZ="147.7531, 14.77572, 91.72192" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68011)">
                <If Condition="GetQuestStep(68011) == 1">
                    <WaitWhile Condition="GetQuestStep(68015) == 1" />
                </If>
                <If Condition="GetQuestStep(68011) == 2">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <MoveTo Name="Hancock" XYZ="0.04577637, 0, -2.304138" />
                    <TalkTo NpcId="1020464" XYZ="0.04577637, 0, -2.304138" QuestId="68011" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68011) == 3">
                    <If Condition="IsOnMap(639)">
                        <UseTransport Name="Exit" InteractDistance="3.0" NpcId="2008134" XYZ="-0.01531982, 1.144348, 13.50421" />
                    </If>
                    <GetTo ZoneId="628" XYZ="125.0443, 14.70151, -102.0053" /> <!-- Hancock -->
                    <TalkTo NpcId="1020481" XYZ="125.0443, 14.70151, -102.0053" QuestId="68011" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68011) == 4">
                    <GetTo ZoneId="628" XYZ="125.3961, 14.11906, -99.64745" /> <!-- Destination -->
                    <UseObject NpcId="2007910" XYZ="125.3961, 14.11906, -99.64745" Radius="10" QuestId="68011" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68011) == 5">
                    <GetTo ZoneId="628" XYZ="125.3961, 14.11906, -99.64745" /> <!-- Destination -->
                    <UseObject NpcId="2008333" XYZ="125.3961, 14.11906, -99.64745" Radius="10" QuestId="68011" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68011) == 255">
                    <GetTo ZoneId="628" XYZ="127.4131, 14.51298, -101.0447" /> <!-- Lyse -->
                    <TurnIn QuestId="68011" NpcId="1020483" XYZ="127.4131, 14.51298, -101.0447" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 62">
            <LogMessage Message="[Stormblood] You are not level 62 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 62..." />
            <GetTo ZoneId="620" XYZ="175.2423, 133.8074, -347.4644" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_62" while="Core.Player.ClassLevel &lt; 62" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 62 quests..." />

        <!-- [PickUp Quests] -->

        <!-- Once More, to the Ruby Sea -->
        <If Condition="not IsQuestCompleted(68012)">
            <If Condition="not HasQuest(68012)">
                <GetTo ZoneId="628" XYZ="126.4036, 13.68744, -98.57267" /> <!-- Gosetsu -->
                <If Condition="IsQuestAcceptQualified(68012)">
                    <PickupQuest NpcId="1020484" QuestId="68012" XYZ="126.4036, 13.68744, -98.57267" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68012)">
                <If Condition="GetQuestStep(68012) == 1">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <WaitWhile Condition="Managers.QuestLogManager.InCutscene" />
                </If>
                <If Condition="GetQuestStep(68012) == 2">
                    <GetTo ZoneId="628" XYZ="-123.7891, -6.999998, -59.23752" /> <!-- Soroban -->
                    <TalkTo NpcId="1020485" XYZ="-123.7891, -6.999998, -59.23752" QuestId="68012" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68012) == 255">
                    <GetTo ZoneId="613" XYZ="852.4982, 5.923008, 848.586" /> <!-- Soroban -->
                    <TurnIn QuestId="68012" NpcId="1019891" XYZ="852.4982, 5.923008, 848.586" />
                </If>
            </If>
        </If>
        <!-- Open Water -->
        <If Condition="not IsQuestCompleted(68013)">
            <If Condition="not HasQuest(68013)">
                <GetTo ZoneId="613" XYZ="852.4982, 5.923008, 848.586" /> <!-- Soroban -->
                <If Condition="IsQuestAcceptQualified(68013)">
                    <PickupQuest NpcId="1019891" QuestId="68013" XYZ="852.4982, 5.923008, 848.586" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68013)">
                <If Condition="GetQuestStep(68013) == 1">
                    <GetTo ZoneId="613" XYZ="736.9149, -0.6000439, 823.0057" /> <!-- Lyse -->
                    <TalkTo NpcId="1019893" XYZ="736.9149, -0.6000439, 823.0057" QuestId="68013" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68013) == 2">
                    <GetTo ZoneId="613" XYZ="560.872, 0.3836765, 828.5316" /> <!--Soroban -->
                    <TalkTo NpcId="1019896" XYZ="560.872, 0.3836765, 828.5316" QuestId="68013" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68013) == 255">
                    <GetTo ZoneId="613" XYZ="465.0686, 30.19312, 791.2009" /> <!-- Tansui -->
                    <TurnIn QuestId="68013" NpcId="1019898" XYZ="465.0686, 30.19312, 791.2009" />
                </If>
            </If>
        </If>
        <!-- Boys with Boats -->
        <If Condition="not IsQuestCompleted(68014)">
            <If Condition="not HasQuest(68014)">
                <GetTo ZoneId="613" XYZ="465.0686, 30.19312, 791.2009" /> <!-- Tansui -->
                <If Condition="IsQuestAcceptQualified(68014)">
                    <PickupQuest NpcId="1019898" QuestId="68014" XYZ="465.0686, 30.19312, 791.2009" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68014)">
                <If Condition="GetQuestStep(68014) == 1">
                    <GetTo ZoneId="613" XYZ="150.956, 1.244641, 552.0837" /> <!-- Destination -->
                    <UseObject NpcId="2007848" XYZ="150.956, 1.244641, 552.0837" Radius="10" QuestId="68014" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68014) == 2">
                    <GetTo ZoneId="613" XYZ="115.4719, -0.5000001, 499.1361" /> <!-- Gosetsu -->
                    <TalkTo NpcId="1019912" XYZ="115.4719, -0.5000001, 499.1361" QuestId="68014" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68014) == 255">
                    <GetTo ZoneId="613" XYZ="404.9196, 19.55959, 755.218" /> <!-- Soroban -->
                    <TurnIn QuestId="68014" NpcId="1023650" XYZ="404.9196, 19.55959, 755.218" />
                </If>
            </If>
        </If>
        <!-- To Bend with the Wind -->
        <If Condition="not IsQuestCompleted(68015)">
            <If Condition="not HasQuest(68015)">
                <GetTo ZoneId="613" XYZ="404.9196, 19.55959, 755.218" /> <!-- Soroban -->
                <If Condition="IsQuestAcceptQualified(68015)">
                    <PickupQuest NpcId="1023650" QuestId="68015" XYZ="404.9196, 19.55959, 755.218" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68015)">
                <If Condition="GetQuestStep(68015) == 1">
                    <GetTo ZoneId="613" XYZ="466.9534, 30.40608, 792.8586" /> <!-- Proud Confederate -->
                    <TalkTo NpcId="1023683" XYZ="466.9534, 30.40608, 792.8586" QuestId="68015" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68015) == 2">
                    <GetTo ZoneId="613" XYZ="576.3599, 0.9400381, 849.2106" /> <!-- Soroban -->
                    <TalkTo NpcId="1019915" XYZ="576.3599, 0.9400381, 849.2106" QuestId="68015" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68015) == 3">
                    <GetTo ZoneId="613" XYZ="-711.1559, -0.09999996, -300.9386" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019919" XYZ="-711.1559, -0.09999996, -300.9386" QuestId="68015" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68015) == 4">
                    <GetTo ZoneId="613" XYZ="-743.1151, 2.187114, -311.4735" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019923" XYZ="-743.1151, 2.187114, -311.4735" QuestId="68015" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68015) == 5">
                    <GetTo ZoneId="613" XYZ="-423.9712, 3.19491, -545.8303" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019925" XYZ="-423.9712, 3.19491, -545.8303" QuestId="68015" StepId="5" />
                </If>
                <If Condition="GetQuestStep(68015) == 6">
                    <GetTo ZoneId="613" XYZ="-437.3929, 1.371249, -547.7303" /> <!-- Gyuki -->
                    <WaitWhile Condition="GetQuestStep(68015) == 6" />
                </If>
                <If Condition="GetQuestStep(68015) == 7">
                    <GetTo ZoneId="613" XYZ="-228.9593, 0.3622099, -530.1407" /> <!-- Lyse -->
                    <TalkTo NpcId="1019928" XYZ="-228.9593, 0.3622099, -530.1407" QuestId="68015" StepId="7" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68015) == 255">
                    <GetTo ZoneId="613" XYZ="-58.56174, 1.99137, -596.7916" /> <!-- Lyse -->
                    <TurnIn QuestId="68015" NpcId="1019930" XYZ="-58.56174, 1.99137, -596.7916" />
                </If>
            </If>
        </If>
        <!-- Confederate Consternation -->
        <If Condition="not IsQuestCompleted(68016)">
            <If Condition="not HasQuest(68016)">
                <GetTo ZoneId="613" XYZ="-57.41364, 2.005372, -598.2782" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68016)">
                    <PickupQuest NpcId="1019929" QuestId="68016" XYZ="-57.41364, 2.005372, -598.2782" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68016)">
                <If Condition="GetQuestStep(68016) == 1">
                    <GetTo ZoneId="613" XYZ="54.70361, 2.444575, -595.4528" /> <!-- Tansui -->
                    <TalkTo NpcId="1019931" XYZ="54.70361, 2.444575, -595.4528" QuestId="68016" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68016) == 2">
                    <GetTo ZoneId="613" XYZ="79.98318, 33.00897, -669.1432" /> <!-- Rasho -->
                    <TalkTo NpcId="1021505" XYZ="79.98318, 33.00897, -669.1432" QuestId="68016" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68016) == 3">
                    <GetTo ZoneId="613" XYZ="68.4726, 25.00783, -643.3799" /> <!-- Lyse -->
                    <TalkTo NpcId="1019938" XYZ="68.4726, 25.00783, -643.3799" QuestId="68016" StepId="3" />
                </If>
                <While Condition="GetQuestStep(68016) == 4">
                    <GetTo ZoneId="613" XYZ="1.474887, 2.922473, -607.5394" /> <!-- Stacked Crate -->
                    <UseObject NpcIds="2007854,2007852" UseTimes="2" QuestId="68016" StepId="4">
                        <HotSpots>
                            <HotSpot XYZ="1.474887, 2.922473, -607.5394" Radius="10" />
                            <HotSpot XYZ="110.2939, 2.030919, -619.7473" Radius="10" />
                        </HotSpots>
                    </UseObject>
                    <NoCombatMoveTo Name="Nawashiro" XYZ="14.03102, 5.349393, -483.1364" />
                    <TalkTo NpcId="1021508" XYZ="14.03102, 5.349393, -483.1364" QuestId="68016" StepId="4" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68016) == 255">
                    <GetTo ZoneId="613" XYZ="69.44886, 25.00783, -643.0053" /> <!-- Alisaie -->
                    <TurnIn QuestId="68016" NpcId="1019939" XYZ="69.44886, 25.00783, -643.0053" />
                </If>
            </If>
        </If>
        <!-- The Solace of the Sea -->
        <If Condition="not IsQuestCompleted(68217)">
            <If Condition="not HasQuest(68217)">
                <GetTo ZoneId="613" XYZ="84.92297, 41.11266, -717.1877" /> <!-- Afumi -->
                <If Condition="IsQuestAcceptQualified(68217)">
                    <PickupQuest NpcId="1021517" QuestId="68217" XYZ="84.92297, 41.11266, -717.1877" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68217)">
                <If Condition="GetQuestStep(68217) == 1">
                    <GetTo ZoneId="613" XYZ="40.46445, 20.97019, -634.9125" /> <!-- Aokumo -->
                    <TalkTo NpcId="1021513" XYZ="41.00085, 21.22528, -634.0276" QuestId="68217" StepId="1" />
                </If>
            </If>
        </If>
        <!-- The Arrows of Misfortune -->
        <If Condition="not IsQuestCompleted(68489)">
            <If Condition="not HasQuest(68489)">
                <GetTo ZoneId="613" XYZ="57.23657, 1.575162, -578.2407" /> <!-- Kajika -->
                <If Condition="IsQuestAcceptQualified(68489)">
                    <PickupQuest NpcId="1021507" QuestId="68489" XYZ="57.23657, 1.575162, -578.2407" />
                </If>
            </If>
        </If>
        <!-- The Last Voyage -->
        <If Condition="not IsQuestCompleted(68215)">
            <If Condition="not HasQuest(68215)">
                <GetTo ZoneId="613" XYZ="107.8049, 0.8069639, -574.5175" /> <!-- Aranami -->
                <If Condition="IsQuestAcceptQualified(68215)">
                    <PickupQuest NpcId="1021509" QuestId="68215" XYZ="107.8049, 0.8069639, -574.5175" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68215)">
                <If Condition="GetQuestStep(68215) == 1">
                    <GetTo ZoneId="613" XYZ="-103.0137, 2.212463, -856.199" /> <!-- Destination -->
                    <UseObject NpcId="2008475" XYZ="-103.0137, 2.212463, -856.199" Radius="10" QuestId="68215" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68215) == 2">
                    <GetTo ZoneId="613" XYZ="-158.8922, -0.5, -898.0087" /> <!-- Confederate Recruit -->
                    <TalkTo NpcId="1022401" XYZ="-158.8922, -0.5, -898.0087" QuestId="68215" StepId="2" />
                </If>
            </If>
        </If>

        <!-- [Complete Quest] -->

        <!-- The Solace of the Sea -->
        <If Condition="not IsQuestCompleted(68217)">
            <If Condition="HasQuest(68217)">
                <If Condition="GetQuestStep(68217) == 2">
                    <GetTo ZoneId="613" XYZ="87.89002, 5.006782, -863.1832" /> <!-- Seasick Doman Recruit -->
                    <HandOver ItemId="2002283" NpcId="1022959" XYZ="87.89002, 5.006782, -863.1832" QuestId="68217" StepId="2" />
                </If>
            </If>
        </If>

        <!-- [TurnIn Quests] -->

        <!-- The Last Voyage -->
        <If Condition="not IsQuestCompleted(68215)">
            <If Condition="HasQuest(68215)">
                <If Condition="GetQuestStep(68215) == 255">
                    <GetTo ZoneId="613" XYZ="107.8049, 0.8069639, -574.5175" /> <!-- Aranami -->
                    <TurnIn QuestId="68215" NpcId="1021509" XYZ="107.8049, 0.8069639, -574.5175" />
                </If>
            </If>
        </If>
        <!-- The Solace of the Sea -->
        <If Condition="not IsQuestCompleted(68217)">
            <If Condition="HasQuest(68217)">
                <If Condition="GetQuestStep(68217) == 255">
                    <GetTo ZoneId="613" XYZ="84.91299, 41.11266, -716.7828" /> <!-- Afumi -->
                    <TurnIn QuestId="68217" NpcId="1021517" XYZ="84.91299, 41.11266, -716.7828" />
                </If>
            </If>
        </If>

        <!-- [Complete Quest] -->

        <!-- The Arrows of Misfortune -->
        <If Condition="not IsQuestCompleted(68489)">
            <If Condition="HasQuest(68489)">
                <If Condition="GetQuestStep(68489) == 1">
                    <GetTo ZoneId="613" XYZ="-372.7399, 3.244087, -536.3495" /> <!-- Gyuki Carcass -->
                    <WaitWhile Condition="GetQuestStep(68489) == 1" />
                </If>
                <If Condition="GetQuestStep(68489) == 2">
                    <GetTo ZoneId="613" XYZ="-367.9713, 3.370777, -534.4778" /> <!-- Gyuki Carcass -->
                    <UseObject NpcId="1023682" XYZ="-367.9713, 3.370777, -534.4778" Radius="10" QuestId="68489" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68489) == 3">
                    <GetTo ZoneId="613" XYZ="-367.9713, 3.370777, -534.4778" /> <!-- Gyuki Carcass -->
                    <UseObject NpcId="1023682" XYZ="-367.9713, 3.370777, -534.4778" Radius="10" QuestId="68489" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68489) == 255">
                    <GetTo ZoneId="613" XYZ="57.23657, 1.575162, -578.2407" /> <!-- Kajika -->
                    <TurnIn QuestId="68489" ItemIds="2002387,2002388" NpcId="1021507" XYZ="57.23657, 1.575162, -578.2407" />
                </If>
            </If>
        </If>

        <!-- [Pickup Quests] -->

        <!-- Alisaie's Stones -->
        <If Condition="not IsQuestCompleted(68017)">
            <If Condition="not HasQuest(68017)">
                <GetTo ZoneId="613" XYZ="31.3573, 3.245383, -602.7466" /> <!-- Hirase -->
                <If Condition="IsQuestAcceptQualified(68017)">
                    <PickupQuest NpcId="1021511" QuestId="68017" XYZ="31.3573, 3.245383, -602.7466" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68017)">
                <If Condition="GetQuestStep(68017) == 1">
                    <GetTo ZoneId="613" XYZ="34.082, 3.144241, -602.3603" /> <!-- Destination -->
                    <UseObject NpcId="2007911" XYZ="33.98181, 4.104675, -603.8759" Radius="10" QuestId="68017" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68017) == 2">
                    <GetTo ZoneId="613" XYZ="138.1094, 0.9613037, -688.1666" /> <!-- Destination -->
                    <UseItem NpcIds="2007912,2007913" ItemId="2002093" QuestId="68017" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="138.1094, 0.9613037, -688.1666" Radius="10" />
                            <HotSpot XYZ="256.2142, -0.01531982, -673.4874" Radius="10" />
                        </HotSpots>
                    </UseItem>
                </If>
                <If Condition="GetQuestStep(68017) == 3">
                    <GetTo ZoneId="613" XYZ="446.4052, 9.237133, -657.5545" /> <!-- Industrious Pirate -->
                    <WaitWhile Condition="GetQuestStep(68017) == 3" />
                </If>
                <If Condition="GetQuestStep(68017) == 4">
                    <GetTo ZoneId="613" XYZ="449.3934, 9.206882, -661.2192" /> <!-- Industrious Pirate -->
                    <TalkTo NpcId="1019946" XYZ="449.3934, 9.206882, -661.2192" QuestId="68017" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68017) == 5">
                    <GetTo ZoneId="613" XYZ="69.53528, 25.00783, -643.6713" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019939" XYZ="69.53528, 25.00783, -643.6713" QuestId="68017" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68017) == 255">
                    <GetTo ZoneId="613" XYZ="79.42322, 33.00897, -669.9474" /> <!-- Rasho -->
                    <TurnIn QuestId="68017" NpcId="1021505" XYZ="79.42322, 33.00897, -669.9474" />
                </If>
            </If>
        </If>
        <!-- Under the Sea -->
        <If Condition="not IsQuestCompleted(68018)">
            <If Condition="not HasQuest(68018)">
                <GetTo ZoneId="613" XYZ="79.42322, 33.00897, -669.9474" /> <!-- Rasho -->
                <If Condition="IsQuestAcceptQualified(68018)">
                    <PickupQuest NpcId="1021505" QuestId="68018" XYZ="79.42322, 33.00897, -669.9474" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68018)">
                <If Condition="GetQuestStep(68018) == 1">
                    <GetTo ZoneId="613" XYZ="152.6665, 1.185595, -500.3586" /> <!-- Lyse -->
                    <TalkTo NpcId="1019951" XYZ="152.6665, 1.185595, -500.3586" QuestId="68018" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68018) == 2">
                    <GetTo ZoneId="613" XYZ="732.6313, 3.414743, -237.7203" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019952" XYZ="732.6313, 3.414743, -237.7203" QuestId="68018" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68018) == 3">
                    <GetTo ZoneId="613" XYZ="543.98, -61.14351, -164.4811" /> <!-- Rasen Kaikyo -->
                    <WaitWhile Condition="Managers.QuestLogManager.InCutscene" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68018) == 255">
                    <GetTo ZoneId="613" XYZ="422.1102, -98.96018, -223.1022" /> <!-- Alisaie -->
                    <TurnIn QuestId="68018" NpcId="1019956" XYZ="422.1102, -98.96018, -223.1022" />
                </If>
            </If>
        </If>
        <!-- Of Kojin and Kami -->
        <If Condition="not IsQuestCompleted(68019)">
            <If Condition="not HasQuest(68019)">
                <GetTo ZoneId="613" XYZ="420.3403, -99.19678, -221.3627" /> <!-- Soroban -->
                <If Condition="IsQuestAcceptQualified(68019)">
                    <PickupQuest NpcId="1019958" QuestId="68019" XYZ="420.3403, -99.19678, -221.3627" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68019)">
                <If Condition="GetQuestStep(68019) == 1">
                    <GetTo ZoneId="613" XYZ="319.6917, -120.0349, -250.9042" /> <!-- Bunchin -->
                    <TalkTo NpcId="1019178" XYZ="319.6917, -120.0349, -250.9042" QuestId="68019" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68019) == 2">
                    <GetTo ZoneId="613" XYZ="321.3092, -120.0177, -248.2185" /> <!-- Soroban -->
                    <TalkTo NpcId="1019960" XYZ="321.3092, -120.0177, -248.2185" QuestId="68019" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68019) == 3">
                    <GetTo ZoneId="613" XYZ="729.5004, -0.2999998, 29.8327" /> <!-- Grinding Area -->
                    <Grind grindRef="Of_Kojin_and_Kami" while="HasQuest(68019) and GetQuestStep(68019) == 3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68019) == 255">
                    <GetTo ZoneId="613" XYZ="420.3403, -99.19678, -221.3627" /> <!-- Soroban -->
                    <TurnIn QuestId="68019" ItemId="2002094" NpcId="1019958" XYZ="420.3403, -99.19678, -221.3627" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 63">
            <LogMessage Message="[Stormblood] You are not level 63 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 63..." />
            <GetTo ZoneId="613" XYZ="213.7318, 0.7141832, -733.093" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_63" while="Core.Player.ClassLevel &lt; 63" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 63 quests..." />

        <!-- Level 63 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67946)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(68427)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(68125)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(68452)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(68447)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(68442)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67963)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(68485)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(68108)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.RedMage and not IsQuestCompleted(68120)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Samurai and not IsQuestCompleted(68103)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(68460)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(68162)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(68437)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67951)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>

        <!-- [Pickup Quests] -->

        <!-- In Soroban We Trust -->
        <If Condition="not IsQuestCompleted(68020)">
            <If Condition="not HasQuest(68020)">
                <GetTo ZoneId="613" XYZ="420.3403, -99.19678, -221.3627" /> <!-- Soroban -->
                <If Condition="IsQuestAcceptQualified(68020)">
                    <PickupQuest NpcId="1019958" QuestId="68020" XYZ="420.3403, -99.19678, -221.3627" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68020)">
                <If Condition="GetQuestStep(68020) == 1">
                    <GetTo ZoneId="613" XYZ="322.5604, -120.3904, -300.5265" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019969" XYZ="322.5604, -120.3904, -300.5265" QuestId="68020" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68020) == 255">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2772)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="321.4923, -120.3948, -299.794" /> <!-- Soroban -->
                        <Dismount />
                        <UseTransport Name="Soroban" InteractDistance="3.0" NpcId="1021614" XYZ="321.4923, -120.3948, -299.794" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="242.6094, -95.6256, -356.7122" />
                        <MoveTo Name="Sui-no-Sato" Distance="1" UseMesh="False" XYZ="23.62264, -195.5924, -156.3366" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2772)" />
                    </If>
                    <GetTo ZoneId="613" XYZ="19.42468, -197.5309, -143.9384" /> <!-- Lyse -->
                    <Dismount />
                    <TurnIn QuestId="68020" NpcId="1019970" XYZ="19.42468, -197.5309, -143.9384" />
                </If>
            </If>
        </If>
        <!-- Forever and Ever Apart -->
        <If Condition="not IsQuestCompleted(68021)">
            <If Condition="not HasQuest(68021)">

                <!-- TO DO -->

                <!-- Remove forced TP when zone transitions are supported. -->

                <!-- TO DO -->

                <If Condition="not IsOnMap(613)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                </If>
                <If Condition="IsOnMap(613) and not IsOnSubMap(2772)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="242.6094, -95.6256, -356.7122" />
                    <MoveTo Name="Sui-no-Sato" Distance="1" UseMesh="False" XYZ="23.62264, -195.5924, -156.3366" />
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2772)" />
                </If>
                <GetTo ZoneId="613" XYZ="19.42468, -197.5309, -143.9384" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68021)">
                    <PickupQuest NpcId="1019970" QuestId="68021" XYZ="19.42468, -197.5309, -143.9384" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68021)">
                <If Condition="GetQuestStep(68021) == 1">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2772)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="242.6094, -95.6256, -356.7122" />
                        <MoveTo Name="Sui-no-Sato" Distance="1" UseMesh="False" XYZ="23.62264, -195.5924, -156.3366" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2772)" />
                    </If>
                    <GetTo ZoneId="613" XYZ="-8.926575, -187.0837, -95.01801" /> <!-- Shiosai -->
                    <TalkTo NpcId="1019197" XYZ="-8.926575, -187.0837, -95.01801" QuestId="68021" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68021) == 255">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2772)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="242.6094, -95.6256, -356.7122" />
                        <MoveTo Name="Sui-no-Sato" Distance="1" UseMesh="False" XYZ="23.62264, -195.5924, -156.3366" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2772)" />
                    </If>
                    <GetTo ZoneId="613" XYZ="20.24866, -197.5632, -145.4032" /> <!-- Alisaie -->
                    <TurnIn QuestId="68021" NpcId="1019971" XYZ="20.24866, -197.5632, -145.4032" />
                </If>
            </If>
        </If>
        <!-- In Darkness the Magatama Dreams -->
        <If Condition="not IsQuestCompleted(68022)">
            <If Condition="not HasQuest(68022)">

                <!-- TO DO -->

                <!-- Remove forced TP when zone transitions are supported. -->

                <!-- TO DO -->

                <If Condition="not IsOnMap(613)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                </If>
                <If Condition="IsOnMap(613) and not IsOnSubMap(2772)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="242.6094, -95.6256, -356.7122" />
                    <MoveTo Name="Sui-no-Sato" Distance="1" UseMesh="False" XYZ="23.62264, -195.5924, -156.3366" />
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2772)" />
                </If>
                <GetTo ZoneId="613" XYZ="20.24866, -197.5632, -145.4032" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68022)">
                    <PickupQuest NpcId="1019971" QuestId="68022" XYZ="20.24866, -197.5632, -145.4032" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68022)">
                <If Condition="GetQuestStep(68022) == 1">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2772)">
                        <GetTo ZoneId="613" XYZ="17.52444, -197.9075, -152.5112" /> <!-- Sui-no-Sato Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="209.8584, -50.60926, -318.9794" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-161.133, -64.16187, -17.5735" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-228.3217, -170.3914, 185.3949" />
                    <MoveTo Name="Alisaie" Distance="0.1" UseMesh="False" XYZ="-227.863, -179.2102, 185.748" />
                    <TalkTo NpcId="1019978" XYZ="-227.863, -179.2102, 185.748" QuestId="68022" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68022) == 2">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2772)">
                        <GetTo ZoneId="613" XYZ="17.52444, -197.9075, -152.5112" /> <!-- Sui-no-Sato Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="209.8584, -50.60926, -318.9794" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-161.133, -64.16187, -17.5735" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-228.3217, -170.3914, 185.3949" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-227.863, -179.2102, 185.748" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-204.0617, -176.1766, 198.1336" />
                    <MoveTo Name="Shimmering Object" Distance="0.1" UseMesh="False" XYZ="-220.6607, -193.4926, 221.5151" />
                    <RunCode Name="In_Darkness_the_Magatama_Dreams" />
                </If>
                <If Condition="GetQuestStep(68022) == 3">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2772)">
                        <GetTo ZoneId="613" XYZ="17.52444, -197.9075, -152.5112" /> <!-- Sui-no-Sato Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="209.8584, -50.60926, -318.9794" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-161.133, -64.16187, -17.5735" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-228.3217, -170.3914, 185.3949" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-227.863, -179.2102, 185.748" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-204.0617, -176.1766, 198.1336" />
                    <MoveTo Name="Shimmering Object" Distance="0.1" UseMesh="False" XYZ="-220.6607, -193.4926, 221.5151" />
                    <UseObject NpcId="2007920" XYZ="-220.6607, -193.4926, 221.5151" UseDistance="0.1" Radius="10" QuestId="68022" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68022) == 255">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2772)">
                        <GetTo ZoneId="613" XYZ="17.52444, -197.9075, -152.5112" /> <!-- Sui-no-Sato Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="209.8584, -50.60926, -318.9794" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-161.133, -64.16187, -17.5735" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-228.3217, -170.3914, 185.3949" />
                    <MoveTo Name="Alisaie" Distance="0.1" UseMesh="False" XYZ="-227.863, -179.2102, 185.748" />
                    <TurnIn QuestId="68022" ItemId="2002095" NpcId="1019978" XYZ="-227.863, -179.2102, 185.748" />
                </If>
            </If>
        </If>
        <!-- The Whims of the Devine -->
        <If Condition="not IsQuestCompleted(68023)">
            <If Condition="not HasQuest(68023)">

                <!-- TO DO -->

                <!-- Remove forced TP when zone transitions are supported. -->

                <!-- TO DO -->

                <If Condition="not IsOnMap(613)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                </If>
                <If Condition="IsOnMap(613) and IsOnSubMap(2750)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                </If>
                <If Condition="IsOnMap(613) and IsOnSubMap(2772)">
                    <GetTo ZoneId="613" XYZ="17.52444, -197.9075, -152.5112" /> <!-- Sui-no-Sato Exit -->
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                </If>
                <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                </If>

                <!-- TO DO -->

                <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                <!-- TO DO -->

                <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="209.8584, -50.60926, -318.9794" />
                <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-161.133, -64.16187, -17.5735" />
                <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-228.3217, -170.3914, 185.3949" />
                <MoveTo Name="Alisaie" Distance="0.1" UseMesh="False" XYZ="-227.863, -179.2102, 185.748" />
                <If Condition="IsQuestAcceptQualified(68023)">
                    <PickupQuestPlus NpcId="1019978" QuestId="68023" XYZ="-227.863, -179.2102, 185.748" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68023)">
                <If Condition="GetQuestStep(68023) == 1">
                    <GetTo ZoneId="613" XYZ="319.6917, -120.0349, -250.9042" /> <!-- Bunchin -->
                    <HandOver ItemId="2002096" QuestId="68023" StepId="1" NpcId="1019178" XYZ="319.6917, -120.0349, -250.9042" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68023) == 255">
                    <GetTo ZoneId="613" XYZ="323.0487, -120.035, -249.012" /> <!-- Alisaie -->
                    <TurnIn QuestId="68023" NpcId="1019961" XYZ="323.0487, -120.035, -249.012" />
                </If>
            </If>
        </If>
        <!-- Breaking and Delivering -->
        <If Condition="not IsQuestCompleted(68024)">
            <If Condition="not HasQuest(68024)">
                <GetTo ZoneId="613" XYZ="323.0487, -120.035, -249.012" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68024)">
                    <PickupQuestPlus NpcId="1019961" QuestId="68024" XYZ="323.0487, -120.035, -249.012" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68024)">
                <If Condition="GetQuestStep(68024) == 1">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2772)">
                        <GetTo ZoneId="613" XYZ="17.52444, -197.9075, -152.5112" /> <!-- Sui-no-Sato Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                    <MoveTo Name="Alisaie" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                    <TalkTo NpcId="1019981" XYZ="-470.8171, -95.80432, 191.8516" QuestId="68024" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68024) == 2">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and IsOnSubMap(2750) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-470.8171, -95.80432, 191.8516)) &gt; 5">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                    </If>
                    <GetTo ZoneId="613" XYZ="-739.0775, 4.530941, 234.2278" /> <!-- Destination -->
                    <WaitWhile Condition="GetQuestStep(68024) == 2" />
                </If>
                <If Condition="GetQuestStep(68024) == 3">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                            <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                            <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                        </If>
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                            <!-- TO DO -->

                            <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                            <!-- TO DO -->

                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                        </If>
                    </If>
                    <GetTo ZoneId="613" XYZ="-701.1838, 6.973407, 18.85059" /> <!-- Destination -->
                    <WaitWhile Condition="GetQuestStep(68024) == 3" />
                </If>
                <If Condition="GetQuestStep(68024) == 4">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                            <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                            <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                        </If>
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                            <!-- TO DO -->

                            <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                            <!-- TO DO -->

                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                        </If>
                    </If>
                    <GetTo ZoneId="613" XYZ="-740.2304, 8.312634, 118.181" /> <!-- Lyse -->
                    <TalkTo NpcId="1020624" XYZ="-740.2304, 8.312634, 118.181" QuestId="68024" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68024) == 5">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                            <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                            <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                        </If>
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                            <!-- TO DO -->

                            <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                            <!-- TO DO -->

                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                        </If>
                    </If>
                    <GetTo ZoneId="613" XYZ="-835.7214, 51.33434, 38.98682" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019983" XYZ="-835.7214, 51.33434, 38.98682" QuestId="68024" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68024) == 255">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                            <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                            <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                        </If>
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                            <!-- TO DO -->

                            <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                            <!-- TO DO -->

                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                        </If>
                    </If>
                    <GetTo ZoneId="613" XYZ="-797.3602, 48.41823, 149.6453" /> <!-- Alisaie -->
                    <TurnIn QuestId="68024" NpcId="1019985" XYZ="-797.3602, 48.41823, 149.6453" />
                </If>
            </If>
        </If>
        <!-- The Lord of the Revel -->
        <If Condition="not IsQuestCompleted(68025)">
            <If Condition="not HasQuest(68025)">

                <!-- TO DO -->

                <!-- Remove forced TP when zone transitions are supported. -->

                <!-- TO DO -->

                <If Condition="not IsOnMap(613)">
                    <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                </If>
                <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                        <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                    </If>
                    <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                    </If>
                </If>
                <GetTo ZoneId="613" XYZ="-797.3602, 48.41823, 149.6453" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68025)">
                    <PickupQuest NpcId="1019985" QuestId="68025" XYZ="-797.3602, 48.41823, 149.6453" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68025)">
                <If Condition="GetQuestStep(68025) == 1">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                            <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                            <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                        </If>
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                            <!-- TO DO -->

                            <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                            <!-- TO DO -->

                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                        </If>
                    </If>
                    <GetTo ZoneId="613" XYZ="-838.9868, 52.01794, 38.01025" /> <!-- Vault Door -->
                    <UseObject NpcId="2007853" XYZ="-838.9868, 52.01794, 38.01025" Radius="10" QuestId="68025" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68025) == 2">

                    <!-- TO DO -->

                    <!-- Remove forced TP when zone transitions are supported. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnMap(613)">
                        <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                    </If>
                    <If Condition="IsOnMap(613) and not (IsOnSubMap(2787) or IsOnSubMap(2786) or IsOnSubMap(2788))">
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2750)">
                            <TeleportTo Name="Tamamizu" AetheryteId="105" Force="True" />
                            <GetTo ZoneId="613" XYZ="325.959, -120.3188, -308.8289" /> <!-- Tamamizu Exit -->
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2750)" />
                        </If>
                        <If Condition="IsOnMap(613) and not IsOnSubMap(2787)">

                            <!-- TO DO -->

                            <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                            <!-- TO DO -->

                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="47.07459, -84.24439, -171.0704" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-470.8171, -95.80432, 191.8516" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-623.1888, -44.06145, 267.4632" />
                            <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-645.4582, -20.81008, 262.8345" />
                            <RunCode Name="MoveForward" />
                            <WaitWhile Condition="IsOnMap(613) and not IsOnSubMap(2787)" />
                        </If>
                    </If>
                    <GetTo ZoneId="613" XYZ="-838.9868, 52.01794, 38.01025" /> <!-- Vault Door -->
                    <RunCode Name="The_Lord_of_the_Revel" />
                    <StopBot />
                </If>
                <If Condition="GetQuestStep(68025) == 4">
                    <GetTo ZoneId="613" XYZ="-727.657, 0.3198316, -316.8842" /> <!-- Lyse -->
                    <TalkTo NpcId="1019987" XYZ="-727.657, 0.3198316, -316.8842" QuestId="68025" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68025) == 255">
                    <GetTo ZoneId="613" XYZ="-761.8372, 4.763445, -455.2224" /> <!-- Lyse -->
                    <TurnIn QuestId="68025" NpcId="1019988" XYZ="-761.8372, 4.763445, -455.2224" />
                </If>
            </If>
        </If>
        <!-- Tide Goes in, Imperials Go Out -->
        <If Condition="not IsQuestCompleted(68026)">
            <If Condition="not HasQuest(68026)">
                <GetTo ZoneId="613" XYZ="-761.8372, 4.763445, -455.2224" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68026)">
                    <PickupQuest NpcId="1019988" QuestId="68026" XYZ="-761.8372, 4.763445, -455.2224" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68026)">
                <If Condition="GetQuestStep(68026) == 1">
                    <While Condition="not IsTodoChecked(68026, 1, 0)">
                        <GetTo ZoneId="613" XYZ="-807.3701, 8.49827, -418.8754" /> <!-- Flustered Fisher -->
                        <TalkTo NpcId="1019991" XYZ="-807.3701, 8.49827, -418.8754" QuestId="68026" StepId="1" />
                        <TalkTo NpcId="1019990" XYZ="-794.6136, 4.993313, -372.6711" QuestId="68026" StepId="1" />
                    </While>
                    <If Condition="not IsTodoChecked(68026, 1, 1)">
                        <GetTo ZoneId="613" XYZ="-791.2566, 21.42819, -480.2473" /> <!-- Industrious Pirate -->
                        <TalkTo NpcId="1019992" XYZ="-791.2566, 21.42819, -480.2473" QuestId="68026" StepId="1" />
                    </If>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68026) == 255">
                    <GetTo ZoneId="613" XYZ="-761.8372, 4.763445, -453.4829" /> <!-- Alisaie -->
                    <TurnIn QuestId="68026" NpcId="1019989" XYZ="-761.8372, 4.763445, -453.4829" />
                </If>
            </If>
        </If>
        <!-- A Silence in Three Parts -->
        <If Condition="not IsQuestCompleted(68027)">
            <If Condition="not HasQuest(68027)">
                <GetTo ZoneId="613" XYZ="-761.7761, 4.763445, -460.0137" /> <!-- Gosetsu -->
                <If Condition="IsQuestAcceptQualified(68027)">
                    <PickupQuest NpcId="1020186" QuestId="68027" XYZ="-761.7761, 4.763445, -460.0137" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68027)">
                <If Condition="GetQuestStep(68027) == 1">
                    <GetTo ZoneId="614" XYZ="791.0416, 103.9416, -313.5021" /> <!-- Yanxia -->
                    <WaitWhile Condition="GetQuestStep(68027) == 1" />
                </If>
                <If Condition="GetQuestStep(68027) == 2">
                    <GetTo ZoneId="614" XYZ="790.4325, 99.48914, -290.8523" /> <!-- Gosetsu -->
                    <TalkTo NpcId="1019994" XYZ="790.4325, 99.48914, -290.8523" QuestId="68027" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68027) == 255">
                    <GetTo ZoneId="614" XYZ="527.9164, 43.697, -156.0541" /> <!-- Gosetsu -->
                    <TurnIn QuestId="68027" NpcId="1019997" XYZ="527.9164, 43.697, -156.0541" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 64">
            <LogMessage Message="[Stormblood] You are not level 64 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 64..." />
            <GetTo ZoneId="613" XYZ="633.3296, 67.59826, -71.741" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_64" while="Core.Player.ClassLevel &lt; 64" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 64 quests..." />

        <!-- [Pickup Quests] -->

        <!-- Life After Doma -->
        <If Condition="not IsQuestCompleted(68028)">
            <If Condition="not HasQuest(68028)">
                <GetTo ZoneId="614" XYZ="527.9164, 43.697, -156.0541" /> <!-- Gosetsu -->
                <If Condition="IsQuestAcceptQualified(68028)">
                    <PickupQuest NpcId="1019997" QuestId="68028" XYZ="527.9164, 43.697, -156.0541" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68028)">
                <If Condition="GetQuestStep(68028) == 1">
                    <GetTo ZoneId="614" XYZ="487.0526, 50.46155, -115.0378" /> <!-- Destination -->
                    <UseObject NpcId="2007834" XYZ="487.0526, 50.46155, -115.0378" Radius="10" QuestId="68028" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68028) == 2">
                    <GetTo ZoneId="614" XYZ="507.9575, 41.74286, -94.5907" /> <!-- Namai Youth -->
                    <TalkTo NpcId="1020000" XYZ="507.9575, 41.74286, -94.5907" QuestId="68028" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68028) == 3">
                    <GetTo ZoneId="614" XYZ="414.5112, -0.3000069, -276.5698" /> <!-- Gosetsu -->
                    <TalkTo NpcId="1020016" XYZ="414.5112, -0.3000069, -276.5698" QuestId="68028" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68028) == 255">
                    <If Condition="not IsOnMap(614)">
                        <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                    </If>
                    <MoveTo Name="Gosetsu" XYZ="277.9735, 3.262752, -378.9578" />
                    <TurnIn QuestId="68028" NpcId="1020007" XYZ="277.9735, 3.262752, -378.9578" />
                </If>
            </If>
        </If>
        <!-- A Glimpse of Madness -->
        <If Condition="not IsQuestCompleted(68470)">
            <If Condition="not HasQuest(68470)">
                <If Condition="not IsOnMap(614)">
                    <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                    <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                    
                    <!-- TO DO -->

                    <!-- Create QB to dive. -->

                    <!-- TO DO -->

                    <RunCode Name="Manually_Dive" />
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                </If>
                <MoveTo Name="Liberation Front Guard" XYZ="276.3561, 3.658416, -377.5235" />
                <If Condition="IsQuestAcceptQualified(68470)">
                    <PickupQuest NpcId="1020004" QuestId="68470" XYZ="276.3561, 3.658416, -377.5235" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68470)">
                <If Condition="GetQuestStep(68470) == 1">
                    <WaitWhile Condition="GetQuestStep(68470) == 1" />
                </If>
                <While Condition="GetQuestStep(68470) == 2">
                    <If Condition="not IsOnMap(614) and not IsOnMap(681)">
                        <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                    </If>
                    <If Condition="IsOnMap(614) and IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(300.1241, -0.6, -357.2458)) &lt; 5">
                        <UseTransport Name="Liberation Front Sentry" InteractDistance="3.0" NpcId="1019291" XYZ="276.3561, 3.658416, -377.5235" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove MoveTo when 681 is navigable. -->

                    <!-- TO DO -->

                    <MoveTo Name="Alisaie" XYZ="5.996765, -0.5066767, 2.5177" />
                    <TalkTo NpcId="1020008" XYZ="5.996765, -0.5066767, 2.5177" QuestId="68470" StepId="2" />
                    <TalkTo NpcId="1020010" XYZ="-30.01453, -0.2486858, -2.822998" QuestId="68470" StepId="2" />
                    <TalkTo NpcId="1020009" XYZ="-45.24304, -0.2509899, -31.84564" QuestId="68470" StepId="2" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68470) == 255">
                    <If Condition="not IsOnMap(614) and not IsOnMap(681)">
                        <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                    </If>
                    <If Condition="IsOnMap(614) and IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(300.1241, -0.6, -357.2458)) &lt; 5">
                        <UseTransport Name="Liberation Front Sentry" InteractDistance="3.0" NpcId="1019291" XYZ="276.3561, 3.658416, -377.5235" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove MoveTo when 681 is navigable. -->

                    <!-- TO DO -->

                    <MoveTo Name="Yugiri" XYZ="-49.88184, -0.2605122, -12.89392" />
                    <TurnIn QuestId="68470" NpcId="1020011" XYZ="-49.88184, -0.2605122, -12.89392" />
                </If>
            </If>
        </If>
        <!-- The Stubborn Remainder -->
        <If Condition="not IsQuestCompleted(68029)">
            <If Condition="not HasQuest(68029)">
                <If Condition="not IsOnMap(614) and not IsOnMap(681)">
                    <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                    <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                    
                    <!-- TO DO -->

                    <!-- Create QB to dive. -->

                    <!-- TO DO -->

                    <RunCode Name="Manually_Dive" />
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                </If>
                <If Condition="IsOnMap(614) and IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(300.1241, -0.6, -357.2458)) &lt; 5">
                    <UseTransport Name="Liberation Front Sentry" InteractDistance="3.0" NpcId="1019291" XYZ="276.3561, 3.658416, -377.5235" />
                </If>

                <!-- TO DO -->

                <!-- Remove MoveTo when 681 is navigable. -->

                <!-- TO DO -->

                <MoveTo Name="Yugiri" XYZ="-49.88184, -0.2605122, -12.89392" />
                <If Condition="IsQuestAcceptQualified(68029)">
                    <PickupQuest NpcId="1020011" QuestId="68029" XYZ="-49.88184, -0.2605122, -12.89392" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68029)">
                <If Condition="GetQuestStep(68029) == 1">
                    <GetTo ZoneId="614" XYZ="486.9917, 50.48013, -115.404" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020012" XYZ="486.9917, 50.48013, -115.404" QuestId="68029" StepId="1" />
                </If>
                <While Condition="GetQuestStep(68029) == 2">
                    <GetTo ZoneId="614" XYZ="451.5602, 58.77665, -188.3421" /> <!-- Honami -->
                    <TalkTo NpcId="1019263" XYZ="451.5602, 58.77665, -188.3421" QuestId="68029" StepId="2" />
                    <TalkToPlus NpcId="1022719" XYZ="434.226, 68.02852, -65.17133" QuestId="68029" StepId="2" />
                    <TalkTo NpcId="1019259" XYZ="405.4779, 67.4601, -61.53973" QuestId="68029" StepId="2" />
                    <TalkTo NpcId="1020015" XYZ="389.2423, 72.07916, -68.46729" QuestId="68029" StepId="2" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68029) == 255">
                    <GetTo ZoneId="614" XYZ="486.9917, 50.48013, -115.404" /> <!-- Yugiri -->
                    <TurnIn QuestId="68029" NpcId="1020012" XYZ="486.9917, 50.48013, -115.404" />
                </If>
            </If>
        </If>
        <!-- The Ones We Leave Behind -->
        <If Condition="not IsQuestCompleted(68030)">
            <If Condition="not HasQuest(68030)">
                <GetTo ZoneId="614" XYZ="486.9917, 50.48013, -115.404" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68030)">
                    <PickupQuest NpcId="1020012" QuestId="68030" XYZ="486.9917, 50.48013, -115.404" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68030)">
                <If Condition="GetQuestStep(68030) == 1">
                    <GetTo ZoneId="614" XYZ="508.1794, 83.79961, 98.08146" /> <!-- Azami -->
                    <WaitWhile Condition="GetQuestStep(68030) == 1" />
                </If>
                <If Condition="GetQuestStep(68030) == 2">
                    <GetTo ZoneId="614" XYZ="507.8658, 83.5696, 94.92627" /> <!-- Azami -->
                    <TalkTo NpcId="1020018" XYZ="507.8658, 83.5696, 94.92627" QuestId="68030" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68030) == 3">
                    <GetTo ZoneId="614" XYZ="370.0159, 85.52673, 32.48633" /> <!-- Golden Carnation -->
                    <UseObject NpcId="2007836" XYZ="370.0159, 85.52673, 32.48633" Radius="10" QuestId="68030" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68030) == 4">
                    <GetTo ZoneId="614" XYZ="507.8658, 83.5696, 94.92627" /> <!-- Azami -->
                    <HandOver ItemId="2002067" QuestId="68030" StepId="4" NpcId="1020018" XYZ="507.8658, 83.5696, 94.92627" />
                </If>
                <If Condition="GetQuestStep(68030) == 5">
                    <GetTo ZoneId="614" XYZ="208.8197, 141.5224, -28.82434" /> <!-- Azami -->
                    <TalkTo NpcId="1020019" XYZ="208.8197, 141.5224, -28.82434" QuestId="68030" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68030) == 255">
                    <GetTo ZoneId="614" XYZ="397.7568, 72.83517, -97.06268" /> <!-- Yugiri -->
                    <TurnIn QuestId="68030" NpcId="1020020" XYZ="397.7568, 72.83517, -97.06268" />
                </If>
            </If>
        </If>
        <!-- A New Ruby Tithe -->
        <If Condition="not IsQuestCompleted(68031)">
            <If Condition="not HasQuest(68031)">
                <GetTo ZoneId="614" XYZ="397.7568, 72.83517, -97.06268" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68031)">
                    <PickupQuest NpcId="1020020" QuestId="68031" XYZ="397.7568, 72.83517, -97.06268" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68031)">
                <If Condition="GetQuestStep(68031) == 1">
                    <GetTo ZoneId="614" XYZ="418.4176, 68.0094, -135.4544" /> <!-- Destination -->
                    <UseObject NpcId="2007838" XYZ="418.4176, 68.0094, -135.4544" Radius="10" QuestId="68031" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68031) == 2">
                    <GetTo ZoneId="614" XYZ="418.0514, 68.02851, -133.898" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020022" XYZ="418.0514, 68.02851, -133.898" QuestId="68031" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68031) == 3">
                    <GetTo ZoneId="614" XYZ="534.2335, 84.80294, 111.1313" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020024" XYZ="534.2335, 84.80294, 111.1313" QuestId="68031" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68031) == 4">
                    <GetTo ZoneId="614" XYZ="498.8326, 78.04988, 147.2343" /> <!-- Yugiri -->
                    <RunCode Name="A_New_Ruby_Tithe" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Figure out how to complete this quest step. -->
                    <!-- Name:Imperial Patrol 0x1CFB89CA750, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:202 -->
                    <!-- Name:Imperial Patrol 0x1CFB8A45240, Type:ff14bot.Objects.Character, ID:1023085, Obj:6977195 -->
                    <!-- 50% Magification -->
                    <!-- Screenshot not taken. -->

                    <!-- TO DO -->

                    <TalkTo NpcId="1020282" XYZ="498.8326, 78.04988, 147.2343" QuestId="68031" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68031) == 5">
                    <GetTo ZoneId="614" XYZ="535.2406, 54.48987, 237.0488" /> <!-- Destination -->
                    <RunCode Name="A_New_Ruby_Tithe" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Figure out how to complete this quest step. -->
                    <!-- Name:Imperial Patrol 0x1CFB89CA750, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:202 -->
                    <!-- Name:Imperial Patrol 0x1CFB89CD060, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:203 -->
                    <!-- Name:Imperial Patrol 0x1CFB89D2280, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:205 -->
                    <!-- Name:Imperial Patrol 0x1CFB89D4B90, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:206 -->
                    <!-- Name:Imperial Patrol 0x1CFB89CF970, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:204 -->
                    <!-- Name:Imperial Patrol 0x1CFB8A46930, Type:ff14bot.Objects.Character, ID:1023085, Obj:6977195 -->
                    <!-- 100% Magification -->
                    <!-- http://i.imgur.com/9HZdZ6x.jpg (71% Magnification to view all NPCs.) -->

                    <!-- TO DO -->

                    <UseObject NpcId="2007835" XYZ="535.2406, 54.48987, 237.0488" Radius="10" QuestId="68031" StepId="5" />
                </If>
                <If Condition="GetQuestStep(68031) == 6">
                    <GetTo ZoneId="614" XYZ="303.6088, 16.70114, 584.7104" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020025" XYZ="303.6088, 16.70114, 584.7104" QuestId="68031" StepId="6" />
                </If>
                <If Condition="GetQuestStep(68031) == 7">
                    <GetTo ZoneId="614" XYZ="329.671, 32.97461, 603.2959" /> <!-- Destination -->
                    <RunCode Name="A_New_Ruby_Tithe" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Figure out how to complete this quest step. -->
                    <!-- Name:Imperial Patrol 0x1CFB89CA750, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:202 -->
                    <!-- Name:Imperial Patrol 0x1CFB89CD060, Type:ff14bot.Objects.BattleCharacter, ID:0, Obj:203 -->
                    <!-- 86% Magification -->
                    <!-- http://i.imgur.com/S1ugc7a.jpg -->

                    <!-- TO DO -->

                    <UseObject NpcId="2007915" XYZ="329.671, 32.97461, 603.2959" Radius="10" QuestId="68031" StepId="7" />
                </If>
                <If Condition="GetQuestStep(68031) == 8">
                    <GetTo ZoneId="614" XYZ="303.6088, 16.70114, 584.7104" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020025" XYZ="303.6088, 16.70114, 584.7104" QuestId="68031" StepId="8" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68031) == 255">
                    <GetTo ZoneId="614" XYZ="406.2714, 14.64187, 626.1234" /> <!-- Yugiri -->
                    <TurnIn QuestId="68031" NpcId="1020283" XYZ="406.2714, 14.64187, 626.1234" />
                </If>
            </If>
        </If>
        <!-- The Will to Live -->
        <If Condition="not IsQuestCompleted(68032)">
            <If Condition="not HasQuest(68032)">
                <GetTo ZoneId="614" XYZ="406.2103, 14.64187, 625.9707" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68032)">
                    <PickupQuest NpcId="1023780" QuestId="68032" XYZ="406.2103, 14.64187, 625.9707" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68032)">
                <If Condition="GetQuestStep(68032) == 1">
                    <GetTo ZoneId="614" XYZ="358.6937, 22.65961, 573.6934" /> <!-- Destination -->
                    <UseObject NpcId="2007839" XYZ="358.6937, 22.65961, 573.6934" Radius="10" QuestId="68032" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68032) == 2">
                    <GetTo ZoneId="614" XYZ="435.2329, 14.64187, 619.8672" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020042" XYZ="435.2329, 14.64187, 619.8672" QuestId="68032" StepId="2" />
                </If>
                <While Condition="GetQuestStep(68032) == 3">
                    <GetTo ZoneId="614" XYZ="438.4375, 14.64187, 620.3555" /> <!-- Stocky Soldier -->
                    <TalkTo NpcId="1020043" XYZ="438.4375, 14.64187, 620.3555" QuestId="68032" StepId="3" />
                    <TalkTo NpcId="1020044" XYZ="438.4069, 14.64187, 622.217" QuestId="68032" StepId="3" />
                    <TalkTo NpcId="1020045" XYZ="439.0173, 14.64187, 624.0481" QuestId="68032" StepId="3" />
                </While>
                <If Condition="GetQuestStep(68032) == 4">
                    <GetTo ZoneId="614" XYZ="435.2329, 14.64187, 619.8672" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020042" XYZ="435.2329, 14.64187, 619.8672" QuestId="68032" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68032) == 5">
                    <GetTo ZoneId="614" XYZ="446.7383, 14.62637, 705.0431" /> <!-- Imperial Soldier -->
                    <RunCode Name="The_Will_to_Live" />
                    <EmoteNPC Emote="imperialsalute" NpcIds="1020041,1020040" QuestId="68032" StepId="5">
                        <HotSpots>
                            <HotSpot XYZ="446.7383, 14.62637, 705.0431" Radius="10" />
                            <HotSpot XYZ="436.1486, 14.64187, 706.1721" Radius="10" />
                        </HotSpots>
                    </EmoteNPC>
                </If>
                <If Condition="GetQuestStep(68032) == 6">
                    <GetTo ZoneId="614" XYZ="435.2329, 14.64187, 619.8672" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020042" XYZ="435.2329, 14.64187, 619.8672" QuestId="68032" StepId="6" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68032) == 255">
                    <GetTo ZoneId="614" XYZ="457.6943, 30.0019, 764.187" /> <!-- Captured Villager -->
                    <TurnIn QuestId="68032" NpcId="1020029" XYZ="457.6943, 30.0019, 764.187" />
                </If>
            </If>
        </If>
        <!-- Daughter of the Deep -->
        <If Condition="not IsQuestCompleted(68033)">
            <If Condition="not HasQuest(68033)">
                <GetTo ZoneId="614" XYZ="455.9548, 29.32487, 759.6703" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68033)">
                    <PickupQuest NpcId="1020046" QuestId="68033" XYZ="455.9548, 29.32487, 759.6703" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68033)">
                <If Condition="GetQuestStep(68033) == 1">
                    <GetTo ZoneId="614" XYZ="433.9818, 14.64187, 622.7664" /> <!-- Imperial Decurion -->
                    <TalkTo NpcId="1020047" XYZ="433.9818, 14.64187, 622.7664" QuestId="68033" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68033) == 2">
                    <GetTo ZoneId="614" XYZ="390.6156, 14.63336, 685.9998" /> <!-- Destination -->
                    <UseObject NpcId="2007840" XYZ="390.6156, 14.63336, 685.9998" Radius="10" QuestId="68033" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68033) == 3">
                    <GetTo ZoneId="614" XYZ="390.5547, 14.64187, 685.9387" /> <!-- Imperial Decurion -->
                    <UseItem NpcId="1020049" ItemId="2002070" XYZ="390.5547, 14.64187, 685.9387" Radius="10" QuestId="68033" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68033) == 4">
                    <GetTo ZoneId="614" XYZ="434.5006, 14.64187, 624.567" /> <!-- Imperial Soldier -->
                    <TalkTo NpcId="1020048" XYZ="434.5006, 14.64187, 624.567" QuestId="68033" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68033) == 5">
                    <GetTo ZoneId="614" XYZ="485.3741, 14.63336, 742.9771" /> <!-- Destination -->
                    <UseObject NpcId="2007841" XYZ="485.3741, 14.63336, 742.9771" Radius="10" QuestId="68033" StepId="5" />
                </If>
                <If Condition="GetQuestStep(68033) == 6">
                    <GetTo ZoneId="614" XYZ="485.2522, 14.64186, 742.9771" /> <!-- Imperial Soldier -->
                    <UseItem NpcId="1020050" ItemId="2002070" XYZ="485.2522, 14.64186, 742.9771" Radius="10" QuestId="68033" StepId="6" />
                </If>
                <If Condition="GetQuestStep(68033) == 7">
                    <GetTo ZoneId="614" XYZ="232.5627, 1.402598, 756.0996" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020051" XYZ="232.5627, 1.402598, 756.0996" QuestId="68033" StepId="7" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68033) == 255">
                    <If Condition="not IsOnMap(614)">
                        <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                    </If>

                    <!-- TO DO -->

                    <!-- Remove MoveTo when 681 is navigable. -->

                    <!-- TO DO -->

                    <MoveTo Name="Yugiri" XYZ="278.3093, 2.954496, -378.439" />
                    <TurnIn QuestId="68033" NpcId="1023787" XYZ="278.3093, 2.954496, -378.439" />
                </If>
            </If>
        </If>
        <!-- Path of No Return -->
        <If Condition="not IsQuestCompleted(68471)">
            <If Condition="not HasQuest(68471)">
                <If Condition="not IsOnMap(614) and not IsOnMap(681)">
                    <GetTo ZoneId="614" XYZ="401.758, -0.6000004, -293.9162" /> <!-- Dive Location -->
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &gt; 5) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &gt; 5) and not (MovementManager.IsDiving)">
                    <NoCombatMoveTo Name="Dive Location" XYZ="401.758, -0.6000004, -293.9162" />
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(401.758, -0.6000004, -293.9162)) &lt; 5">
                    
                    <!-- TO DO -->

                    <!-- Create QB to dive. -->

                    <!-- TO DO -->

                    <RunCode Name="Manually_Dive" />
                </If>
                <If Condition="IsOnMap(614) and not IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(399.6055, -25.00011, -291.9167)) &lt; 5">

                    <!-- TO DO -->

                    <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                    <!-- TO DO -->

                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="362.2003, -49.60085, -309.507" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="318.5881, -43.29357, -345.7413" />
                    <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="300.6059, -22.12334, -356.9417" />
                    <RunCode Name="MoveForward" />
                    <WaitWhile Condition="IsOnMap(614) and not IsOnSubMap(2805)" />
                </If>
                <If Condition="IsOnMap(614) and IsOnSubMap(2805) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(300.1241, -0.6, -357.2458)) &lt; 5">
                    <UseTransport Name="Liberation Front Sentry" InteractDistance="3.0" NpcId="1019291" XYZ="276.3561, 3.658416, -377.5235" />
                </If>

                <!-- TO DO -->

                <!-- Remove MoveTo when 681 is navigable. -->

                <!-- TO DO -->

                <MoveTo Name="Gosetsu" XYZ="-52.47583, -0.2509899, -25.74207" />
                <If Condition="IsQuestAcceptQualified(68471)">
                    <PickupQuest NpcId="1020052" QuestId="68471" XYZ="-52.47583, -0.2509899, -25.74207" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68471)">
                <If Condition="GetQuestStep(68471) == 1">
                    <GetTo ZoneId="614" XYZ="456.0157, 41.2719, -43.32043" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020053" XYZ="456.0157, 41.2719, -43.32043" QuestId="68471" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68471) == 255">
                    <GetTo ZoneId="614" XYZ="-463.2181, 1.230005, 535.6068" /> <!-- Yugiri -->
                    <TurnIn QuestId="68471" NpcId="1020055" XYZ="-463.2181, 1.230005, 535.6068" />
                </If>
            </If>
        </If>
        <!-- The Time between the Seconds -->
        <If Condition="not IsQuestCompleted(68034)">
            <If Condition="not HasQuest(68034)">
                <GetTo ZoneId="614" XYZ="-463.2181, 1.230005, 535.6068" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68034)">
                    <PickupQuest NpcId="1020055" QuestId="68034" XYZ="-463.2181, 1.230005, 535.6068" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68034)">
                <If Condition="GetQuestStep(68034) == 1">
                    <GetTo ZoneId="614" XYZ="-245.7466, 16.92224, 577.7217" /> <!-- Destination -->
                    <UseObject NpcId="2007842" XYZ="-245.7466, 16.92224, 577.7217" Radius="10" QuestId="68034" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68034) == 2">
                    <GetTo ZoneId="614" XYZ="-247.9134, 16.93272, 577.4165" /> <!-- Yugiri -->
                    <RunCode Name="The_Time_between_the_Seconds" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Fix: Not avoiding enough telegraphed attacks to survive. -->

                    <!-- TO DO -->

                    <SimpleDuty InteractNpcId="1020056" XYZ="-247.9134, 16.93272, 577.4165" QuestId="68034" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="-243.2979, 16.1961, 539.5198" Radius="90" />
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="6378" Weight="2000" /> <!-- Dark Reflection -->
                            <TargetMob Id="5954" Weight="1000" /> <!-- Zenos Yae Galvus -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68034) == 255">
                    <GetTo ZoneId="614" XYZ="488.3038, 7.396728, 375.1429" /> <!-- Alisaie -->
                    <TurnIn QuestId="68034" NpcId="1020057" XYZ="488.3038, 7.396728, 375.1429" />
                </If>
            </If>
        </If>
        <!-- All the Little Angels -->
        <If Condition="not IsQuestCompleted(68035)">
            <If Condition="not HasQuest(68035)">
                <GetTo ZoneId="614" XYZ="490.196, 8.442365, 373.2203" /> <!-- Isse -->
                <If Condition="IsQuestAcceptQualified(68035)">
                    <PickupQuest NpcId="1020059" QuestId="68035" XYZ="490.196, 8.442365, 373.2203" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68035)">
                <If Condition="GetQuestStep(68035) == 1">
                    <GetTo ZoneId="614" XYZ="453.4828, 57.1882, -146.4103" /> <!-- Isse -->
                    <TalkTo NpcId="1020062" XYZ="453.4828, 57.1882, -146.4103" QuestId="68035" StepId="1" />
                </If>
                <While Condition="GetQuestStep(68035) == 2">
                    <GetTo ZoneId="614" XYZ="442.832, 58.85905, -171.0689" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020063" XYZ="442.832, 58.85905, -171.0689" QuestId="68035" StepId="2" />
                    <TalkTo NpcId="1020064" XYZ="443.2898, 58.81469, -172.9" QuestId="68035" StepId="2" />
                    <TalkTo NpcId="1020065" XYZ="459.2507, 58.79123, -187.4266" QuestId="68035" StepId="2" />
                    <TalkTo NpcId="1020066" XYZ="445.5481, 68.02854, -73.56378" QuestId="68035" StepId="2" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68035) == 255">
                    <GetTo ZoneId="614" XYZ="446.6774, 68.02853, -74.47931" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68035" NpcId="1020067" XYZ="446.6774, 68.02853, -74.47931" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 65">
            <LogMessage Message="[Stormblood] You are not level 65 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 65..." />
            <GetTo ZoneId="614" XYZ="542.7109, 42.85573, 265.7553" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_65" while="Core.Player.ClassLevel &lt; 65" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 65 quests..." />

        <!-- Level 65 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67947)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(68428)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(68126)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(68453)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(68448)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(68443)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67964)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(68486)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(68109)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.RedMage and not IsQuestCompleted(68121)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Samurai and not IsQuestCompleted(68104)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(68461)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(68163)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(68438)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67952)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>

        <!-- [Pickup Quests] -->

        <!-- Here There Be Xaela -->
        <If Condition="not IsQuestCompleted(68166)">
            <If Condition="not HasQuest(68166)">
                <GetTo ZoneId="614" XYZ="444.4188, 68.02853, -76.95129" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68166)">
                    <PickupQuest NpcId="1020068" QuestId="68166" XYZ="444.4188, 68.02853, -76.95129" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68166)">
                <If Condition="GetQuestStep(68166) == 1">
                    <GetTo ZoneId="613" XYZ="-762.1119, 4.763445, -453.4829" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020073" XYZ="-762.1119, 4.763445, -453.4829" QuestId="68166" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68166) == 2">
                    <GetTo ZoneId="622" XYZ="547.6069, -21.39331, 683.309" /> <!-- The Azim Steppe -->
                    <WaitWhile Condition="GetQuestStep(68166) == 2" />
                </If>
                <If Condition="GetQuestStep(68166) == 3">
                    <GetTo ZoneId="622" XYZ="540.3677, -19.7932, 636.6216" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020076" XYZ="540.3677, -19.7932, 636.6216" QuestId="68166" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68166) == 255">
                    <GetTo ZoneId="622" XYZ="560.235, -19.50564, 408.6824" /> <!-- Yugiri -->
                    <TurnIn QuestId="68166" NpcId="1020079" XYZ="560.235, -19.50564, 408.6824" />
                </If>
            </If>
        </If>
        <!-- The Search for Lord Hien -->
        <If Condition="not IsQuestCompleted(68036)">
            <If Condition="not HasQuest(68036)">
                <GetTo ZoneId="622" XYZ="560.235, -19.50564, 408.6824" /> <!-- Yugiri -->
                <If Condition="IsQuestAcceptQualified(68036)">
                    <PickupQuest NpcId="1020079" QuestId="68036" XYZ="560.235, -19.50564, 408.6824" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68036)">
                <While Condition="GetQuestStep(68036) == 1">
                    <GetTo ZoneId="622" XYZ="556.8779, -19.50564, 397.1465" /> <!-- Chambui -->
                    <TalkTo NpcId="1019355" XYZ="556.8779, -19.50564, 397.1465" QuestId="68036" StepId="1" />
                    <TalkTo NpcId="1019353" XYZ="544.0298, -19.50564, 391.6837" QuestId="68036" StepId="1" />
                    <TalkTo NpcId="1019349" XYZ="543.9382, -19.50564, 354.0856" QuestId="68036" StepId="1" />
                </While>
                <If Condition="GetQuestStep(68036) == 2">
                    <GetTo ZoneId="622" XYZ="540.917, -19.50431, 278.0652" /> <!-- Goro Horsemaster -->
                    <TalkTo NpcId="1020275" XYZ="540.917, -19.50431, 278.0652" QuestId="68036" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68036) == 3">
                    <GetTo ZoneId="622" XYZ="571.5876, -19.50566, 313.7101" /> <!-- Cirina -->
                    <Dismount />
                    <SendChat Message="/say Mol" QuestId="68036" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68036) == 255">
                    <GetTo ZoneId="622" XYZ="571.5876, -19.50566, 313.7101" /> <!-- Cirina -->
                    <TurnIn QuestId="68036" NpcId="1020281" XYZ="571.5876, -19.50566, 313.7101" />
                </If>
            </If>
        </If>
        <!-- A Season for War -->
        <If Condition="not IsQuestCompleted(68037)">
            <If Condition="not HasQuest(68037)">
                <GetTo ZoneId="622" XYZ="571.5876, -19.50566, 313.7101" /> <!-- Cirina -->
                <If Condition="IsQuestAcceptQualified(68037)">
                    <PickupQuest NpcId="1020281" QuestId="68037" XYZ="571.5876, -19.50566, 313.7101" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68037)">
                <If Condition="GetQuestStep(68037) == 1">
                    <GetTo ZoneId="622" XYZ="387.8552, -6.499487, 363.0067" /> <!-- Grinding Area -->
                    <Grind grindRef="A_Season_for_War" while="HasQuest(68037) and GetQuestStep(68037) == 1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68037) == 255">
                    <GetTo ZoneId="622" XYZ="571.5876, -19.50566, 313.7101" /> <!-- Cirina -->
                    <TurnIn QuestId="68037" ItemId="2002204" NpcId="1020281" XYZ="571.5876, -19.50566, 313.7101" />
                </If>
            </If>
        </If>
        <!-- An Impossible Dream -->
        <If Condition="not IsQuestCompleted(68038)">
            <If Condition="not HasQuest(68038)">
                <GetTo ZoneId="622" XYZ="571.5876, -19.50566, 313.7101" /> <!-- Cirina -->
                <If Condition="IsQuestAcceptQualified(68038)">
                    <PickupQuest NpcId="1020281" QuestId="68038" XYZ="571.5876, -19.50566, 313.7101" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68038)">
                <If Condition="GetQuestStep(68038) == 1">
                    <GetTo ZoneId="622" XYZ="592.9198, 24.91888, 380.27" /> <!-- Hien -->
                    <TalkTo NpcId="1020279" XYZ="592.9198, 24.91888, 380.27" QuestId="68038" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68038) == 255">
                    <GetTo ZoneId="622" XYZ="592.9198, 24.94365, 380.0564" /> <!-- Hien -->
                    <TurnIn QuestId="68038" NpcId="1020543" XYZ="592.9198, 24.94365, 380.0564" />
                </If>
            </If>
        </If>
        <!-- Stars in the Dark -->
        <If Condition="not IsQuestCompleted(68039)">
            <If Condition="not HasQuest(68039)">
                <GetTo ZoneId="622" XYZ="592.9198, 24.94365, 380.0564" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68039)">
                    <PickupQuest NpcId="1020543" QuestId="68039" XYZ="592.9198, 24.94365, 380.0564" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68039)">
                <If Condition="GetQuestStep(68039) == 1">
                    <GetTo ZoneId="622" XYZ="491.2947, 8.481642, -234.4854" /> <!-- Hien -->
                    <TalkTo NpcId="1020531" XYZ="491.2947, 8.481642, -234.4854" QuestId="68039" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68039) == 2">
                    <GetTo ZoneId="622" XYZ="496.5437, 40.85965, -510.5822" /> <!-- Temulun -->
                    <TalkTo NpcId="1019382" XYZ="496.5437, 40.85965, -510.5822" QuestId="68039" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68039) == 255">
                    <GetTo ZoneId="622" XYZ="484.4891, 40.21725, -469.5354" /> <!-- Cirina -->
                    <TurnIn QuestId="68039" NpcId="1020501" XYZ="484.4891, 40.21725, -469.5354" />
                </If>
            </If>
        </If>
        <!-- A Warrior's Welcome -->
        <If Condition="not IsQuestCompleted(68040)">
            <If Condition="not HasQuest(68040)">
                <GetTo ZoneId="622" XYZ="484.4891, 40.21725, -469.5354" /> <!-- Cirina -->
                <If Condition="IsQuestAcceptQualified(68040)">
                    <PickupQuest NpcId="1020501" QuestId="68040" XYZ="484.4891, 40.21725, -469.5354" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68040)">
                <If Condition="GetQuestStep(68040) == 1">
                    <GetTo ZoneId="622" XYZ="416.495, 42.57908, -450.1259" /> <!-- Hien -->
                    <TalkTo NpcId="1020548" XYZ="416.495, 42.57908, -450.1259" QuestId="68040" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68040) == 2">
                    <GetTo ZoneId="622" XYZ="313.527, 50.76672, -456.7789" /> <!-- Destination -->
                    <UseItem NpcIds="2008457,2008456,2008128" ItemId="2002199" QuestId="68040" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="313.527, 50.76672, -456.7789" Radius="10" />
                            <HotSpot XYZ="224.4755, 101.274, -542.4735" Radius="10" />
                            <HotSpot XYZ="272.4193, 116.411, -648.6763" Radius="10" />
                        </HotSpots>
                    </UseItem>
                </If>
                <If Condition="GetQuestStep(68040) == 3">
                    <GetTo ZoneId="622" XYZ="418.265, 42.69929, -448.5389" /> <!-- Gosetsu -->
                    <HandOver ItemId="2002196" QuestId="68040" StepId="3" NpcId="1020547" XYZ="418.265, 42.69929, -448.5389" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68040) == 255">
                    <GetTo ZoneId="622" XYZ="484.4891, 40.21725, -469.5354" /> <!-- Cirina -->
                    <TurnIn QuestId="68040" ItemId="2002197" NpcId="1020501" XYZ="484.4891, 40.21725, -469.5354" />
                </If>
            </If>
        </If>
        <!-- The Heart of Nations -->
        <If Condition="not IsQuestCompleted(68041)">
            <If Condition="not HasQuest(68041)">
                <GetTo ZoneId="622" XYZ="484.4891, 40.21725, -469.5354" /> <!-- Cirina -->
                <If Condition="IsQuestAcceptQualified(68041)">
                    <PickupQuest NpcId="1020501" QuestId="68041" XYZ="484.4891, 40.21725, -469.5354" />
                </If>
            </If>

            <!-- [Complete Quests] -->

            <If Condition="HasQuest(68041)">
                <If Condition="GetQuestStep(68041) == 1">
                    <GetTo ZoneId="622" XYZ="542.1378, 40.4257, -500.5417" /> <!-- Dorbei -->
                    <TalkTo NpcId="1019396" XYZ="542.1378, 40.4257, -500.5417" QuestId="68041" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68041) == 2">
                    <GetTo ZoneId="622" XYZ="555.9625, 10.16016, -266.4683" /> <!-- Lyse -->
                    <TalkTo NpcId="1020549" XYZ="555.9625, 10.16016, -266.4683" QuestId="68041" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68041) == 3">
                    <GetTo ZoneId="622" XYZ="562.0354, 9.750427, -297.8103" /> <!-- Auburn Tuft -->
                    <UseObject NpcIds="2008245,2008246,2008248,2008247" QuestId="68041" StepId="3">
                        <HotSpots>
                            <HotSpot XYZ="562.0354, 9.750427, -297.8103" Radius="10" />
                            <HotSpot XYZ="641.7792, 5.996765, -355.6115" Radius="10" />
                            <HotSpot XYZ="729.3048, 6.301941, -355.1843" Radius="10" />
                            <HotSpot XYZ="692.5612, 3.494263, -273.9147" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>
                <If Condition="GetQuestStep(68041) == 4">
                    <GetTo ZoneId="622" XYZ="555.9625, 10.16016, -266.4683" /> <!-- Lyse -->
                    <HandOver ItemId="2002203" QuestId="68041" StepId="4" NpcId="1020549" XYZ="555.9625, 10.16016, -266.4683" />
                </If>
                <If Condition="GetQuestStep(68041) == 5">
                    <GetTo ZoneId="622" XYZ="484.4891, 40.21725, -469.5354" /> <!-- Cirina -->
                    <TalkTo NpcId="1020501" XYZ="484.4891, 40.21725, -469.5354" QuestId="68041" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68041) == 255">
                    <GetTo ZoneId="622" XYZ="485.2522, 40.32777, -472.1904" /> <!-- Hien -->
                    <TurnIn QuestId="68041" NpcId="1020544" XYZ="485.2522, 40.32777, -472.1904" />
                </If>
            </If>
        </If>
        <!-- A Trial Before the Trial -->
        <If Condition="not IsQuestCompleted(68042)">
            <If Condition="not HasQuest(68042)">
                <GetTo ZoneId="622" XYZ="485.2522, 40.32777, -472.1904" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68042)">
                    <PickupQuest NpcId="1020544" QuestId="68042" XYZ="485.2522, 40.32777, -472.1904" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68042)">
                <If Condition="GetQuestStep(68042) == 1">
                    <GetTo ZoneId="622" XYZ="420.4928, 42.47494, -439.0173" /> <!-- Lyse -->
                    <TalkTo NpcId="1020670" XYZ="420.4928, 42.47494, -439.0173" QuestId="68042" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68042) == 2">
                    <GetTo ZoneId="622" XYZ="291.2794, 46.15984, -417.9904" /> <!-- Lyse -->
                    <TalkTo NpcId="1020671" XYZ="291.2794, 46.15984, -417.9904" QuestId="68042" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68042) == 3">
                    <GetTo ZoneId="622" XYZ="223.2242, 49.66809, -426.1387" /> <!-- Destination -->
                    <UseObject NpcId="2008929" XYZ="223.2242, 49.66809, -426.1387" Radius="10" QuestId="68042" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68042) == 4">
                    <GetTo ZoneId="622" XYZ="-2.151611, 69.62067, -491.8746" /> <!-- Hien -->
                    <TalkTo NpcId="1020673" XYZ="-2.151611, 69.62067, -491.8746" QuestId="68042" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68042) == 5">
                    <GetTo ZoneId="622" XYZ="-250.5989, 76.1272, -486.717" /> <!-- Destination -->
                    <UseObject NpcId="2008930" XYZ="-250.5989, 76.1272, -486.717" Radius="10" QuestId="68042" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68042) == 255">
                    <GetTo ZoneId="622" XYZ="-507.805, 71.23162, -512.0775" /> <!-- Hien -->
                    <TurnIn QuestId="68042" NpcId="1020679" XYZ="-507.805, 71.23162, -512.0775" />
                </If>
            </If>
        </If>
        <!-- In the Footsteps of Bardam the Brave -->
        <If Condition="not IsQuestCompleted(68043)">
            <If Condition="not HasQuest(68043)">
                <GetTo ZoneId="622" XYZ="-507.805, 71.23162, -512.0775" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68043)">
                    <PickupQuest NpcId="1020679" QuestId="68043" XYZ="-507.805, 71.23162, -512.0775" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68043)">
                <If Condition="GetQuestStep(68043) == 1">
                    <GetTo ZoneId="622" XYZ="-506.8589, 71.39697, -517.5708" /> <!-- Entrance -->
                    <RunCode Name="In_the_Footsteps_of_Bardam_the_Brave" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68043) == 255">
                    <GetTo ZoneId="622" XYZ="-507.4998, 70.84219, -501.4573" /> <!-- Lyse -->
                    <TurnIn QuestId="68043" NpcId="1020682" XYZ="-507.4998, 70.84219, -501.4573" />
                </If>
            </If>
        </If>
        <!-- The Children of Azim -->
        <If Condition="not IsQuestCompleted(68044)">
            <If Condition="not HasQuest(68044)">
                <GetTo ZoneId="622" XYZ="-507.4998, 70.84219, -501.4573" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68044)">
                    <PickupQuest NpcId="1020682" QuestId="68044" XYZ="-507.4998, 70.84219, -501.4573" />
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(68044)">
                <If Condition="GetQuestStep(68044) == 255">
                    <GetTo ZoneId="622" XYZ="-39.41406, 122.1, 63.61487" /> <!-- Magnai -->
                    <TurnIn QuestId="68044" NpcId="1019417" XYZ="-39.41406, 122.1, 63.61487" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 66">
            <LogMessage Message="[Stormblood] You are not level 66 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 66..." />
            <GetTo ZoneId="622" XYZ="455.6394, 2.869291, 100.76" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_66" while="Core.Player.ClassLevel &lt; 66" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 66 quests..." />

        <!-- [Pickup Quests] -->

        <!-- The Labors of Magnai -->
        <If Condition="not IsQuestCompleted(68045)">
            <If Condition="not HasQuest(68045)">
                <GetTo ZoneId="622" XYZ="-29.52625, 121.0928, 70.29822" /> <!-- Baatu -->
                <If Condition="IsQuestAcceptQualified(68045)">
                    <PickupQuest NpcId="1022078" QuestId="68045" XYZ="-29.52625, 121.0928, 70.29822" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68045)">
                <If Condition="GetQuestStep(68045) == 1">
                    <GetTo ZoneId="622" XYZ="102.9221, 114.905, 70.66455" /> <!-- Baatu -->
                    <TalkTo NpcId="1020687" XYZ="102.9221, 114.905, 70.66455" QuestId="68045" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68045) == 2">
                    <GetTo ZoneId="622" XYZ="66.17834, 114.905, -8.072083" /> <!-- Oroniri Spearson -->
                    <TalkToPlus NpcId="1023089" XYZ="66.17834, 114.905, -8.072083" QuestId="68045" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68045) == 3">
                    <If Condition="not IsOnMap(622)">
                        <GetTo ZoneId="622" XYZ="174.4408, 1.986998, 41.29913" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(622) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(174.4408, 1.986998, 41.29913)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="174.4408, 1.986998, 41.29913" />
                    </If>
                    <If Condition="IsOnMap(622) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(174.4408, 1.986998, 41.29913)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(622) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(174.4408, -22.44484, 41.29913)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="166.5521, -63.91296, 27.48145" />
                        <UseObject NpcId="2008253" XYZ="166.5521, -63.91296, 27.48145" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="135.0788, -52.39502, -19.26896" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="134.7218, -62.69226, -18.78394" />
                        <UseObject NpcId="2008255" XYZ="134.7218, -62.69226, -18.78394" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="108.9828, -43.4652, -40.79337" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="109.575, -52.25513, -40.87891" />
                        <UseObject NpcId="2008250" XYZ="109.575, -52.25513, -40.87891" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="60.59496, -59.82993, 11.34094" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="61.02075, -76.09894, 11.12378" />
                        <UseObject NpcId="2008252" XYZ="61.02075, -76.09894, 11.12378" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="7.169428, -32.84428, -23.62068" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="-78.20251, -61.10535, 6.546082" />
                        <UseObject NpcId="2008254" XYZ="-78.20251, -61.10535, 6.546082" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-77.01186, -40.04366, 28.28206" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="-74.23517, -58.78595, 59.46436" />
                        <UseObject NpcId="2008251" XYZ="-74.23517, -58.78595, 59.46436" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="-126.2684, -55.64258, 93.43091" />
                        <UseObject NpcId="2008256" XYZ="-126.2684, -55.64258, 93.43091" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                        <MoveTo Name="Swordgrass Patch" Distance="0.1" UseMesh="False" XYZ="-194.2627, -58.66388, 105.9739" />
                        <UseObject NpcId="2008257" XYZ="-194.2627, -58.66388, 105.9739" UseTimes="1" Radius="10" QuestId="68045" StepId="3" />
                    </If>
                </If>
                <If Condition="GetQuestStep(68045) == 4">
                    <If Condition="IsOnMap(622) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-194.2627, -58.66388, 105.9739)) &lt; 5 and (MovementManager.IsDiving)">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="-194.3455, -19.48548, 105.9892" />
                        <RunCode Name="MoveForward" />
                        <WaitWhile Condition="(MovementManager.IsDiving)" />
                    </If>
                    <GetTo ZoneId="622" XYZ="102.9221, 114.905, 70.66455" /> <!-- Baatu -->
                    <HandOver ItemId="2002207" QuestId="68045" StepId="4" NpcId="1020687" XYZ="102.9221, 114.905, 70.66455" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68045) == 255">
                    <GetTo ZoneId="622" XYZ="-39.41406, 122.1, 63.61487" /> <!-- Magnai -->
                    <TurnIn QuestId="68045" NpcId="1019417" XYZ="-39.41406, 122.1, 63.61487" />
                </If>
            </If>
        </If>
        <!-- For Love of the Moon -->
        <If Condition="not IsQuestCompleted(68046)">
            <If Condition="not HasQuest(68046)">
                <GetTo ZoneId="622" XYZ="-31.20471, 121.1207, 62.08887" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68046)">
                    <PickupQuest NpcId="1021730" QuestId="68046" XYZ="-31.20471, 121.1207, 62.08887" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68046)">
                <If Condition="GetQuestStep(68046) == 1">
                    <GetTo ZoneId="622" XYZ="-31.47937, 114.905, -37.85767" /> <!-- Udutai -->
                    <TalkTo NpcId="1019426" XYZ="-31.47937, 114.905, -37.85767" QuestId="68046" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68046) == 2">
                    <GetTo ZoneId="622" XYZ="70.37789, 114.905, -18.16698" /> <!-- Lost Lamb -->
                    <UseObject NpcIds="1021601,1021602,1020691,1021600" QuestId="68046" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="69.047, 115.5948, -17.65472" Radius="10" />
                            <HotSpot XYZ="-8.1026, 114.905, 133.1654" Radius="10" />
                            <HotSpot XYZ="1.602173, 114.905, 96.42175" Radius="10" />
                            <HotSpot XYZ="-44.32751, 121, 36.69788" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>
                <If Condition="GetQuestStep(68046) == 3">
                    <GetTo ZoneId="622" XYZ="-31.47937, 114.905, -37.85767" /> <!-- Udutai -->
                    <TalkTo NpcId="1019426" XYZ="-31.47937, 114.905, -37.85767" QuestId="68046" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68046) == 4">
                    <GetTo ZoneId="622" XYZ="-28.21399, 114.905, -37.58301" /> <!-- Hien -->
                    <TalkTo NpcId="1020689" XYZ="-28.21399, 114.905, -37.58301" QuestId="68046" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68046) == 255">
                    <GetTo ZoneId="622" XYZ="-39.41406, 122.1, 63.61487" /> <!-- Magnai -->
                    <TurnIn QuestId="68046" NpcId="1019417" XYZ="-39.41406, 122.1, 63.61487" />
                </If>
            </If>
        </If>
        <!-- Sworn Enemies of the Sun -->
        <If Condition="not IsQuestCompleted(68047)">
            <If Condition="not HasQuest(68047)">
                <GetTo ZoneId="622" XYZ="-39.41406, 122.1, 63.61487" /> <!-- Magnai -->
                <If Condition="IsQuestAcceptQualified(68047)">
                    <PickupQuest NpcId="1019417" QuestId="68047" XYZ="-39.41406, 122.1, 63.61487" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68047)">
                <If Condition="GetQuestStep(68047) == 1">
                    <GetTo ZoneId="622" XYZ="63.70642, 114.905, 72.55664" /> <!-- Gosetsu -->
                    <TalkTo NpcId="1021605" XYZ="63.70642, 114.905, 72.55664" QuestId="68047" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68047) == 2">
                    <GetTo ZoneId="622" XYZ="-136.9572, 15.69579, 579.563" /> <!-- Lookout Spot -->
                    <Dismount />
                    <SendChat Message="/lookout" QuestId="68047" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68047) == 3">
                    <GetTo ZoneId="622" XYZ="-291.5847, 10.65852, 602.0142" /> <!-- Wounded Hunter -->
                    <TalkTo NpcId="1021608" XYZ="-291.5847, 10.65852, 602.0142" QuestId="68047" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68047) == 255">
                    <GetTo ZoneId="622" XYZ="-290.3334, 10.38987, 598.9928" /> <!-- Gosetsu -->
                    <TurnIn QuestId="68047" NpcId="1021625" XYZ="-290.3334, 10.38987, 598.9928" />
                </If>
            </If>
        </If>
        <!-- The Undying Ones -->
        <If Condition="not IsQuestCompleted(68048)">
            <If Condition="not HasQuest(68048)">
                <GetTo ZoneId="622" XYZ="-290.3334, 10.38987, 598.9928" /> <!-- Gosetsu -->
                <If Condition="IsQuestAcceptQualified(68048)">
                    <PickupQuest NpcId="1021625" QuestId="68048" XYZ="-290.3334, 10.38987, 598.9928" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68048)">
                <If Condition="GetQuestStep(68048) == 1">
                    <GetTo ZoneId="622" XYZ="-447.7455, 3.083955, 545.922" /> <!-- Sadu -->
                    <TalkTo NpcId="1021611" XYZ="-447.7455, 3.083955, 545.922" QuestId="68048" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68048) == 2">
                    <GetTo ZoneId="622" XYZ="-450.6142, 3.39788, 540.7339" /> <!-- Gosetsu -->
                    <TalkTo NpcId="1021613" XYZ="-450.6142, 3.39788, 540.7339" QuestId="68048" StepId="2" />
                </If>
                <While Condition="GetQuestStep(68048) == 3">
                    <GetTo ZoneId="622" XYZ="-435.2941, 2.267429, 582.2689" /> <!-- Koko -->
                    <TalkTo NpcId="1019320" XYZ="-435.2941, 2.267429, 582.2689" QuestId="68048" StepId="3" />
                    <TalkTo NpcId="1019322" XYZ="-411.6426, 2.24852, 617.1815" QuestId="68048" StepId="3" />
                    <TalkTo NpcId="1019321" XYZ="-473.0144, 2.320309, 616.907" QuestId="68048" StepId="3" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68048) == 255">
                    <GetTo ZoneId="622" XYZ="-399.0387, 2.257562, 599.2675" /> <!-- Gosetsu -->
                    <TurnIn QuestId="68048" NpcId="1021615" XYZ="-399.0387, 2.257562, 599.2675" />
                </If>
            </If>
        </If>
        <!-- A Final Peace -->
        <If Condition="not IsQuestCompleted(68049)">
            <If Condition="not HasQuest(68049)">
                <GetTo ZoneId="622" XYZ="-399.0387, 2.257562, 599.2675" /> <!-- Gosetsu -->
                <If Condition="IsQuestAcceptQualified(68049)">
                    <PickupQuest NpcId="1021615" QuestId="68049" XYZ="-399.0387, 2.257562, 599.2675" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68049)">
                <If Condition="GetQuestStep(68049) == 1">
                    <GetTo ZoneId="622" XYZ="-448.1422, 2.277143, 632.1354" /> <!-- Sadu -->
                    <TalkTo NpcId="1020280" XYZ="-448.1422, 2.277143, 632.1354" QuestId="68049" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68049) == 2">
                    <GetTo ZoneId="622" XYZ="-704.3717, 6.362976, 615.0759" /> <!-- Geser's Corpse -->
                    <UseObject NpcId="2008484" XYZ="-704.3717, 6.362976, 615.0759" Radius="10" QuestId="68049" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68049) == 255">
                    <GetTo ZoneId="622" XYZ="-705.5009, 6.554513, 613.1837" /> <!-- Gosetsu -->
                    <TurnIn QuestId="68049" NpcId="1021628" XYZ="-705.5009, 6.554513, 613.1837" />
                </If>
            </If>
        </If>
        <!-- As the Gods Will -->
        <If Condition="not IsQuestCompleted(68050)">
            <If Condition="not HasQuest(68050)">
                <GetTo ZoneId="622" XYZ="-705.5009, 6.554513, 613.1837" /> <!-- Gosetsu -->
                <If Condition="IsQuestAcceptQualified(68050)">
                    <PickupQuest NpcId="1021628" QuestId="68050" XYZ="-705.5009, 6.554513, 613.1837" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68050)">
                <If Condition="GetQuestStep(68050) == 1">
                    <GetTo ZoneId="622" XYZ="-39.41406, 122.1, 63.61487" /> <!-- Magnai -->
                    <TalkTo NpcId="1019417" XYZ="-39.41406, 122.1, 63.61487" QuestId="68050" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68050) == 2">
                    <GetTo ZoneId="622" XYZ="59.58643, 114.905, 72.3125" /> <!-- Hien -->
                    <TalkTo NpcId="1021630" XYZ="59.58643, 114.905, 72.3125" QuestId="68050" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68050) == 255">
                    <GetTo ZoneId="622" XYZ="498.2832, 40.8361, -508.2017" /> <!-- Cirina -->
                    <TurnIn QuestId="68050" NpcId="1020539" XYZ="498.2832, 40.8361, -508.2017" />
                </If>
            </If>
        </If>
        <!-- Naadam -->
        <If Condition="not IsQuestCompleted(68051)">
            <If Condition="not HasQuest(68051)">
                <GetTo ZoneId="622" XYZ="498.2832, 40.8361, -508.2017" /> <!-- Cirina -->
                <If Condition="IsQuestAcceptQualified(68051)">
                    <PickupQuest NpcId="1020539" QuestId="68051" XYZ="498.2832, 40.8361, -508.2017" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68051)">
                <While Condition="GetQuestStep(68051) == 1">
                    <GetTo ZoneId="622" XYZ="501.2131, 40.83608, -505.9129" /> <!-- Bujeg -->
                    <TalkTo NpcId="1019386" XYZ="501.2131, 40.83608, -505.9129" QuestId="68051" StepId="1" />
                    <TalkTo NpcId="1019388" XYZ="508.0491, 40.4257, -482.7802" QuestId="68051" StepId="1" />
                    <TalkToPlus NpcId="1021634" XYZ="547.0206, 38.87306, -484.2146" QuestId="68051" StepId="1" />
                    <TalkTo NpcId="1019396" XYZ="542.1378, 40.4257, -500.5417" QuestId="68051" StepId="1" />
                </While>
                <If Condition="GetQuestStep(68051) == 2">
                    <GetTo ZoneId="622" XYZ="496.5437, 40.85965, -510.5822" /> <!-- Temulun -->
                    <TalkTo NpcId="1019382" XYZ="496.5437, 40.85965, -510.5822" QuestId="68051" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68051) == 3">
                    <GetTo ZoneId="622" XYZ="498.2832, 40.8361, -508.2017" /> <!-- Cirina -->
                    <RunCode Name="Naadam" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Mobs constantly agro you and you cannot interact with the Ovoo. -->
                    <!-- Need to interrupt mobs that attempt to interact with the Ovoo in Phase 2. -->

                    <!-- TO DO -->

                    <ExtendedDuty InteractNpcId="1020539" XYZ="498.2832, 40.8361, -508.2017" QuestId="68051" StepId="3">
                        <HotSpots>
                            <HotSpot XYZ="205.08, 6.103643, -21.81046" Radius="5" /> <!-- Bridge -->
                            <HotSpot XYZ="248.7075, 10.6319, 210.4272" Radius="5" /> <!-- Near Collapsed Tent -->
                            <HotSpot XYZ="354, -0.7903441, 296.5" Radius="90" /> <!-- Ovoo -->
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="6336" Weight="16000" /> <!-- Stellar Chuluu -->
                            <TargetMob Id="6165" Weight="15000" /> <!-- Dotharli White Eye -->
                            <TargetMob Id="6172" Weight="14000" /> <!-- Doman Signifer -->
                            <TargetMob Id="6170" Weight="13000" /> <!-- Doman Hoplomachus -->
                            <TargetMob Id="6208" Weight="12000" /> <!-- Doman Laquierius -->
                            <TargetMob Id="6164" Weight="11000" /> <!-- Dotharli Spiritcaller -->
                            <TargetMob Id="6160" Weight="10000" /> <!-- Budugan Hunter -->
                            <TargetMob Id="6163" Weight="9000" /> <!-- Dotharli Hunter -->
                            <TargetMob Id="6159" Weight="8000" /> <!-- Budugan Warrior -->
                            <TargetMob Id="6162" Weight="7000" /> <!-- Dotharli Warrior -->
                            <TargetMob Id="6156" Weight="6000" /> <!-- Oroniri Warrior -->
                            <TargetMob Id="6158" Weight="5000" /> <!-- Oroniri Brother -->
                            <TargetMob Id="6152" Weight="4000" /> <!-- Sadu Heavensflame -->
                            <TargetMob Id="5562" Weight="3000" /> <!-- Armored Weapon -->
                            <TargetMob Id="5576" Weight="2000" /> <!-- Grynewaht -->
                            <TargetMob Id="6153" Weight="1000" /> <!-- Magnai the Older -->
                        </TargetMobs>
                    </ExtendedDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68051) == 255">
                    <GetTo ZoneId="622" XYZ="486.6864, 40.08099, -465.7206" /> <!-- Hien -->
                    <TurnIn QuestId="68051" NpcId="1020540" XYZ="486.6864, 40.08099, -465.7206" />
                </If>
            </If>
        </If>
        <!-- Naadam -->
        <If Condition="not IsQuestCompleted(68052)">
            <If Condition="not HasQuest(68052)">
                <GetTo ZoneId="622" XYZ="486.6864, 40.08099, -465.7206" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68052)">
                    <PickupQuest NpcId="1020540" QuestId="68052" XYZ="486.6864, 40.08099, -465.7206" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68052)">
                <If Condition="GetQuestStep(68052) == 1">
                    <GetTo ZoneId="622" XYZ="496.5437, 40.85965, -510.5822" /> <!-- Temulun -->
                    <TalkTo NpcId="1019382" XYZ="496.5437, 40.85965, -510.5822" QuestId="68052" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68052) == 2">
                    <GetTo ZoneId="622" XYZ="547.0206, 38.87306, -484.2146" /> <!-- Diligent Mol Warrior -->
                    <TalkTo NpcId="1021634" XYZ="547.0206, 38.87306, -484.2146" QuestId="68052" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68052) == 3">
                    <GetTo ZoneId="622" XYZ="545.981, 38.79732, -482.7913" /> <!-- Prince Warwick -->
                    <MoveTo Name="Mark of Mol Iloh" Distance="0.1" XYZ="545.981, 38.79732, -482.7913" />
                    <Dismount />
                    <SendChat Message="/victorypose" QuestId="68052" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68052) == 255">
                    <GetTo ZoneId="622" XYZ="498.2832, 40.8361, -508.2017" /> <!-- Cirina -->
                    <TurnIn QuestId="68052" NpcId="1020539" XYZ="498.2832, 40.8361, -508.2017" />
                </If>
            </If>
        </If>
        <!-- In Crimson They Walked -->
        <If Condition="not IsQuestCompleted(68053)">
            <If Condition="not HasQuest(68053)">
                <GetTo ZoneId="622" XYZ="495.1094, 40.83613, -508.5069" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68053)">
                    <PickupQuest NpcId="1021633" QuestId="68053" XYZ="495.1094, 40.83613, -508.5069" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68053)">
                <If Condition="GetQuestStep(68053) == 1">
                    <GetTo ZoneId="622" XYZ="-39.41406, 122.1, 63.61487" /> <!-- Magnai -->
                    <TalkTo NpcId="1019417" XYZ="-39.41406, 122.1, 63.61487" QuestId="68053" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68053) == 2">
                    <GetTo ZoneId="622" XYZ="-448.1422, 2.277143, 632.1354" /> <!-- Sadu -->
                    <TalkTo NpcId="1020280" XYZ="-448.1422, 2.277143, 632.1354" QuestId="68053" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68053) == 255">
                    <GetTo ZoneId="622" XYZ="-167.895, 0.8849516, 816.8002" /> <!-- Cirina -->
                    <TurnIn QuestId="68053" NpcId="1021646" XYZ="-167.895, 0.8849516, 816.8002" />
                </If>
            </If>
        </If>
        <!-- The Hour of Reckoning -->
        <If Condition="not IsQuestCompleted(68054)">
            <If Condition="not HasQuest(68054)">
                <GetTo ZoneId="622" XYZ="-169.482, 0.9213525, 817.0748" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68054)">
                    <PickupQuest NpcId="1021647" QuestId="68054" XYZ="-169.482, 0.9213525, 817.0748" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68054)">
                <If Condition="GetQuestStep(68054) == 1">
                    <GetTo ZoneId="614" XYZ="508.3237, 14.07267, -856.199" /> <!-- Gosetsu -->
                    <TalkTo NpcId="1021652" XYZ="508.3237, 14.07267, -856.199" QuestId="68054" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68054) == 2">
                    <GetTo ZoneId="614" XYZ="330.7698, 23.26653, -542.5651" /> <!-- Hien -->
                    <TalkTo NpcId="1021692" XYZ="330.7698, 23.26653, -542.5651" QuestId="68054" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68054) == 255">
                    <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68054" NpcId="1020519" XYZ="173.785, 5.16971, -417.4106" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 67">
            <LogMessage Message="[Stormblood] You are not level 67 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 67..." />
            <GetTo ZoneId="614" XYZ="365.873, -14.689, -726.9066" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_67" while="Core.Player.ClassLevel &lt; 67" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 67 quests..." />

        <!-- [Pickup Quests] -->

        <!-- The Room Where It Happened -->
        <If Condition="not IsQuestCompleted(68055)">
            <If Condition="not HasQuest(68055)">
                <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68055)">
                    <PickupQuest NpcId="1020519" QuestId="68055" XYZ="173.785, 5.16971, -417.4106" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68055)">
                <If Condition="GetQuestStep(68055) == 1">
                    <GetTo ZoneId="614" XYZ="173.2051, 5.191043, -433.2495" /> <!-- Hien -->
                    <TalkTo NpcId="1020524" XYZ="173.2051, 5.191043, -433.2495" QuestId="68055" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68055) == 2">
                    <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020519" XYZ="173.785, 5.16971, -417.4106" QuestId="68055" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68055) == 255">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <MoveTo Name="Tataru" XYZ="-1.571716, 0, -1.449646" />
                    <TurnIn QuestId="68055" NpcId="1023084" XYZ="-1.571716, 0, -1.449646" />
                </If>
            </If>
        </If>
        <!-- How Tataru Got Her Groove Back -->
        <If Condition="not IsQuestCompleted(68482)">
            <If Condition="not HasQuest(68482)">
                <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                    <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                </If>
                <If Condition="IsOnMap(628)">
                    <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                </If>
                <MoveTo Name="Tataru" XYZ="-1.571716, 0, -1.449646" />
                <If Condition="IsQuestAcceptQualified(68482)">
                    <PickupQuest NpcId="1023084" QuestId="68482" XYZ="-1.571716, 0, -1.449646" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68482)">
                <If Condition="GetQuestStep(68482) == 1">
                    <If Condition="IsOnMap(639)">
                        <UseTransport Name="Exit" InteractDistance="3.0" NpcId="2008134" XYZ="-0.01531982, 1.144348, 13.50421" />
                    </If>
                    <GetTo ZoneId="628" XYZ="-9.781128, 5.98258, -172.5338" /> <!-- Overworked Porter -->
                    <HandOver ItemId="2002379" QuestId="68482" StepId="1" NpcId="1020222" XYZ="-9.781128, 5.98258, -172.5338" />
                </If>
                <If Condition="GetQuestStep(68482) == 2">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <MoveTo Name="Tataru" XYZ="-1.571716, 0, -1.449646" />
                    <HandOver ItemId="2002174" QuestId="68482" StepId="2" NpcId="1023084" XYZ="-1.571716, 0, -1.449646" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68482) == 255">
                    <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68482" ItemId="2002175" NpcId="1020519" XYZ="173.785, 5.16971, -417.4106" />
                </If>
            </If>
        </If>
        <!-- Seeds of Despair -->
        <If Condition="not IsQuestCompleted(68056)">
            <If Condition="not HasQuest(68056)">
                <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68056)">
                    <PickupQuest NpcId="1020519" QuestId="68056" XYZ="173.785, 5.16971, -417.4106" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68056)">
                <If Condition="GetQuestStep(68056) == 1">
                    <GetTo ZoneId="614" XYZ="235.8586, 4.456162, -382.8031" /> <!-- Alisaie -->
                    <TalkTo NpcId="1020520" XYZ="235.8586, 4.456162, -382.8031" QuestId="68056" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68056) == 2">
                    <GetTo ZoneId="614" XYZ="280.9644, 16.00671, -641.413" /> <!-- Destination -->
                    <UseObject NpcId="2007923" XYZ="280.9644, 16.00671, -641.413" Radius="10" QuestId="68056" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68056) == 3">
                    <GetTo ZoneId="614" XYZ="284.1382, 6.729187, -792.6604" /> <!-- Destination -->
                    <UseObject NpcId="2007924" XYZ="284.1382, 6.729187, -792.6604" Radius="10" QuestId="68056" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68056) == 4">
                    <GetTo ZoneId="614" XYZ="462.6687, -3.460783, -799.3134" /> <!-- Alisaie -->
                    <TalkTo NpcId="1020228" XYZ="462.6687, -3.460783, -799.3134" QuestId="68056" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68056) == 5">
                    <GetTo ZoneId="614" XYZ="552.1476, 23.14088, -690.486" /> <!-- Haunted Elder -->
                    <TalkTo NpcId="1020230" XYZ="552.1476, 23.14088, -690.486" QuestId="68056" StepId="5" />
                </If>
                <If Condition="GetQuestStep(68056) == 6">
                    <GetTo ZoneId="614" XYZ="552.1476, 23.14088, -690.486" /> <!-- Haunted Elder -->
                    <WaitWhile Condition="GetQuestStep(68056) == 6" />
                </If>
                <If Condition="GetQuestStep(68056) == 7">
                    <GetTo ZoneId="614" XYZ="498.8326, 11.85682, -838.3459" /> <!-- Alisaie -->
                    <TalkTo NpcId="1020273" XYZ="498.8326, 11.85682, -838.3459" QuestId="68056" StepId="7" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68056) == 255">
                    <GetTo ZoneId="614" XYZ="235.8586, 4.456162, -382.8031" /> <!-- Alisaie -->
                    <TurnIn QuestId="68056" NpcId="1020520" XYZ="235.8586, 4.456162, -382.8031" />
                </If>
            </If>
        </If>
        <!-- The Limits of Our Endurance -->
        <If Condition="not IsQuestCompleted(68057)">
            <If Condition="not HasQuest(68057)">
                <GetTo ZoneId="614" XYZ="235.8586, 4.456162, -382.8031" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68057)">
                    <PickupQuest NpcId="1020520" QuestId="68057" XYZ="235.8586, 4.456162, -382.8031" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68057)">
                <If Condition="GetQuestStep(68057) == 1">
                    <GetTo ZoneId="614" XYZ="188.342, 5.069492, -414.9996" /> <!-- Lyse -->
                    <TalkTo NpcId="1020521" XYZ="188.342, 5.069492, -414.9996" QuestId="68057" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68057) == 2">
                    <GetTo ZoneId="614" XYZ="442.6489, 58.86776, -171.313" /> <!-- Isse -->
                    <TalkTo NpcId="1023092" XYZ="442.6489, 58.86776, -171.313" QuestId="68057" StepId="2" />
                </If>

                <!-- [Complete Quest] -->

                <If Condition="GetQuestStep(68057) == 255">
                    <GetTo ZoneId="614" XYZ="337.2701, 31.03499, 206.4392" /> <!-- Tsuranuki -->
                    <TurnIn QuestId="68057" NpcId="1020232" XYZ="337.2701, 31.03499, 206.4392" />
                </If>
            </If>
        </If>
        <!-- Broken Steel, Broken Men -->
        <If Condition="not IsQuestCompleted(68483)">
            <If Condition="not HasQuest(68483)">
                <GetTo ZoneId="614" XYZ="337.2701, 31.03499, 206.4392" /> <!-- Tsuranuki -->
                <If Condition="IsQuestAcceptQualified(68483)">
                    <PickupQuest NpcId="1020232" QuestId="68483" XYZ="337.2701, 31.03499, 206.4392" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68483)">
                <If Condition="GetQuestStep(68483) == 1">
                    <GetTo ZoneId="614" XYZ="164.9957, 6.271362, 357.8087" /> <!-- Abandoned Magitek -->
                    <GroundTargeting Name="Abandoned Magitek" XYZ="164.9957, 6.271362, 357.8087" NpcId="2007926" ItemId="2002176" Condition="GetQuestStep(68483) == 1" />
                </If>
                <If Condition="GetQuestStep(68483) == 2">
                    <GetTo ZoneId="614" XYZ="170.55, 6.637634, 360.1281" /> <!-- Armor Plating -->
                    <UseObject NpcIds="2007928,2007930,2007929" QuestId="68483" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="170.55, 6.637634, 360.1281" Radius="10" />
                            <HotSpot XYZ="165.6062, 4.348816, 349.3857" Radius="10" />
                            <HotSpot XYZ="157.6104, 6.637634, 357.0153" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>
                <If Condition="GetQuestStep(68483) == 3">
                    <GetTo ZoneId="614" XYZ="40.72632, 5.447388, 301.0757" /> <!-- Abandoned Magitek -->
                    <GroundTargeting Name="Abandoned Magitek" XYZ="40.72632, 5.447388, 301.0757" NpcId="2007927" ItemId="2002176" Condition="GetQuestStep(68483) == 3" />
                </If>
                <If Condition="GetQuestStep(68483) == 4">
                    <GetTo ZoneId="614" XYZ="37.67456, 5.020142, 295.1858" /> <!-- Armor Plating -->
                    <UseObject NpcIds="2008192,2008193,2008189,2008188,2008191,2008190" QuestId="68483" StepId="4">
                        <HotSpots>
                            <HotSpot XYZ="37.67456, 5.020142, 295.1858" Radius="10" />
                            <HotSpot XYZ="44.87671, 5.386414, 293.5988" Radius="10" />
                            <HotSpot XYZ="48.78308, 5.599976, 294.0261" Radius="10" />
                            <HotSpot XYZ="49.75964, 5.966248, 301.0757" Radius="10" />
                            <HotSpot XYZ="41.67236, 5.416931, 308.9188" Radius="10" />
                            <HotSpot XYZ="33.82922, 4.806519, 308.5221" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68483) == 255">
                    <GetTo ZoneId="614" XYZ="337.2701, 31.03499, 206.4392" /> <!-- Tsuranuki -->
                    <TurnIn QuestId="68483" ItemId="2002177" NpcId="1020232" XYZ="337.2701, 31.03499, 206.4392" />
                </If>
            </If>
        </If>
        <!-- The Doma Within -->
        <If Condition="not IsQuestCompleted(68058)">
            <If Condition="not HasQuest(68058)">
                <GetTo ZoneId="614" XYZ="336.9343, 31.12357, 203.479" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68058)">
                    <PickupQuest NpcId="1020234" QuestId="68058" XYZ="336.9343, 31.12357, 203.479" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68058)">
                <While Condition="GetQuestStep(68058) == 1">
                    <GetTo ZoneId="614" XYZ="233.6003, 5.251857, -425.3758" /> <!-- Kaidate -->
                    <TalkTo NpcId="1019286" XYZ="233.6003, 5.251857, -425.3758" QuestId="68058" StepId="1" />
                    <TalkTo NpcId="1019287" XYZ="196.5514, 5.169405, -410.6661" QuestId="68058" StepId="1" />
                    <TalkTo NpcId="1019285" XYZ="195.6359, 5.16971, -437.2473" QuestId="68058" StepId="1" />
                </While>
                <If Condition="GetQuestStep(68058) == 2">
                    <GetTo ZoneId="614" XYZ="174.731, 5.196835, -432.578" /> <!-- Hien -->
                    <TalkTo NpcId="1023083" XYZ="174.731, 5.196835, -432.578" QuestId="68058" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68058) == 3">
                    <GetTo ZoneId="614" XYZ="-74.78448, 53.21751, -522.301" /> <!-- Hien -->
                    <TalkTo NpcId="1020237" XYZ="-74.78448, 53.21751, -522.301" QuestId="68058" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68058) == 4">
                    <GetTo ZoneId="614" XYZ="-156.2371, 53.21751, -621.912" /> <!-- Hien -->
                    <TalkTo NpcId="1020238" XYZ="-156.2371, 53.21751, -621.912" QuestId="68058" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68058) == 5">
                    <GetTo ZoneId="614" XYZ="-246.2654, 53.20813, -515.9534" /> <!-- Sheathed Katana -->
                    <UseObject NpcId="2007931" XYZ="-246.2654, 53.20813, -515.9534" Radius="10" QuestId="68058" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68058) == 255">
                    <GetTo ZoneId="614" XYZ="-291.4321, 53.21751, -614.313" /> <!-- Hien -->
                    <TurnIn QuestId="68058" ItemId="2002178" NpcId="1020239" XYZ="-291.4321, 53.21751, -614.313" />
                </If>
            </If>
        </If>
        <!-- On the Eve of Destiny -->
        <If Condition="not IsQuestCompleted(68059)">
            <If Condition="not HasQuest(68059)">
                <GetTo ZoneId="614" XYZ="-291.4321, 53.21751, -614.313" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68059)">
                    <PickupQuest NpcId="1020239" QuestId="68059" XYZ="-291.4321, 53.21751, -614.313" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68059)">
                <If Condition="GetQuestStep(68059) == 1">
                    <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020519" XYZ="173.785, 5.16971, -417.4106" QuestId="68059" StepId="1" />
                </If>
                <While Condition="GetQuestStep(68059) == 2">
                    <GetTo ZoneId="614" XYZ="177.203, 5.169708, -416.1594" /> <!-- Yugiri -->
                    <TalkTo NpcId="1020523" XYZ="177.203, 5.169708, -416.1594" QuestId="68059" StepId="2" />
                    <TalkTo NpcId="1020521" XYZ="188.342, 5.069492, -414.9996" QuestId="68059" StepId="2" />
                    <TalkTo NpcId="1020240" XYZ="234.1191, 5.696633, -427.1153" QuestId="68059" StepId="2" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68059) == 255">
                    <GetTo ZoneId="614" XYZ="173.785, 5.16971, -417.4106" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68059" NpcId="1020519" XYZ="173.785, 5.16971, -417.4106" />
                </If>
            </If>
        </If>
        <!-- The Die Is Cast -->
        <If Condition="not IsQuestCompleted(68060)">
            <If Condition="not HasQuest(68060)">
                <GetTo ZoneId="614" XYZ="173.2051, 5.191043, -433.2495" /> <!-- Hien -->
                <If Condition="IsQuestAcceptQualified(68060)">
                    <PickupQuest NpcId="1020524" QuestId="68060" XYZ="173.2051, 5.191043, -433.2495" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68060)">
                <If Condition="GetQuestStep(68060) == 1">
                    <GetTo ZoneId="614" XYZ="-162.707, 53.20813, -558.8007" /> <!-- Destination -->
                    <UseObject NpcId="2007932" XYZ="-162.707, 53.20813, -558.8007" Radius="10" QuestId="68060" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68060) == 2">
                    <GetTo ZoneId="614" XYZ="-241.9929, 53.21751, -653.193" /> <!-- Hien -->
                    <TalkTo NpcId="1020244" XYZ="-241.9929, 53.21751, -653.193" QuestId="68060" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68060) == 3">
                    <GetTo ZoneId="614" XYZ="-366.3844, 1.230052, -362.5086" /> <!-- Blue Skiff Captain -->
                    <TalkTo NpcId="1020247" XYZ="-366.3844, 1.230052, -362.5086" QuestId="68060" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68060) == 4">
                    <GetTo ZoneId="614" XYZ="-366.3844, 1.230052, -362.5086" /> <!-- Entrance -->
                    <RunCode Name="The_Die_Is_Cast" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68060) == 255">
                    <GetTo ZoneId="614" XYZ="-390.28, 30.64617, -455.8633" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68060" NpcId="1020248" XYZ="-390.28, 30.64617, -455.8633" />
                </If>
            </If>
        </If>
        <!-- The World Turned Upside Down -->
        <If Condition="not IsQuestCompleted(68061)">
            <If Condition="not HasQuest(68061)">
                <GetTo ZoneId="614" XYZ="-390.28, 30.64617, -455.8633" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68061)">
                    <PickupQuest NpcId="1020248" QuestId="68061" XYZ="-390.28, 30.64617, -455.8633" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68061)">
                <If Condition="GetQuestStep(68061) == 1">
                    <GetTo ZoneId="614" XYZ="-349.0502, 1.230036, -343.8621" /> <!-- Tansui -->
                    <TalkTo NpcId="1020255" XYZ="-349.0502, 1.230036, -343.8621" QuestId="68061" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68061) == 2">
                    <WaitWhile Condition="GetQuestStep(68061) == 2" />
                </If>
                <If Condition="GetQuestStep(68061) == 3">
                    <If Condition="not IsOnMap(614) and not IsOnMap(682)">
                        <GetTo ZoneId="614" XYZ="-462.3942, 1.230005, 546.1356" /> <!-- Alphinaud -->
                    </If>
                    <If Condition="IsOnMap(682)">
                        <UseTransport Name="Enclave Skiff Captain" InteractDistance="3.0" NpcId="1020644" XYZ="147.4784, -4.178713, 50.5531" />
                    </If> 
                    <GetTo ZoneId="614" XYZ="-462.3942, 1.230005, 546.1356" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020258" XYZ="-462.3942, 1.230005, 546.1356" QuestId="68061" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68061) == 4">
                    <GetTo ZoneId="614" XYZ="-472.1295, 1.230624, 557.0916" /> <!-- Rasho -->
                    <TalkTo NpcId="1020263" XYZ="-472.1295, 1.230624, 557.0916" QuestId="68061" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68061) == 255">
                    <GetTo ZoneId="628" XYZ="-175.9213, -7.000108, 53.81848" /> <!-- Rasho -->
                    <TurnIn QuestId="68061" NpcId="1020265" XYZ="-175.9213, -7.000108, 53.81848" />
                </If>
            </If>
        </If>
        <!-- A Swift and Secret Departure -->
        <If Condition="not IsQuestCompleted(68062)">
            <If Condition="not HasQuest(68062)">
                <GetTo ZoneId="628" XYZ="-171.5572, -7.000024, 55.52759" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68062)">
                    <PickupQuest NpcId="1020267" QuestId="68062" XYZ="-171.5572, -7.000024, 55.52759" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68062)">
                <If Condition="GetQuestStep(68062) == 1">
                    <If Condition="not IsOnMap(628) and not IsOnMap(639)">
                        <GetTo ZoneId="628" XYZ="151.2254, 14.77572, 93.92749" /> <!-- East Aldenard Trading Company Aide -->
                    </If>
                    <If Condition="IsOnMap(628)">
                        <UseTransport Name="East Aldenard Trading Company Aide" InteractDistance="3.0" NpcId="1019070" XYZ="151.2017, 14.77572, 95.78088" />
                    </If>
                    <WaitWhile Condition="GetQuestStep(68062) == 1" />
                </If>
                <If Condition="GetQuestStep(68062) == 2">
                    <If Condition="IsOnMap(639)">
                        <UseTransport Name="Exit" InteractDistance="3.0" NpcId="2008134" XYZ="-0.01531982, 1.144348, 13.50421" />
                    </If>
                    <GetTo ZoneId="628" XYZ="-88.91437, -6.999999, -56.26001" /> <!-- Tataru -->
                    <TalkTo NpcId="1020270" XYZ="-88.91437, -6.999999, -56.26001" QuestId="68062" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68062) == 255">
                    <GetTo ZoneId="129" XYZ="-355.5811, 8.000015, 40.78735" /> <!-- Lyse -->
                    <TurnIn QuestId="68062" NpcId="1020441" XYZ="-355.5811, 8.000015, 40.78735" />
                </If>
            </If>
        </If>
        <!-- While You Were Away -->
        <If Condition="not IsQuestCompleted(68063)">
            <If Condition="not HasQuest(68063)">
                <GetTo ZoneId="129" XYZ="-355.5505, 7.999909, 38.71204" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68063)">
                    <PickupQuest NpcId="1020439" QuestId="68063" XYZ="-355.5505, 7.999909, 38.71204" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68063)">
                <If Condition="GetQuestStep(68063) == 1">
                    <GetTo ZoneId="612" XYZ="-612.665, 130.1472, -480.3693" /> <!-- Thancred -->
                    <TalkTo NpcId="1020553" XYZ="-612.665, 130.1472, -480.3693" QuestId="68063" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68063) == 2">
                    <GetTo ZoneId="612" XYZ="-473.1671, 98.58289, -349.0502" /> <!-- Conrad -->
                    <TalkTo NpcId="1020401" XYZ="-473.1671, 98.58289, -349.0502" QuestId="68063" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68063) == 255">
                    <GetTo ZoneId="612" XYZ="-605.2186, 130, -506.2486" /> <!-- Pipin -->
                    <TurnIn QuestId="68063" NpcId="1020354" XYZ="-605.2186, 130, -506.2486" />
                </If>
            </If>
        </If>
        <!-- Rhalgr's Beacon -->
        <If Condition="not IsQuestCompleted(68064)">
            <If Condition="not HasQuest(68064)">
                <GetTo ZoneId="612" XYZ="-606.7445, 130, -506.9505" /> <!-- Raubahn -->
                <If Condition="IsQuestAcceptQualified(68064)">
                    <PickupQuest NpcId="1020304" QuestId="68064" XYZ="-606.7445, 130, -506.9505" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68064)">
                <If Condition="GetQuestStep(68064) == 1">
                    <GetTo ZoneId="635" XYZ="170.9163, 13.02367, -91.38635" /> <!-- Conrad -->
                    <TalkTo NpcId="1019466" XYZ="170.9163, 13.02367, -91.38635" QuestId="68064" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68064) == 2">
                    <If Condition="not IsTodoChecked(68064, 2, 0)">
                        <GetTo ZoneId="635" XYZ="22.35443, -0.3382917, 3.738403" /> <!-- Swarthy Resistance Fighter -->
                        <TalkTo NpcId="1023298" XYZ="22.35443, -0.3382917, 3.738403" QuestId="68064" StepId="2" />
                    </If>
                    <If Condition="not IsTodoChecked(68064, 2, 1)">
                        <GetTo ZoneId="635" XYZ="133.8673, 0.6520414, 8.926453" /> <!-- Ala Mhigan Brigade Officer -->
                        <TalkTo NpcId="1023762" XYZ="133.8673, 0.6520414, 8.926453" QuestId="68064" StepId="2" />
                    </If>
                    <If Condition="not IsTodoChecked(68064, 2, 2)">
                        <GetTo ZoneId="635" XYZ="13.50421, -0.4580353, 121.8738" /> <!-- Hot-blooded Youth -->
                        <TalkTo NpcId="1023763" XYZ="13.50421, -0.4580353, 121.8738" QuestId="68064" StepId="2" />
                    </If>
                </If>
                <If Condition="GetQuestStep(68064) == 3">
                    <GetTo ZoneId="635" XYZ="170.9163, 13.02367, -91.38635" /> <!-- Conrad -->
                    <TalkTo NpcId="1019466" XYZ="170.9163, 13.02367, -91.38635" QuestId="68064" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68064) == 4">
                    <GetTo ZoneId="612" XYZ="-188.861, 43.21984, -149.5842" /> <!-- Conrad -->
                    <SimpleDuty InteractNpcId="1020559" XYZ="-188.861, 43.21984, -149.5842" QuestId="68064" StepId="4">
                        <HotSpots>
                            <HotSpot XYZ="-183.339, 40.43695, -17.63987" Radius="90" />
                            <HotSpot XYZ="-158.1034, 39.09669, 168.8641" Radius="90" />
                            <HotSpot XYZ="-195.2068, 38.70842, 149.5496" Radius="90" />
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="5953" Weight="5000" /> <!-- Fordola rem Lupis -->
                            <TargetMob Id="5972" Weight="4000" /> <!-- 12th Legion Predator -->
                            <TargetMob Id="5969" Weight="3000" /> <!-- 12th Legion Signifer -->
                            <TargetMob Id="5968" Weight="2000" /> <!-- 12th Legion Hoplomachus -->
                            <TargetMob Id="5973" Weight="1000" /> <!-- Mark XLIII Artillery Cannon -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>
                <If Condition="GetQuestStep(68064) == 5">
                    <WaitWhile Condition="GetQuestStep(68064) == 5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68064) == 255">
                    <GetTo ZoneId="612" XYZ="-91.23376, 50.00444, 187.8538" /> <!-- Lyse -->
                    <TurnIn QuestId="68064" NpcId="1020567" XYZ="-91.23376, 50.00444, 187.8538" />
                </If>
            </If>
        </If>
        <!-- The Fortunes of War -->
        <If Condition="not IsQuestCompleted(68065)">
            <If Condition="not HasQuest(68065)">
                <GetTo ZoneId="612" XYZ="-92.42395, 50.00444, 185.6565" /> <!-- Conrad -->
                <If Condition="IsQuestAcceptQualified(68065)">
                    <PickupQuest NpcId="1020568" QuestId="68065" XYZ="-92.42395, 50.00444, 185.6565" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68065)">
                <While Condition="GetQuestStep(68065) == 1">
                    <GetTo ZoneId="612" XYZ="-244.3787, 52.18894, 25.8173" /> <!-- Imperial Army -->
                    <MoveTo Name="Imperial Army" XYZ="-507.0588, 56.85989, 174.8547" />
                    <WaitTimer WaitTime="3" />
                </While>
                <If Condition="GetQuestStep(68065) == 2">
                    <GetTo ZoneId="612" XYZ="-386.2822, 54.22198, -27.17633" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020574" XYZ="-386.2822, 54.22198, -27.17633" QuestId="68065" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68065) == 255">
                    <GetTo ZoneId="612" XYZ="-92.42395, 50.00444, 185.6565" /> <!-- Conrad -->
                    <TurnIn QuestId="68065" NpcId="1020568" XYZ="-92.42395, 50.00444, 185.6565" />
                </If>
            </If>
        </If>
        <!-- Rising Fortunes, Rising Spirits -->
        <If Condition="not IsQuestCompleted(68066)">
            <If Condition="not HasQuest(68066)">
                <GetTo ZoneId="612" XYZ="-92.42395, 50.00444, 185.6565" /> <!-- Conrad -->
                <If Condition="IsQuestAcceptQualified(68066)">
                    <PickupQuest NpcId="1020568" QuestId="68066" XYZ="-92.42395, 50.00444, 185.6565" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68066)">
                <If Condition="GetQuestStep(68066) == 1">
                    <GetTo ZoneId="612" XYZ="-90.68439, 50.00444, 210.4677" /> <!-- Resistance Guard -->
                    <TalkToPlus NpcId="1020573" XYZ="-90.68439, 50.00444, 210.4677" QuestId="68066" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68066) == 2">
                    <GetTo ZoneId="612" XYZ="374.8989, 44.79309, 273.7621" /> <!-- Lyse -->
                    <TalkTo NpcId="1022327" XYZ="374.8989, 44.79309, 273.7621" QuestId="68066" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68066) == 255">
                    <GetTo ZoneId="612" XYZ="426.5659, 114.5499, 221.7898" /> <!-- M'naago -->
                    <TurnIn QuestId="68066" NpcId="1020578" XYZ="426.5659, 114.5499, 221.7898" />
                </If>
            </If>
        </If>
        <!-- The Lure of the Dream -->
        <If Condition="not IsQuestCompleted(68067)">
            <If Condition="not HasQuest(68067)">
                <GetTo ZoneId="612" XYZ="451.5297, 114.3732, 236.408" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68067)">
                    <PickupQuest NpcId="1020580" QuestId="68067" XYZ="451.5297, 114.3732, 236.408" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68067)">
                <If Condition="GetQuestStep(68067) == 1">
                    <GetTo ZoneId="612" XYZ="327.5348, 83.45976, -103.0747" /> <!-- Sarisha -->
                    <TalkTo NpcId="1020817" XYZ="327.5348, 83.45976, -103.0747" QuestId="68067" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68067) == 255">
                    <GetTo ZoneId="612" XYZ="334.1267, 82.94969, -101.2742" /> <!-- Vajra -->
                    <TurnIn QuestId="68067" NpcId="1020827" XYZ="334.1267, 82.94969, -101.2742" />
                </If>
            </If>
        </If>
        <!-- The Lady of Bliss -->
        <If Condition="not IsQuestCompleted(68068)">
            <If Condition="not HasQuest(68068)">
                <GetTo ZoneId="612" XYZ="334.1267, 82.94969, -101.2742" /> <!-- Vajra -->
                <If Condition="IsQuestAcceptQualified(68068)">
                    <PickupQuest NpcId="1020827" QuestId="68068" XYZ="334.1267, 82.94969, -101.2742" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68068)">
                <If Condition="GetQuestStep(68068) == 1">
                    <GetTo ZoneId="612" XYZ="510.7958, 122.307, -239.643" /> <!-- Vajra -->
                    <TalkTo NpcId="1020589" XYZ="510.7958, 122.307, -239.643" QuestId="68068" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68068) == 2">
                    <GetTo ZoneId="612" XYZ="804.5929, 179.7054, -304.7075" /> <!-- Djanan Aetheryte -->
                    <UseObject NpcId="2008200" XYZ="804.5929, 179.7054, -304.7075" Radius="10" QuestId="68068" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68068) == 3">
                    <WaitWhile Condition="GetQuestStep(68068) == 3" />
                </If>
                <If Condition="GetQuestStep(68068) == 4">
                    <If Condition="not IsOnMap(612) and not IsOnMap(683)">
                        <GetTo ZoneId="612" XYZ="804.5929, 179.7054, -304.7075" /> <!-- Djanan Aetheryte -->
                    </If>
                    <If Condition="IsOnMap(612)">
                        <UseTransport Name="Djanan Aetheryte" InteractDistance="3.0" NpcId="2008200" XYZ="804.5929, 179.7054, -304.7075" />
                    </If>
                    <MoveTo Name="Alisaie" XYZ="2.365112, -5.169944, -13.26007" />
                    <TalkTo NpcId="1020593" XYZ="2.365112, -5.169944, -13.26007" QuestId="68068" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68068) == 255">
                    <GetTo ZoneId="612" XYZ="509.3918, 122.138, -242.1455" /> <!-- Lyse -->
                    <TurnIn QuestId="68068" NpcId="1020592" XYZ="509.3918, 122.138, -242.1455" />
                </If>
            </If>
        </If>
        <!-- The Silence of the Gods -->
        <If Condition="not IsQuestCompleted(68069)">
            <If Condition="not HasQuest(68069)">
                <GetTo ZoneId="612" XYZ="510.7958, 122.307, -239.643" /> <!-- Vajra -->
                <If Condition="IsQuestAcceptQualified(68069)">
                    <PickupQuest NpcId="1020589" QuestId="68069" XYZ="510.7958, 122.307, -239.643" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68069)">
                <If Condition="GetQuestStep(68069) == 1">
                    <GetTo ZoneId="612" XYZ="327.5348, 83.45976, -103.0747" /> <!-- Sarisha -->
                    <TalkTo NpcId="1020817" XYZ="327.5348, 83.45976, -103.0747" QuestId="68069" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68069) == 2">
                    <GetTo ZoneId="612" XYZ="426.5659, 114.5499, 221.7898" /> <!-- M'naago -->
                    <TalkTo NpcId="1020578" XYZ="426.5659, 114.5499, 221.7898" QuestId="68069" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68069) == 3">
                    <GetTo ZoneId="612" XYZ="426.5659, 114.5499, 221.7898" /> <!-- M'naago -->
                    <TalkTo NpcId="1020578" XYZ="426.5659, 114.5499, 221.7898" QuestId="68069" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68069) == 255">
                    <GetTo ZoneId="612" XYZ="424.7349, 114.6093, 222.1865" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68069" NpcId="1020596" XYZ="424.7349, 114.6093, 222.1865" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 68">
            <LogMessage Message="[Stormblood] You are not level 68 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 68..." />
            <GetTo ZoneId="612" XYZ="468.349, 40.89669, 329.4955" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_68" while="Core.Player.ClassLevel &lt; 68" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 68 quests..." />

        <!-- Level 68 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67948)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(68429)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(68127)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(68454)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(68449)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(68444)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67965)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(68487)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(68110)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.RedMage and not IsQuestCompleted(68122)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Samurai and not IsQuestCompleted(68105)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(68462)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(68164)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(68439)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67953)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>

        <!-- [Pickup Quests] -->

        <!-- The First of Many -->
        <If Condition="not IsQuestCompleted(68070)">
            <If Condition="not HasQuest(68070)">
                <GetTo ZoneId="612" XYZ="424.7349, 114.6093, 222.1865" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68070)">
                    <PickupQuest NpcId="1020596" QuestId="68070" XYZ="424.7349, 114.6093, 222.1865" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68070)">
                <If Condition="GetQuestStep(68070) == 1">
                    <GetTo ZoneId="612" XYZ="845.8839, 86.0183, 361.9287" /> <!-- Alliance Recruit -->
                    <TalkTo NpcId="1022334" XYZ="845.8839, 86.0183, 361.9287" QuestId="68070" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68070) == 2">
                    <WaitWhile Condition="GetQuestStep(68070) == 2" />
                </If>
                <If Condition="GetQuestStep(68070) == 3">
                    <GetTo ZoneId="620" XYZ="-601.4649, 323.9936, 179.7054" /> <!-- M'naago -->
                    <TalkTo NpcId="1020599" XYZ="-601.4649, 323.9936, 179.7054" QuestId="68070" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68070) == 255">
                    <GetTo ZoneId="620" XYZ="-286.7323, 256.9996, 696.2233" /> <!-- M'naago -->
                    <TurnIn QuestId="68070" NpcId="1020600" XYZ="-286.7323, 256.9996, 696.2233" />
                </If>
            </If>
        </If>
        <!-- Strong and Unified -->
        <If Condition="not IsQuestCompleted(68071)">
            <If Condition="not HasQuest(68071)">
                <GetTo ZoneId="620" XYZ="-286.7323, 256.9996, 696.2233" /> <!-- M'naago -->
                <If Condition="IsQuestAcceptQualified(68071)">
                    <PickupQuest NpcId="1020600" QuestId="68071" XYZ="-286.7323, 256.9996, 696.2233" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68071)">
                <If Condition="GetQuestStep(68071) == 1">
                    <GetTo ZoneId="620" XYZ="-299.3973, 257.5265, 770.7484" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020604" XYZ="-299.3973, 257.5265, 770.7484" QuestId="68071" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68071) == 255">
                    <GetTo ZoneId="620" XYZ="-297.4747, 257.5265, 765.3162" /> <!-- Alisaie -->
                    <TurnIn QuestId="68071" NpcId="1020630" XYZ="-297.4747, 257.5265, 765.3162" />
                </If>
            </If>
        </If>
        <!-- Hells Open -->
        <If Condition="not IsQuestCompleted(68072)">
            <If Condition="not HasQuest(68072)">
                <GetTo ZoneId="620" XYZ="-297.4747, 257.5265, 765.3162" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68072)">
                    <PickupQuest NpcId="1020630" QuestId="68072" XYZ="-297.4747, 257.5265, 765.3162" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68072)">
                <If Condition="GetQuestStep(68072) == 1">
                    <GetTo ZoneId="620" XYZ="-549.7368, 257.3739, 557.6714" /> <!-- Destination -->
                    <UseObject NpcIds="2008202,2008203" QuestId="68072" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="-549.7368, 257.3739, 557.6714" Radius="10" />
                            <HotSpot XYZ="-460.9293, 295.5825, 256.0005" Radius="10" />
                        </HotSpots>
                    </UseObject>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68072) == 255">
                    <GetTo ZoneId="620" XYZ="-346.1509, 305.933, 149.0348" /> <!-- Alisaie -->
                    <TurnIn QuestId="68072" NpcId="1020608" XYZ="-346.1509, 305.933, 149.0348" />
                </If>
            </If>
        </If>
        <!-- Heavens Weep -->
        <If Condition="not IsQuestCompleted(68073)">
            <If Condition="not HasQuest(68073)">
                <GetTo ZoneId="620" XYZ="-346.1509, 305.933, 149.0348" /> <!-- Alisaie -->
                <If Condition="IsQuestAcceptQualified(68073)">
                    <PickupQuest NpcId="1020608" QuestId="68073" XYZ="-346.1509, 305.933, 149.0348" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68073)">
                <If Condition="GetQuestStep(68073) == 1">
                    <GetTo ZoneId="620" XYZ="-134.2642, 305.2497, 187.7927" /> <!-- Alisaie -->
                    <TalkTo NpcId="1020609" XYZ="-134.2642, 305.2497, 187.7927" QuestId="68073" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68073) == 2">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-128.9846, 306.4774, 188.5862" /> <!-- Cermet Bulkhead -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008944" XYZ="-128.9846, 306.4774, 188.5862" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-77.25653, 305.9266, 154.0093" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020610" XYZ="-77.25653, 305.9266, 154.0093" QuestId="68073" StepId="2" />
                </If>
                <While Condition="GetQuestStep(68073) == 3">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-128.9846, 306.4774, 188.5862" /> <!-- Cermet Bulkhead -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008944" XYZ="-128.9846, 306.4774, 188.5862" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-15.27429, 317.6182, 134.9354" /> <!-- Wounded Serpent Soldier -->
                    <TalkTo NpcId="1020617" XYZ="-15.27429, 317.6182, 134.9354" QuestId="68073" StepId="3" />
                    <TalkTo NpcId="1020618" XYZ="-17.50214, 317.6677, 114.3969" QuestId="68073" StepId="3" />
                    <TalkTo NpcId="1020619" XYZ="0.289917, 317.5684, 105.577" QuestId="68073" StepId="3" />
                </While>
                <If Condition="GetQuestStep(68073) == 4">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-128.9846, 306.4774, 188.5862" /> <!-- Cermet Bulkhead -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008944" XYZ="-128.9846, 306.4774, 188.5862" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-30.28925, 317.5684, 123.8574" /> <!-- Wounded Temple Knight -->
                    <TalkTo NpcId="1022335" XYZ="-30.28925, 317.5684, 123.8574" QuestId="68073" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68073) == 5">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-128.9846, 306.4774, 188.5862" /> <!-- Cermet Bulkhead -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008944" XYZ="-128.9846, 306.4774, 188.5862" />
                    </If>
                    <GetTo ZoneId="620" XYZ="7.766785, 317.6179, 110.0022" /> <!-- Lyse -->
                    <TalkTo NpcId="1020613" XYZ="7.766785, 317.6179, 110.0022" QuestId="68073" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68073) == 255">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-128.9846, 306.4774, 188.5862" /> <!-- Cermet Bulkhead -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008944" XYZ="-128.9846, 306.4774, 188.5862" />
                    </If>
                    <GetTo ZoneId="620" XYZ="7.827881, 317.5509, 112.4132" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68073" NpcId="1020611" XYZ="7.827881, 317.5509, 112.4132" />
                </If>
            </If>
        </If>
        <!-- The Road Home -->
        <If Condition="not IsQuestCompleted(68074)">
            <If Condition="not HasQuest(68074)">
                <GetTo ZoneId="620" XYZ="7.827881, 317.5509, 112.4132" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68074)">
                    <PickupQuest NpcId="1020611" QuestId="68074" XYZ="7.827881, 317.5509, 112.4132" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68074)">
                <If Condition="GetQuestStep(68074) == 1">
                    <GetTo ZoneId="620" XYZ="7.980469, 306.5698, 73.68579" /> <!-- Alisaie -->
                    <TalkTo NpcId="1019945" XYZ="7.980469, 306.5698, 73.68579" QuestId="68074" StepId="1" />
                </If>
                <While Condition="GetQuestStep(68074) == 2">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-148.4856, 300.3935, 265.7358" /> <!-- Wounded Resistance Fighter -->
                    </If>
                    <If Condition="IsOnMap(620) and IsOnSubMap(2662)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008450" XYZ="-126.5432, 306.5079, 186.2668" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-148.4856, 300.3935, 265.7358" /> <!-- Wounded Resistance Fighter -->
                    <TalkTo NpcId="1023834" XYZ="-148.4856, 300.3935, 265.7358" QuestId="68074" StepId="2" />
                    <TalkTo NpcId="1020623" XYZ="-212.6345, 296.3733, 297.0474" QuestId="68074" StepId="2" />
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Cermet Bulkhead" InteractDistance="3.0" NpcId="2008449" XYZ="-128.9846, 306.4774, 188.5862" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-150.042, 305.7992, 82.8717" /> <!-- Wounded Imperial -->
                    <TalkTo NpcId="1023835" XYZ="-150.042, 305.7992, 82.8717" QuestId="68074" StepId="2" />
                </While>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68074) == 255">
                    <GetTo ZoneId="620" XYZ="-286.5493, 256.8515, 693.1411" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68074" NpcId="1020601" XYZ="-286.5493, 256.8515, 693.1411" />
                </If>
            </If>
        </If>
        <!-- For the Living and the Dead -->
        <If Condition="not IsQuestCompleted(68075)">
            <If Condition="not HasQuest(68075)">
                <GetTo ZoneId="620" XYZ="-286.5493, 256.8515, 693.1411" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68075)">
                    <PickupQuest NpcId="1020601" QuestId="68075" XYZ="-286.5493, 256.8515, 693.1411" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68075)">
                <If Condition="GetQuestStep(68075) == 1">
                    <GetTo ZoneId="620" XYZ="-299.3973, 257.5265, 770.7484" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020604" XYZ="-299.3973, 257.5265, 770.7484" QuestId="68075" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68075) == 255">
                    <GetTo ZoneId="620" XYZ="-300.496, 257.5265, 765.0415" /> <!-- Lyse -->
                    <TurnIn QuestId="68075" NpcId="1020631" XYZ="-300.496, 257.5265, 765.0415" />
                </If>
            </If>
        </If>
        <!-- Above the Churning Waters -->
        <If Condition="not IsQuestCompleted(68076)">
            <If Condition="not HasQuest(68076)">
                <GetTo ZoneId="620" XYZ="-300.496, 257.5265, 765.0415" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68076)">
                    <PickupQuest NpcId="1020631" QuestId="68076" XYZ="-300.496, 257.5265, 765.0415" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68076)">
                <If Condition="GetQuestStep(68076) == 1">
                    <GetTo ZoneId="620" XYZ="-75.24231, 262.4093, 661.86" /> <!-- Destination -->
                    <UseObject NpcId="2009007" XYZ="-75.24231, 262.4093, 661.86" Radius="10" QuestId="68076" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68076) == 2">
                    <GetTo ZoneId="620" XYZ="-75.48645, 262.4093, 661.86" /> <!-- Destination -->
                    <UseObject NpcId="2008211" XYZ="-75.48645, 262.4093, 661.86" Radius="10" QuestId="68076" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68076) == 255">
                    <GetTo ZoneId="620" XYZ="-113.4203, 263.7311, 655.7563" /> <!-- Lyse -->
                    <TurnIn QuestId="68076" NpcId="1020633" XYZ="-113.4203, 263.7311, 655.7563" />
                </If>
            </If>
        </If>
        <!-- The Path Forward -->
        <If Condition="not IsQuestCompleted(68077)">
            <If Condition="not HasQuest(68077)">
                <GetTo ZoneId="620" XYZ="-113.4203, 263.7311, 655.7563" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68077)">
                    <PickupQuest NpcId="1020633" QuestId="68077" XYZ="-113.4203, 263.7311, 655.7563" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68077)">
                <If Condition="GetQuestStep(68077) == 1">
                    <GetTo ZoneId="620" XYZ="-299.3973, 257.5265, 770.7484" /> <!-- Raubahn -->
                    <TalkTo NpcId="1020604" XYZ="-299.3973, 257.5265, 770.7484" QuestId="68077" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68077) == 255">
                    <GetTo ZoneId="620" XYZ="-298.5123, 257.5265, 764.9805" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68077" NpcId="1020629" XYZ="-298.5123, 257.5265, 764.9805" />
                </If>
            </If>
        </If>
        <!-- With Tired Hands We Toil -->
        <If Condition="not IsQuestCompleted(68078)">
            <If Condition="not HasQuest(68078)">
                <GetTo ZoneId="620" XYZ="-298.5123, 257.5265, 764.9805" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68078)">
                    <PickupQuest NpcId="1020629" QuestId="68078" XYZ="-298.5123, 257.5265, 764.9805" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68078)">
                <If Condition="GetQuestStep(68078) == 1">
                    <GetTo ZoneId="620" XYZ="-171.2215, 294.5144, 302.449" /> <!-- Destination -->
                    <UseObject NpcId="2009008" XYZ="-171.2215, 294.5144, 302.449" Radius="10" QuestId="68078" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68078) == 2">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="-115.404, 305.4703, 161.3031" /> <!-- Destination -->
                    <UseObject NpcId="2009009" XYZ="-115.404, 305.4703, 161.3031" Radius="10" QuestId="68078" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68078) == 3">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="64.31665, 305.9266, 152.6665" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1021616" XYZ="64.31665, 305.9266, 152.6665" QuestId="68078" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68078) == 4">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="148.8212, 308.7357, 166.5828" /> <!-- Destination -->
                    <UseObject NpcId="2009010" XYZ="148.8212, 308.7357, 166.5828" Radius="10" QuestId="68078" StepId="4" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68078) == 255">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="353.7803, 323.7739, 273.3043" /> <!-- Lyse -->
                    <TurnIn QuestId="68078" NpcId="1022344" XYZ="353.7803, 323.7739, 273.3043" />
                </If>
            </If>
        </If>
        <!-- Where Courage Endures -->
        <If Condition="not IsQuestCompleted(68079)">
            <If Condition="not HasQuest(68079)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                </If>
                <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                    <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                </If>
                <GetTo ZoneId="620" XYZ="353.7803, 323.7739, 273.3043" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68079)">
                    <PickupQuest NpcId="1022344" QuestId="68079" XYZ="353.7803, 323.7739, 273.3043" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68079)">
                <If Condition="GetQuestStep(68079) == 1">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="302.9373, 324.3033, 383.0471" /> <!-- Young Hellsguard -->
                    <TalkToPlus NpcId="1020642" XYZ="302.9373, 324.3033, 383.0471" QuestId="68079" StepId="1" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68079) == 255">
                    <GetTo ZoneId="620" XYZ="257.8011, 314.4075, 416.1592" /> <!-- Young Hellsguard -->
                    <TurnIn QuestId="68079" NpcId="1020645" XYZ="257.8011, 314.4075, 416.1592" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 69">
            <LogMessage Message="[Stormblood] You are not level 69 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 69..." />
            <GetTo ZoneId="620" XYZ="-405.1526, 266.0462, 499.7767" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_69" while="Core.Player.ClassLevel &lt; 69" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 69 quests..." />

        <!-- [Pickup Quests] -->

        <!-- The Price of Freedom -->
        <If Condition="not IsQuestCompleted(68080)">
            <If Condition="not HasQuest(68080)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                </If>
                <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                    <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                </If>
                <GetTo ZoneId="620" XYZ="257.1908, 314.2274, 418.2954" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68080)">
                    <PickupQuest NpcId="1023606" QuestId="68080" XYZ="257.1908, 314.2274, 418.2954" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68080)">
                <If Condition="GetQuestStep(68080) == 1">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="306.3859, 318.5625, 432.4559" /> <!-- Destination -->
                    <UseObject NpcId="2009011" XYZ="306.3859, 318.5625, 432.4559" Radius="10" QuestId="68080" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68080) == 2">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="333.3638, 322.0111, 439.3529" /> <!-- Destination -->
                    <UseObject NpcId="2009012" XYZ="333.3638, 322.0111, 439.3529" Radius="10" QuestId="68080" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68080) == 3">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="385.7633, 332.0385, 487.0526" /> <!-- Stark Woad -->
                    <TalkTo NpcId="1020646" XYZ="385.7633, 332.0385, 487.0526" QuestId="68080" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68080) == 4">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="422.2323, 335.4695, 481.7424" /> <!-- Destination -->
                    <UseObject NpcId="2009013" XYZ="422.2323, 335.4695, 481.7424" Radius="10" QuestId="68080" StepId="4" />
                </If>
                <If Condition="GetQuestStep(68080) == 5">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="431.113, 335.6526, 487.1747" /> <!-- Destination -->
                    <UseObject NpcId="2008212" XYZ="431.113, 335.6526, 487.1747" Radius="10" QuestId="68080" StepId="5" />
                </If>
                <If Condition="GetQuestStep(68080) == 6">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="433.402, 335.8053, 498.7715" /> <!-- Entrance -->
                    <RunCode Name="The_Price_of_Freedom" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68080) == 255">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="561.4556, 344.1177, 435.3551" /> <!-- Lyse -->
                    <TurnIn QuestId="68080" NpcId="1020647" XYZ="561.4556, 344.1177, 435.3551" />
                </If>
            </If>
        </If>
        <!-- Raubahn's Invitation -->
        <If Condition="not IsQuestCompleted(68081)">
            <If Condition="not HasQuest(68081)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                </If>
                <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                    <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                </If>
                <GetTo ZoneId="620" XYZ="568.1697, 344.1177, 435.2941" /> <!-- Raubahn -->
                <If Condition="IsQuestAcceptQualified(68081)">
                    <PickupQuest NpcId="1020648" QuestId="68081" XYZ="568.1697, 344.1177, 435.2941" />
                </If>
            </If>

            <!-- [TurnIn Quest] -->

            <If Condition="HasQuest(68081)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                </If>
                <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                    <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                </If>
                <If Condition="GetQuestStep(68081) == 255">
                    <GetTo ZoneId="620" XYZ="260.3951, 322.8362, 742.0309" /> <!-- Raubahn -->
                    <TurnIn QuestId="68081" NpcId="1020656" XYZ="260.3951, 322.8362, 742.0309" />
                </If>
            </If>
        </If>
        <!-- Liberty or Death -->
        <If Condition="not IsQuestCompleted(68082)">
            <If Condition="not HasQuest(68082)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                </If>
                <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                    <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                </If>
                <GetTo ZoneId="620" XYZ="260.3951, 322.8362, 742.0309" /> <!-- Raubahn -->
                <If Condition="IsQuestAcceptQualified(68082)">
                    <PickupQuest NpcId="1020656" QuestId="68082" XYZ="260.3951, 322.8362, 742.0309" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68082)">
                <If Condition="GetQuestStep(68082) == 1">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="265.156, 322.8362, 746.9443" /> <!-- Raubahn -->
                    <TalkTo NpcId="1022370" XYZ="265.156, 322.8362, 746.9443" QuestId="68082" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68082) == 2">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="259.8458, 322.8362, 740.6881" /> <!-- Lyse -->
                    <TalkTo NpcId="1022371" XYZ="259.8458, 322.8362, 740.6881" QuestId="68082" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68082) == 3">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="202.1057, 311.1453, 606.1646" /> <!-- Lyse -->
                    <TalkTo NpcId="1020653" XYZ="202.1057, 311.1453, 606.1646" QuestId="68082" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68082) == 4">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="143.6637, 298.4373, 399.9542" /> <!-- Suspicious Youth -->
                    <TalkTo NpcId="1020657" XYZ="143.6637, 298.4373, 399.9542" QuestId="68082" StepId="4" />
                    <WaitWhile Condition="GetQuestStep(68082) == 4" />
                </If>
                <If Condition="GetQuestStep(68082) == 5">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="404.2878, 334.2325, 484.4586" /> <!-- Lyse -->
                    <TalkTo NpcId="1020658" XYZ="404.2878, 334.2325, 484.4586" QuestId="68082" StepId="5" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68082) == 255">
                    <If Condition="not IsOnMap(620)">
                        <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                    </If>
                    <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                        <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                    </If>
                    <GetTo ZoneId="620" XYZ="318.1658, 324.3033, 376.8824" /> <!-- M'naago -->
                    <TurnIn QuestId="68082" NpcId="1020660" XYZ="318.1658, 324.3033, 376.8824" />
                </If>
            </If>
        </If>
        <!-- The Lady in Red -->
        <If Condition="not IsQuestCompleted(68083)">
            <If Condition="not HasQuest(68083)">
                <If Condition="not IsOnMap(620)">
                    <GetTo ZoneId="620" XYZ="-130.0222, 305.3815, 189.7153" /> <!-- Ala Mhigan Resistance Gate Guard -->
                </If>
                <If Condition="IsOnMap(620) and not IsOnSubMap(2607) and not IsOnSubMap(2661) and not IsOnSubMap(2662) and not IsOnSubMap(2665) and not IsOnSubMap(2666) and not IsOnSubMap(2669)">
                    <UseTransport Name="Ala Mhigan Resistance Gate Guard" InteractDistance="3.0" NpcId="1021557" XYZ="-130.0222, 305.3815, 189.7153" />
                </If>
                <GetTo ZoneId="620" XYZ="316.823, 324.3033, 378.6526" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68083)">
                    <PickupQuest NpcId="1020661" QuestId="68083" XYZ="316.823, 324.3033, 378.6526" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68083)">
                <If Condition="GetQuestStep(68083) == 1">
                    <GetTo ZoneId="635" XYZ="-116.7468, 0.6342248, -55.83282" /> <!-- Orella -->
                    <TalkTo NpcId="1019486" XYZ="-116.7468, 0.6342248, -55.83282" QuestId="68083" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68083) == 2">
                    <GetTo ZoneId="635" XYZ="-52.47583, -0.01531982, -23.39215" /> <!-- Destination -->
                    <UseObject NpcId="2008216" XYZ="-52.47583, -0.01531982, -23.39215" Radius="10" QuestId="68083" StepId="2" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68083) == 255">
                    <GetTo ZoneId="635" XYZ="-53.42188, -0.1167764, -28.61072" /> <!-- Lyse -->
                    <TurnIn QuestId="68083" NpcId="1020665" XYZ="-53.42188, -0.1167764, -28.61072" />
                </If>
            </If>
        </If>
        <!-- Upon the Great Loch's Shore -->
        <If Condition="not IsQuestCompleted(68084)">
            <If Condition="not HasQuest(68084)">
                <GetTo ZoneId="635" XYZ="-53.42188, -0.1167764, -28.61072" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68084)">
                    <PickupQuest NpcId="1020665" QuestId="68084" XYZ="-53.42188, -0.1167764, -28.61072" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68084)">
                <If Condition="GetQuestStep(68084) == 1">
                    <GetTo ZoneId="635" XYZ="-137.7432, 0.5980507, -81.49847" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1020412" XYZ="-137.7432, 0.5980507, -81.49847" QuestId="68084" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68084) == 2">
                    <GetTo ZoneId="620" XYZ="570.9467, 344.1177, 422.1713" /> <!-- Pipin -->
                    <TalkTo NpcId="1020649" XYZ="570.9467, 344.1177, 422.1713" QuestId="68084" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68084) == 3">
                    <GetTo ZoneId="621" XYZ="-665.1066, 50.00003, 3.009089" /> <!-- Prince Warwick -->
                    <WaitWhile Condition="GetQuestStep(68084) == 3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68084) == 255">
                    <GetTo ZoneId="621" XYZ="-651.5145, 50.00002, -3.128174" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68084" NpcId="1021704" XYZ="-651.5145, 50.00002, -3.128174" />
                </If>
            </If>
        </If>
        <!-- The Key to Victory -->
        <If Condition="not IsQuestCompleted(68085)">
            <If Condition="not HasQuest(68085)">
                <GetTo ZoneId="621" XYZ="-651.5145, 50.00002, -3.128174" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68085)">
                    <PickupQuest NpcId="1021704" QuestId="68085" XYZ="-651.5145, 50.00002, -3.128174" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68085)">
                <If Condition="GetQuestStep(68085) == 1">
                    <GetTo ZoneId="621" XYZ="-649.897, 50.00002, -1.999023" /> <!-- Lyse -->
                    <RunCode Name="The_Key_to_Victory" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Fix: Trying to run through an instance barrier instead of going around to reach a target. -->

                    <!-- TO DO -->

                    <ExtendedDuty InteractNpcId="1021705" XYZ="-649.897, 50.00002, -1.999023" QuestId="68085" StepId="1">
                        <HotSpots>
                            <HotSpot XYZ="-416.2065, 6.615546, 97.51968" Radius="90" />
                            <HotSpot XYZ="-379.9506, 4.492397, 155.2603" Radius="90" />
                            <HotSpot XYZ="-296.4503, 11.1832, 222.7616" Radius="10" /> <!-- Queer Device -->
                            <HotSpot XYZ="-288.7755, 11.18313, 184.1951" Radius="90" />
                            <HotSpot XYZ="-171.4493, 4.728506, 339.5232" Radius="90" />
                            <HotSpot XYZ="-120.8326, -0.3, 450.4518" Radius="90" />
                            <HotSpot XYZ="-88.40645, 5.765496, 547.2638" Radius="90" />
                            <HotSpot XYZ="42.22107, 40.77131, 716.7664" Radius="90" />
                            <HotSpot XYZ="55.143, 43.8, 733.6042" Radius="10" /> <!-- Destination -->
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="6363" Weight="9000" /> <!-- Magitek Shield Generator -->
                            <TargetMob Id="6360" Weight="8000" /> <!-- Magitek Avenger E1 -->
                            <TargetMob Id="5723" Weight="7000" /> <!-- Abaddon -->
                            <TargetMob Id="5719" Weight="6000" /> <!-- Yabby -->
                            <TargetMob Id="6362" Weight="5000" /> <!-- 12th Legion Gunship -->
                            <TargetMob Id="6357" Weight="4000" /> <!-- 12th Legion Colossus -->
                            <TargetMob Id="6358" Weight="3000" /> <!-- 12th Legion Vanguard -->
                            <TargetMob Id="6359" Weight="2000" /> <!-- 12th Legion Slasher -->
                            <TargetMob Id="5721" Weight="1000" /> <!-- Soblyn -->
                        </TargetMobs>
                    </ExtendedDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68085) == 255">
                    <GetTo ZoneId="621" XYZ="66.54456, 45.41022, 766.476" /> <!-- Lyse -->
                    <TurnIn QuestId="68085" NpcId="1021710" XYZ="66.54456, 45.41022, 766.476" />
                </If>
            </If>
        </If>
        <!-- The Resonant -->
        <If Condition="not IsQuestCompleted(68086)">
            <If Condition="not HasQuest(68086)">
                <GetTo ZoneId="621" XYZ="66.54456, 45.41022, 766.476" /> <!-- Lyse -->
                <If Condition="IsQuestAcceptQualified(68086)">
                    <PickupQuest NpcId="1021710" QuestId="68086" XYZ="66.54456, 45.41022, 766.476" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68086)">
                <If Condition="GetQuestStep(68086) == 1">
                    <GetTo ZoneId="621" XYZ="210.9865, -0.3, 340.3219" /> <!-- Lyse -->
                    <TalkTo NpcId="1021712" XYZ="210.9865, -0.3, 340.3219" QuestId="68086" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68086) == 2">
                    <If Condition="not IsOnMap(621)">
                        <GetTo ZoneId="621" XYZ="216.2574, -0.6, 292.1463" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(621) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -0.6, 292.1463)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="216.2574, -0.6, 292.1463" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -0.6, 292.1463)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -25.0001, 292.1463)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="192.8803, -97.42517, 270.709" />
                        <MoveTo Name="Diving" Distance="0.1" UseMesh="False" XYZ="317.0367, -94.16345, 350.9117" />
                        <TalkTo NpcId="1021714" XYZ="317.0367, -94.16345, 350.9117" QuestId="68086" StepId="2" />
                    </If>
                </If>
                <If Condition="GetQuestStep(68086) == 3">
                    <If Condition="not IsOnMap(621)">
                        <GetTo ZoneId="621" XYZ="216.2574, -0.6, 292.1463" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(621) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -0.6, 292.1463)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="216.2574, -0.6, 292.1463" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -0.6, 292.1463)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -25.0001, 292.1463)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="192.8803, -97.42517, 270.709" />
                        <MoveTo Name="Diving" Distance="0.1" UseMesh="False" XYZ="317.0367, -94.16345, 350.9117" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(317.0367, -94.16345, 350.9117)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="375.0256, -78.45251, 395.0629" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="508.9398, -40.58212, 480.187" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="508.9398, -22.00102, 480.187" />
                        <RunCode Name="MoveForward" />
                        <WaitTimer WaitTime="10" />
                        <MoveTo Name="Stairs" Distance="1" UseMesh="False" XYZ="519.9698, 0.0001157522, 469.8569" />
                    </If>
                    <MoveTo Name="Lyse" XYZ="675.9594, 60, 460.3494" />
                    <TalkTo NpcId="1021716" XYZ="675.9594, 60, 460.3494" QuestId="68086" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68086) == 4">
                    <If Condition="not IsOnMap(621)">
                        <GetTo ZoneId="621" XYZ="216.2574, -0.6, 292.1463" /> <!-- Dive Location -->
                    </If>
                    <If Condition="IsOnMap(621) and not IsOnSubMap(2610) and (Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -0.6, 292.1463)) &gt; 5) and not (MovementManager.IsDiving)">
                        <NoCombatMoveTo Name="Dive Location" XYZ="216.2574, -0.6, 292.1463" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -0.6, 292.1463)) &lt; 5">
                        
                        <!-- TO DO -->

                        <!-- Create QB to dive. -->

                        <!-- TO DO -->

                        <RunCode Name="Manually_Dive" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(216.2574, -25.0001, 292.1463)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="192.8803, -97.42517, 270.709" />
                        <MoveTo Name="Diving" Distance="0.1" UseMesh="False" XYZ="317.0367, -94.16345, 350.9117" />
                    </If>
                    <If Condition="IsOnMap(621) and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(317.0367, -94.16345, 350.9117)) &lt; 5">

                        <!-- TO DO -->

                        <!-- Remove off-mesh MoveTo's when swimming is supported. -->

                        <!-- TO DO -->

                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="375.0256, -78.45251, 395.0629" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="508.9398, -40.58212, 480.187" />
                        <MoveTo Name="Diving" Distance="1" UseMesh="False" XYZ="508.9398, -22.00102, 480.187" />
                        <RunCode Name="MoveForward" />
                        <WaitTimer WaitTime="10" />
                        <MoveTo Name="Stairs" Distance="1" UseMesh="False" XYZ="519.9698, 0.0001157522, 469.8569" />
                    </If>
                    <MoveTo Name="Lyse" XYZ="675.9594, 60, 460.3494" />
                    <RunCode Name="The_Resonant" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Fix: Trying to run through an instance barrier instead of going around to reach a target. -->

                    <!-- TO DO -->

                    <ExtendedDuty InteractNpcId="1021716" XYZ="675.9594, 60, 460.3494" QuestId="68086" StepId="4">
                        <HotSpots>
                            <HotSpot XYZ="508.2698, 70, 575.2047" Radius="10" /> <!-- Gate Winch -->
                            <HotSpot XYZ="647.7371, 70, 506.0808" Radius="90" />
                            <HotSpot XYZ="707.1884, 70, 541.3647" Radius="90" />
                            <HotSpot XYZ="740.9409, 70, 510.5789" Radius="90" />
                            <HotSpot XYZ="-0.01605999, 0, 0.2489653" Radius="90" />
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="6103" Weight="7000" /> <!-- 12th Legion Predator -->
                            <TargetMob Id="6102" Weight="6000" /> <!-- 12th Legion Reaper -->
                            <TargetMob Id="6101" Weight="5000" /> <!-- 12th Legion Signifer -->
                            <TargetMob Id="6098" Weight="4000" /> <!-- 12th Legion Laquearius -->
                            <TargetMob Id="6099" Weight="3000" /> <!-- 12th Legion Eques -->
                            <TargetMob Id="6097" Weight="2000" /> <!-- 12th Legion Hoplomachus -->
                            <TargetMob Id="6104" Weight="1000" /> <!-- Fordola rem Lupis -->
                        </TargetMobs>
                    </ExtendedDuty>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68086) == 255">
                    <GetTo ZoneId="621" XYZ="756.9542, 70, 445.4565" /> <!-- Alphinaud -->
                    <TurnIn QuestId="68086" NpcId="1021717" XYZ="756.9542, 70, 445.4565" />
                </If>
            </If>
        </If>
        <!-- The Legacy of Our Fathers -->
        <If Condition="not IsQuestCompleted(68087)">
            <If Condition="not HasQuest(68087)">
                <GetTo ZoneId="621" XYZ="756.9542, 70, 445.4565" /> <!-- Alphinaud -->
                <If Condition="IsQuestAcceptQualified(68087)">
                    <PickupQuest NpcId="1021717" QuestId="68087" XYZ="756.9542, 70, 445.4565" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68087)">
                <If Condition="GetQuestStep(68087) == 1">
                    <GetTo ZoneId="621" XYZ="643.6713, 80.00001, 654.1694" /> <!-- Arenvald -->
                    <TalkTo NpcId="1022733" XYZ="643.6713, 80.00001, 654.1694" QuestId="68087" StepId="1" />
                </If>
                <If Condition="GetQuestStep(68087) == 2">
                    <GetTo ZoneId="621" XYZ="-672.694, 49.99973, 14.99957" /> <!-- Raubahn -->
                    <TalkTo NpcId="1021698" XYZ="-672.694, 49.99973, 14.99957" QuestId="68087" StepId="2" />
                </If>
                <If Condition="GetQuestStep(68087) == 3">
                    <GetTo ZoneId="621" XYZ="-669.215, 50.01024, 17.92926" /> <!-- Alphinaud -->
                    <TalkTo NpcId="1021719" XYZ="-669.215, 50.01024, 17.92926" QuestId="68087" StepId="3" />
                </If>
                <If Condition="GetQuestStep(68087) == 4">
                    <If Condition="not IsTodoChecked(68087, 4, 2)">
                        <GetTo ZoneId="621" XYZ="-631.4946, 53.75, 13.71777" /> <!-- Aymeric -->
                        <TalkTo NpcId="1021703" XYZ="-631.4946, 53.75, 13.71777" QuestId="68087" StepId="4" />
                    </If>
                    <If Condition="not IsTodoChecked(68087, 4, 0)">
                        <GetTo ZoneId="621" XYZ="-599.3896, 33.99978, 0.5340576" /> <!-- Kan-E-Senna -->
                        <TalkTo NpcId="1021701" XYZ="-599.3896, 33.99978, 0.5340576" QuestId="68087" StepId="4" />
                    </If>
                    <If Condition="not IsTodoChecked(68087, 4, 1)">
                        <GetTo ZoneId="621" XYZ="-589.9901, 33.99996, -4.043701" /> <!-- Merlwyb -->
                        <TalkTo NpcId="1021702" XYZ="-589.9901, 33.99996, -4.043701" QuestId="68087" StepId="4" />
                    </If>
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68087) == 255">
                    <GetTo ZoneId="621" XYZ="-672.694, 49.99973, 14.99957" /> <!-- Raubahn -->
                    <TurnIn QuestId="68087" NpcId="1021698" XYZ="-672.694, 49.99973, 14.99957" />
                </If>
            </If>
        </If>

        <If Condition="Core.Player.ClassLevel &lt; 70">
            <LogMessage Message="[Stormblood] You are not level 70 yet!" />
            <LogMessage Message="[Stormblood] Grinding to level 70..." />
            <GetTo ZoneId="621" XYZ="-365.6823, 5.985902, 64.67892" /> <!-- Grinding Area -->
            <Grind grindRef="To_Level_70" while="Core.Player.ClassLevel &lt; 70" />
        </If>

        <LogMessage Message="[Stormblood] Checking level 70 quests..." />

        <!-- Level 70 Job Quest -->

        <If Condition="ClassName == ClassJobType.Astrologian and not IsQuestCompleted(67949)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Bard and not IsQuestCompleted(68430)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.BlackMage and not IsQuestCompleted(68128)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.DarkKnight and not IsQuestCompleted(68455)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Dragoon and not IsQuestCompleted(68450)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Machinist and not IsQuestCompleted(68445)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Monk and not IsQuestCompleted(67966)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Ninja and not IsQuestCompleted(68488)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Paladin and not IsQuestCompleted(68111)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.RedMage and not IsQuestCompleted(68123)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Samurai and not IsQuestCompleted(68106)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Scholar and not IsQuestCompleted(68463)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Summoner and not IsQuestCompleted(68165)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.Warrior and not IsQuestCompleted(68440)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>
        <If Condition="ClassName == ClassJobType.WhiteMage and not IsQuestCompleted(67954)">
            <LoadProfile Path="[O] [MSQ] Class and Job Quests.xml" />
        </If>

        <!-- [Pickup Quests] -->

        <!-- The Measure of His Reach -->
        <If Condition="not IsQuestCompleted(68088)">
            <If Condition="not HasQuest(68088)">
                <GetTo ZoneId="621" XYZ="-672.694, 49.99973, 14.99957" /> <!-- Raubahn -->
                <If Condition="IsQuestAcceptQualified(68088)">
                    <PickupQuest NpcId="1021698" QuestId="68088" XYZ="-672.694, 49.99973, 14.99957" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68088)">
                <If Condition="GetQuestStep(68088) == 1">
                    <GetTo ZoneId="621" XYZ="336.0493, 78.00011, 44.02222" /> <!-- Pipin -->
                    <HandOver ItemId="2002188" QuestId="68088" StepId="1" NpcId="1021722" XYZ="336.0493, 78.00011, 44.02222" />
                </If>
                <If Condition="GetQuestStep(68088) == 2">
                    <GetTo ZoneId="621" XYZ="509.6055, 111.162, -107.1336" /> <!-- Alphinaud -->
                    <RunCode Name="The_Measure_of_His_Reach" />
                    <StopBot />

                    <!-- TO DO -->

                    <!-- Fix: Too many telegraphed attacks not being avoided. -->

                    <!-- TO DO -->

                    <SimpleDuty InteractNpcId="1022738" XYZ="509.6055, 111.162, -107.1336" QuestId="68088" StepId="2">
                        <HotSpots>
                            <HotSpot XYZ="504.6302, 111.2395, -131.8735" Radius="90" />
                        </HotSpots>
                        <TargetMobs>
                            <TargetMob Id="5975" Weight="3000" /> <!-- Hakuro Whitefang  -->
                            <TargetMob Id="5977" Weight="2000" /> <!-- Ferae Domitae Bow-wolf -->
                            <TargetMob Id="5976" Weight="1000" /> <!-- Ferae Domitae Spear-wolf -->
                        </TargetMobs>
                    </SimpleDuty>
                </If>
                <If Condition="GetQuestStep(68088) == 3">
                    <GetTo ZoneId="621" XYZ="509.7277, 111.389, -110.8264" /> <!-- Hakuro -->
                    <TalkTo NpcId="1022739" XYZ="509.7277, 111.389, -110.8264" QuestId="68088" StepId="3" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68088) == 255">
                    <GetTo ZoneId="621" XYZ="560.0519, 162, 72.28198" /> <!-- Pipin -->
                    <TurnIn QuestId="68088" NpcId="1021724" XYZ="560.0519, 162, 72.28198" />
                </If>
            </If>
        </If>
        <!-- Stormblood -->
        <If Condition="not IsQuestCompleted(68089)">
            <If Condition="not HasQuest(68089)">
                <GetTo ZoneId="621" XYZ="560.0519, 162, 72.28198" /> <!-- Pipin -->
                <If Condition="IsQuestAcceptQualified(68089)">
                    <PickupQuest NpcId="1021724" QuestId="68089" XYZ="560.0519, 162, 72.28198" />
                </If>
            </If>

            <!-- [Complete Quest] -->

            <If Condition="HasQuest(68089)">
                <If Condition="GetQuestStep(68089) == 1">
                    <GetTo ZoneId="621" XYZ="579.6443, 168.9937, 69.96252" /> <!-- Entrance -->
                    <RunCode Name="Stormblood" />
                    <StopBot />
                </If>
                <If Condition="GetQuestStep(68089) == 3">
                    <RunCode Name="Stormblood2" />
                    <StopBot />
                </If>
                <If Condition="GetQuestStep(68089) == 5">
                    <GetTo ZoneId="621" XYZ="-584.4968, 21.62429, -11.94781" /> <!-- Lyse -->
                    <TalkTo NpcId="1020356" XYZ="-584.4968, 21.62429, -11.94781" QuestId="68089" StepId="5" />
                </If>
                <If Condition="GetQuestStep(68089) == 6">
                    <If Condition="not IsTodoChecked(68089, 6, 3)">
                        <GetTo ZoneId="621" XYZ="-615.198, 34.00002, -7.187073" /> <!-- Yugiri -->
                        <TalkTo NpcId="1021726" XYZ="-615.198, 34.00002, -7.187073" QuestId="68089" StepId="6" />
                    </If>
                    <If Condition="not IsTodoChecked(68089, 6, 1)">
                        <GetTo ZoneId="621" XYZ="-650.3243, 50.00002, 0.869751" /> <!-- M'naago -->
                        <TalkTo NpcId="1022724" XYZ="-650.3243, 50.00002, 0.869751" QuestId="68089" StepId="6" />
                    </If>
                    <If Condition="not IsTodoChecked(68089, 6, 0)">
                        <GetTo ZoneId="621" XYZ="-651.5145, 50.00002, -3.128174" /> <!-- Alphinaud -->
                        <TalkTo NpcId="1021704" XYZ="-651.5145, 50.00002, -3.128174" QuestId="68089" StepId="6" />
                    </If>
                    <If Condition="not IsTodoChecked(68089, 6, 2)">
                        <GetTo ZoneId="621" XYZ="-672.694, 49.99973, 14.99957" /> <!-- Raubahn -->
                        <TalkTo NpcId="1021698" XYZ="-672.694, 49.99973, 14.99957" QuestId="68089" StepId="6" />
                    </If>
                </If>
                <If Condition="GetQuestStep(68089) == 7">
                    <GetTo ZoneId="621" XYZ="-584.4968, 21.62429, -11.94781" /> <!-- Lyse -->
                    <TalkTo NpcId="1020356" XYZ="-584.4968, 21.62429, -11.94781" QuestId="68089" StepId="7" />
                </If>

                <!-- [TurnIn Quest] -->

                <If Condition="GetQuestStep(68089) == 255">
                    <GetTo ZoneId="635" XYZ="65.38477, -0.4161447, -80.24719" /> <!-- Lyse -->
                    <TurnIn QuestId="68089" NpcId="1021728" XYZ="65.38477, -0.4161447, -80.24719" />
                </If>
            </If>
        </If>

        <If Condition="IsQuestCompleted(68089)">
            <RunCode Name="Stormblood_Questline" />
            <StopBot />
        </If>

	</Order>
	<CodeChunks>

        <!-- Job Check -->

        <CodeChunk Name="EquipBRDCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4546)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipBLMCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4548)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipDRGCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4545)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipMNKCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4543)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipNINCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 7886)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipPLDCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4542)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipSCHCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4550)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipSMNCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4549)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipWARCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4544)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipWHMCrystal">
            <![CDATA[ 
                await Coroutine.Sleep(1000);
                BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

                foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
                {
                if(slot.RawItemId == 4547)
                {
                    slot.Move(EquipSlot);
                }
                }
                await Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>

        <!-- Patch 4.0 -->

        <CodeChunk Name="Not_without_Incident">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68005) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete The Sirensong Sea duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
		<CodeChunk Name="A_Good_Samurai_Is_Hard_to_Find">
			<![CDATA[
				foreach(BagSlot slot in InventoryManager.FilledSlots)
				{
					if(slot.RawItemId == 2002099)
					{
						slot.UseItem();
                        await Coroutine.Sleep(1000);
					}
				}
		    ]]>
		</CodeChunk>
        <CodeChunk Name="Its_Probably_a_Trap">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68010) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the It's Probably a Trap duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Stranded">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68218) == 1)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Stranded quest objective!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
		<CodeChunk Name="MoveForward">
			<![CDATA[
				await Coroutine.Sleep(1000);
				MovementManager.MoveForwardStart();
				await Coroutine.Sleep(2000);
				MovementManager.MoveStop();
				await Coroutine.Sleep(1000);
		    ]]>
		</CodeChunk>
		<CodeChunk Name="In_Darkness_the_Magatama_Dreams">
			<![CDATA[
				foreach(BagSlot slot in InventoryManager.FilledSlots)
				{
					if(slot.RawItemId == 2002243)
					{
						slot.UseItem();
                        await Coroutine.Sleep(1000);
                        ff14bot.RemoteWindows.Talk.Next();
                        await Coroutine.Sleep(1000);
					}
				}
		    ]]>
		</CodeChunk>
        <CodeChunk Name="The_Lord_of_the_Revel">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68025) == 2)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete The Pool of Tribute duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Manually_Dive">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68028) == 255 || (!ConditionParser.IsQuestCompleted(68470) && !ConditionParser.HasQuest(68470)) || ConditionParser.GetQuestStep(68470) == 2 || ConditionParser.GetQuestStep(68269) == 5 || ConditionParser.GetQuestStep(68033) == 255 || ConditionParser.GetQuestStep(68284) == 3 || ConditionParser.GetQuestStep(68281) == 3 || ConditionParser.GetQuestStep(68045) == 3 || ConditionParser.GetQuestStep(68086) == 2 || ConditionParser.GetQuestStep(68086) == 3 || ConditionParser.GetQuestStep(68086) == 4 || ConditionParser.GetQuestStep(68417) == 2)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually dive below the surface of the water!\n(Ctrl + Spacebar)\n\nAfter diving, please press Stop, then Start.", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="A_New_Ruby_Tithe">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68031) == 4 || ConditionParser.GetQuestStep(68031) == 5 || ConditionParser.GetQuestStep(68031) == 7)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the A New Ruby Tithe quest objective!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Will_to_Live">
            <![CDATA[ 
				foreach(BagSlot slot in InventoryManager.FilledInventoryAndArmory)
				{
					BagSlot EquipSlot = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.Head];
					BagSlot EquipSlot2 = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.Body];
					BagSlot EquipSlot3 = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.Hands];
					BagSlot EquipSlot4 = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.Legs];
					BagSlot EquipSlot5 = InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.Feet];
					if(slot.RawItemId == 20596)
					{
						slot.Move(EquipSlot);
						await Coroutine.Sleep(1000);
					}
					if(slot.RawItemId == 20597)
					{
						slot.Move(EquipSlot2);
						await Coroutine.Sleep(1000);
					}
					if(slot.RawItemId == 20598)
					{
						slot.Move(EquipSlot3);
						await Coroutine.Sleep(1000);
					}
					if(slot.RawItemId == 20599)
					{
						slot.Move(EquipSlot4);
						await Coroutine.Sleep(1000);
					}
					if(slot.RawItemId == 20600)
					{
						slot.Move(EquipSlot5);
						await Coroutine.Sleep(1000);
					}
				}
        	]]>
        </CodeChunk>
        <CodeChunk Name="The_Time_between_the_Seconds">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68034) == 2)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete The Time between the Seconds duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="In_the_Footsteps_of_Bardam_the_Brave">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68043) == 1)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Bardam's Mettle duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Naadam">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68051) == 3)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Naadam duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Die_Is_Cast">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68060) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Doma Castle duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Price_of_Freedom">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68080) == 6)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Castrum Abania duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Key_to_Victory">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68085) == 1)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete The Key to Victory duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Resonant">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68086) == 4)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete The Resonant duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="The_Measure_of_His_Reach">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68088) == 2)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete The Measure of His Reach duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Stormblood">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68089) == 1)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Ala Mhigo duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Stormblood2">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68089) == 3)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "[Stormblood]\nPlease manually complete the Royal Menagerie duty!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
        <CodeChunk Name="Stormblood_Questline">
            <![CDATA[ 
                while (ConditionParser.GetQuestStep(68089) != 255)
                {
                    System.Windows.Media.Color textColor = System.Windows.Media.Color.FromRgb(29,213,226);
                    System.Windows.Media.Color shadowColor = System.Windows.Media.Color.FromRgb(13,106,175);
                    Core.OverlayManager.AddToast(() => "You've completed the Stormblood questline!\nPlease load the Stormblood (Patch 4.1) profile\nif you would like to continue questing!", TimeSpan.FromMilliseconds(25000), textColor, shadowColor, new System.Windows.Media.FontFamily("Gautami"));
                    await Coroutine.Sleep(26000);
                }
            ]]>
        </CodeChunk>
	</CodeChunks>
	<GrindAreas>
		<GrindArea Name="Hard_Country">
			<Hotspots>
				<Hotspot Radius="250" XYZ="-127.2618, 97.7028, -703.6573" Name="Chapulis" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5700" /> <!-- Chapuli -->
			</TargetMobs>
			<MinLevel>60</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="Hard_Country2">
			<Hotspots>
				<Hotspot Radius="250" XYZ="-502.8647, 46.69152, -685.4142" Name="Gyr Abanian Hornbills" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5703" /> <!-- Gyr Abanian Hornbill -->
			</TargetMobs>
			<MinLevel>60</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_61">
			<Hotspots>
				<Hotspot Radius="250" XYZ="-529.4907, 46.9445, -691.6078" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="-352.1475, 58.578, -580.9789" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5703" /> <!-- Gyr Abanian Hornbill -->
				<TargetMob Id="5702" /> <!-- Fluturini -->
				<TargetMob Id="5701" /> <!-- Bloodglider -->
				<TargetMob Id="115" /> <!-- Wind Sprite -->
			</TargetMobs>
			<MinLevel>60</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_62">
			<Hotspots>
				<Hotspot Radius="250" XYZ="175.2423, 133.8074, -347.4644" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="243.0157, 134.6283, -292.7703" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5708" /> <!-- Scarab Beetle -->
				<TargetMob Id="117" /> <!-- Lightning Sprite -->
			</TargetMobs>
			<MinLevel>61</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="Of_Kojin_and_Kami">
			<Hotspots>
				<Hotspot Radius="250" XYZ="729.5004, -0.2999998, 29.8327" Name="Unkius" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5735" /> <!-- Unkiu -->
			</TargetMobs>
			<MinLevel>62</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_63">
			<Hotspots>
				<Hotspot Radius="250" XYZ="213.7318, 0.7141832, -733.093" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="441.9039, 8.371429, -655.3545" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5739" /> <!-- Shiranui -->
				<TargetMob Id="5738" /> <!-- Sea Serpent -->
				<TargetMob Id="5736" /> <!-- Coralshell -->
				<TargetMob Id="56" /> <!-- Water Sprite -->
			</TargetMobs>
			<MinLevel>62</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_64">
			<Hotspots>
				<Hotspot Radius="250" XYZ="633.3296, 67.59826, -71.741" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5748" /> <!-- Ruby Hornbill -->
				<TargetMob Id="5735" /> <!-- Unkiu -->
				<TargetMob Id="115" /> <!-- Wind Sprite -->
			</TargetMobs>
			<MinLevel>63</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_65">
			<Hotspots>
				<Hotspot Radius="250" XYZ="501.4299, 79.54343, 47.0865" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="542.7109, 42.85573, 265.7553" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
                <TargetMob Id="5763" /> <!-- Minobi -->
				<TargetMob Id="5758" /> <!-- Doman Weasel -->
				<TargetMob Id="5757" /> <!-- Rhino Beetle -->
				<TargetMob Id="5748" /> <!-- Ruby Hornbill -->
				<TargetMob Id="117" /> <!-- Lightning Sprite -->
				<TargetMob Id="115" /> <!-- Wind Sprite -->
				<TargetMob Id="56" /> <!-- Water Sprite -->
			</TargetMobs>
			<MinLevel>64</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="A_Season_for_War">
			<Hotspots>
				<Hotspot Radius="250" XYZ="387.8552, -6.499487, 363.0067" Name="Steppe Dholes" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5776" /> <!-- Steppe Dhole -->
			</TargetMobs>
			<MinLevel>65</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_66">
			<Hotspots>
				<Hotspot Radius="250" XYZ="455.6394, 2.869291, 100.76" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="597.9946, 14.9668, -92.8511" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5780" /> <!-- Purbol -->
                <TargetMob Id="5774" /> <!-- Steppe Gedan -->
				<TargetMob Id="115" /> <!-- Wind Sprite -->
				<TargetMob Id="56" /> <!-- Water Sprite -->
			</TargetMobs>
			<MinLevel>65</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_67">
			<Hotspots>
				<Hotspot Radius="250" XYZ="365.873, -14.689, -726.9066" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5772" /> <!-- Rainbow Tiger -->
				<TargetMob Id="5769" /> <!-- Ebisu Catfish -->
                <TargetMob Id="117" /> <!-- Lightning Sprite -->
				<TargetMob Id="56" /> <!-- Water Sprite -->
			</TargetMobs>
			<MinLevel>66</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_68">
			<Hotspots>
				<Hotspot Radius="250" XYZ="468.349, 40.89669, 329.4955" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="221.8181, 44.31985, 419.7359" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5697" /> <!-- Gazelle -->
				<TargetMob Id="5696" /> <!-- Highland Dhara -->
				<TargetMob Id="5695" /> <!-- Trench Antlion -->
                <TargetMob Id="5694" /> <!-- Tracker Antlion -->
				<TargetMob Id="5693" /> <!-- Teleoceras -->
				<TargetMob Id="113" /> <!-- Earth Sprite -->
			</TargetMobs>
			<MinLevel>67</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_69">
			<Hotspots>
				<Hotspot Radius="250" XYZ="-405.1526, 266.0462, 499.7767" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="-686.4911, 265.7868, 621.1175" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5715" /> <!-- Pantera -->
				<TargetMob Id="5710" /> <!-- Highwing Chapuli -->
				<TargetMob Id="5709" /> <!-- Muud Suud -->
				<TargetMob Id="117" /> <!-- Lightning Sprite -->
			</TargetMobs>
			<MinLevel>68</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
		<GrindArea Name="To_Level_70">
			<Hotspots>
				<Hotspot Radius="250" XYZ="-365.6823, 5.985902, 64.67892" Name="World Mobs" />
				<Hotspot Radius="250" XYZ="-462.957, 6.052887, 246.9928" Name="World Mobs" />
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="5721" /> <!-- Soblyn -->
				<TargetMob Id="5718" /> <!-- Salt Dhara -->
				<TargetMob Id="117" /> <!-- Lightning Sprite -->
				<TargetMob Id="113" /> <!-- Earth Sprite -->
			</TargetMobs>
			<MinLevel>69</MinLevel>
			<MaxLevel>71</MaxLevel>
		</GrindArea>
	</GrindAreas>
</Profile>